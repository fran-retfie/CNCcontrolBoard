ARM GAS  /tmp/ccECQX6D.s 			page 1


   1              		.cpu cortex-m4
   2              		.arch armv7e-m
   3              		.fpu fpv4-sp-d16
   4              		.eabi_attribute 27, 1
   5              		.eabi_attribute 28, 1
   6              		.eabi_attribute 20, 1
   7              		.eabi_attribute 21, 1
   8              		.eabi_attribute 23, 3
   9              		.eabi_attribute 24, 1
  10              		.eabi_attribute 25, 1
  11              		.eabi_attribute 26, 1
  12              		.eabi_attribute 30, 1
  13              		.eabi_attribute 34, 1
  14              		.eabi_attribute 18, 4
  15              		.file	"stm32l4xx_hal_sd.c"
  16              		.text
  17              	.Ltext0:
  18              		.cfi_sections	.debug_frame
  19              		.section	.text.SD_DMATransmitCplt,"ax",%progbits
  20              		.align	1
  21              		.syntax unified
  22              		.thumb
  23              		.thumb_func
  25              	SD_DMATransmitCplt:
  26              	.LVL0:
  27              	.LFB315:
  28              		.file 1 "Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c"
   1:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c **** /**
   2:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****   ******************************************************************************
   3:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****   * @file    stm32l4xx_hal_sd.c
   4:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****   * @author  MCD Application Team
   5:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****   * @brief   SD card HAL module driver.
   6:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****   *          This file provides firmware functions to manage the following
   7:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****   *          functionalities of the Secure Digital (SD) peripheral:
   8:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****   *           + Initialization and de-initialization functions
   9:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****   *           + IO operation functions
  10:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****   *           + Peripheral Control functions
  11:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****   *           + Peripheral State functions
  12:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****   *
  13:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****   ******************************************************************************
  14:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****   * @attention
  15:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****   *
  16:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****   * Copyright (c) 2017 STMicroelectronics.
  17:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****   * All rights reserved.
  18:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****   *
  19:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****   * This software is licensed under terms that can be found in the LICENSE file
  20:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****   * in the root directory of this software component.
  21:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****   * If no LICENSE file comes with this software, it is provided AS-IS.
  22:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****   *
  23:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****   ******************************************************************************
  24:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****   @verbatim
  25:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****   ==============================================================================
  26:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****                         ##### How to use this driver #####
  27:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****   ==============================================================================
  28:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****   [..]
  29:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****     This driver implements a high level communication layer for read and write from/to
  30:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****     this memory. The needed STM32 hardware resources (SDMMC and GPIO) are performed by
ARM GAS  /tmp/ccECQX6D.s 			page 2


  31:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****     the user in HAL_SD_MspInit() function (MSP layer).
  32:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****     Basically, the MSP layer configuration should be the same as we provide in the
  33:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****     examples.
  34:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****     You can easily tailor this configuration according to hardware resources.
  35:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c **** 
  36:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****   [..]
  37:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****     This driver is a generic layered driver for SDMMC memories which uses the HAL
  38:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****     SDMMC driver functions to interface with SD and uSD cards devices.
  39:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****     It is used as follows:
  40:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c **** 
  41:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****     (#)Initialize the SDMMC low level resources by implementing the HAL_SD_MspInit() API:
  42:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****         (##) Call the function HAL_RCCEx_PeriphCLKConfig with RCC_PERIPHCLK_SDMMC1 for
  43:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****         PeriphClockSelection and select SDMMC1 clock source (MSI, main PLL or PLLSAI1)
  44:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****         (##) Enable the SDMMC interface clock using __HAL_RCC_SDMMC1_CLK_ENABLE();
  45:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****         (##) SDMMC pins configuration for SD card
  46:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****             (+++) Enable the clock for the SDMMC GPIOs using the functions __HAL_RCC_GPIOx_CLK_ENAB
  47:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****             (+++) Configure these SDMMC pins as alternate function pull-up using HAL_GPIO_Init()
  48:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****                   and according to your pin assignment;
  49:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****         (##) On STM32L4Rx/STM32L4Sxx devices, no DMA configuration is need, an internal DMA for SDM
  50:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****         (##) On other devices, perform DMA configuration if you need to use DMA process (HAL_SD_Rea
  51:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****              and HAL_SD_WriteBlocks_DMA() APIs).
  52:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****             (+++) Enable the DMAx interface clock using __HAL_RCC_DMAx_CLK_ENABLE();
  53:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****             (+++) Configure the DMA using the function HAL_DMA_Init() with predeclared and filled.
  54:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****         (##) NVIC configuration if you need to use interrupt process when using DMA transfer.
  55:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****             (+++) Configure the SDMMC and DMA interrupt priorities using functions
  56:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****                   HAL_NVIC_SetPriority(); DMA priority is superior to SDMMC's priority
  57:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****             (+++) Enable the NVIC DMA and SDMMC IRQs using function HAL_NVIC_EnableIRQ()
  58:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****             (+++) SDMMC interrupts are managed using the macros __HAL_SD_ENABLE_IT()
  59:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****                   and __HAL_SD_DISABLE_IT() inside the communication process.
  60:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****             (+++) SDMMC interrupts pending bits are managed using the macros __HAL_SD_GET_IT()
  61:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****                   and __HAL_SD_CLEAR_IT()
  62:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****         (##) NVIC configuration if you need to use interrupt process (HAL_SD_ReadBlocks_IT()
  63:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****              and HAL_SD_WriteBlocks_IT() APIs).
  64:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****             (+++) Configure the SDMMC interrupt priorities using function HAL_NVIC_SetPriority();
  65:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****             (+++) Enable the NVIC SDMMC IRQs using function HAL_NVIC_EnableIRQ()
  66:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****             (+++) SDMMC interrupts are managed using the macros __HAL_SD_ENABLE_IT()
  67:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****                   and __HAL_SD_DISABLE_IT() inside the communication process.
  68:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****             (+++) SDMMC interrupts pending bits are managed using the macros __HAL_SD_GET_IT()
  69:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****                   and __HAL_SD_CLEAR_IT()
  70:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****     (#) At this stage, you can perform SD read/write/erase operations after SD card initialization
  71:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c **** 
  72:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c **** 
  73:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****   *** SD Card Initialization and configuration ***
  74:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****   ================================================
  75:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****   [..]
  76:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****     To initialize the SD Card, use the HAL_SD_Init() function. It Initializes
  77:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****     SDMMC Peripheral(STM32 side) and the SD Card, and put it into StandBy State (Ready for data tra
  78:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****     This function provide the following operations:
  79:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c **** 
  80:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****     (#) Apply the SD Card initialization process at 400KHz and check the SD Card
  81:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****         type (Standard Capacity or High Capacity). You can change or adapt this
  82:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****         frequency by adjusting the "ClockDiv" field.
  83:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****         The SD Card frequency (SDMMC_CK) is computed as follows:
  84:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c **** 
  85:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****            SDMMC_CK = SDMMCCLK / (2 * ClockDiv) on STM32L4Rx/STM32L4Sxx devices
  86:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****            SDMMC_CK = SDMMCCLK / (ClockDiv + 2) on other devices
  87:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c **** 
ARM GAS  /tmp/ccECQX6D.s 			page 3


  88:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****         In initialization mode and according to the SD Card standard,
  89:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****         make sure that the SDMMC_CK frequency doesn't exceed 400KHz.
  90:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c **** 
  91:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****         This phase of initialization is done through SDMMC_Init() and
  92:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****         SDMMC_PowerState_ON() SDMMC low level APIs.
  93:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c **** 
  94:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****     (#) Initialize the SD card. The API used is HAL_SD_InitCard().
  95:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****         This phase allows the card initialization and identification
  96:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****         and check the SD Card type (Standard Capacity or High Capacity)
  97:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****         The initialization flow is compatible with SD standard.
  98:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c **** 
  99:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****         This API (HAL_SD_InitCard()) could be used also to reinitialize the card in case
 100:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****         of plug-off plug-in.
 101:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c **** 
 102:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****     (#) Configure the SD Card Data transfer frequency. You can change or adapt this
 103:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****         frequency by adjusting the "ClockDiv" field.
 104:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****         In transfer mode and according to the SD Card standard, make sure that the
 105:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****         SDMMC_CK frequency doesn't exceed 25MHz and 100MHz in High-speed mode switch.
 106:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c **** 
 107:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****     (#) Select the corresponding SD Card according to the address read with the step 2.
 108:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c **** 
 109:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****     (#) Configure the SD Card in wide bus mode: 4-bits data.
 110:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c **** 
 111:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****   *** SD Card Read operation ***
 112:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****   ==============================
 113:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****   [..]
 114:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****     (+) You can read from SD card in polling mode by using function HAL_SD_ReadBlocks().
 115:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****         This function support only 512-bytes block length (the block size should be
 116:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****         chosen as 512 bytes).
 117:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****         You can choose either one block read operation or multiple block read operation
 118:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****         by adjusting the "NumberOfBlocks" parameter.
 119:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****         After this, you have to ensure that the transfer is done correctly. The check is done
 120:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****         through HAL_SD_GetCardState() function for SD card state.
 121:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c **** 
 122:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****     (+) You can read from SD card in DMA mode by using function HAL_SD_ReadBlocks_DMA().
 123:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****         This function support only 512-bytes block length (the block size should be
 124:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****         chosen as 512 bytes).
 125:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****         You can choose either one block read operation or multiple block read operation
 126:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****         by adjusting the "NumberOfBlocks" parameter.
 127:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****         After this, you have to ensure that the transfer is done correctly. The check is done
 128:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****         through HAL_SD_GetCardState() function for SD card state.
 129:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****         You could also check the DMA transfer process through the SD Rx interrupt event.
 130:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c **** 
 131:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****     (+) You can read from SD card in Interrupt mode by using function HAL_SD_ReadBlocks_IT().
 132:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****         This function support only 512-bytes block length (the block size should be
 133:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****         chosen as 512 bytes).
 134:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****         You can choose either one block read operation or multiple block read operation
 135:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****         by adjusting the "NumberOfBlocks" parameter.
 136:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****         After this, you have to ensure that the transfer is done correctly. The check is done
 137:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****         through HAL_SD_GetCardState() function for SD card state.
 138:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****         You could also check the IT transfer process through the SD Rx interrupt event.
 139:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c **** 
 140:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****   *** SD Card Write operation ***
 141:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****   ===============================
 142:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****   [..]
 143:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****     (+) You can write to SD card in polling mode by using function HAL_SD_WriteBlocks().
 144:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****         This function support only 512-bytes block length (the block size should be
ARM GAS  /tmp/ccECQX6D.s 			page 4


 145:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****         chosen as 512 bytes).
 146:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****         You can choose either one block read operation or multiple block read operation
 147:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****         by adjusting the "NumberOfBlocks" parameter.
 148:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****         After this, you have to ensure that the transfer is done correctly. The check is done
 149:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****         through HAL_SD_GetCardState() function for SD card state.
 150:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c **** 
 151:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****     (+) You can write to SD card in DMA mode by using function HAL_SD_WriteBlocks_DMA().
 152:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****         This function support only 512-bytes block length (the block size should be
 153:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****         chosen as 512 bytes).
 154:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****         You can choose either one block read operation or multiple block read operation
 155:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****         by adjusting the "NumberOfBlocks" parameter.
 156:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****         After this, you have to ensure that the transfer is done correctly. The check is done
 157:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****         through HAL_SD_GetCardState() function for SD card state.
 158:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****         You could also check the DMA transfer process through the SD Tx interrupt event.
 159:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c **** 
 160:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****     (+) You can write to SD card in Interrupt mode by using function HAL_SD_WriteBlocks_IT().
 161:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****         This function support only 512-bytes block length (the block size should be
 162:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****         chosen as 512 bytes).
 163:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****         You can choose either one block read operation or multiple block read operation
 164:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****         by adjusting the "NumberOfBlocks" parameter.
 165:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****         After this, you have to ensure that the transfer is done correctly. The check is done
 166:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****         through HAL_SD_GetCardState() function for SD card state.
 167:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****         You could also check the IT transfer process through the SD Tx interrupt event.
 168:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c **** 
 169:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****   *** SD card status ***
 170:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****   ======================
 171:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****   [..]
 172:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****     (+) The SD Status contains status bits that are related to the SD Memory
 173:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****         Card proprietary features. To get SD card status use the HAL_SD_GetCardStatus().
 174:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c **** 
 175:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****   *** SD card information ***
 176:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****   ===========================
 177:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****   [..]
 178:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****     (+) To get SD card information, you can use the function HAL_SD_GetCardInfo().
 179:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****         It returns useful information about the SD card such as block size, card type,
 180:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****         block number ...
 181:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c **** 
 182:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****   *** SD card CSD register ***
 183:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****   ============================
 184:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****     (+) The HAL_SD_GetCardCSD() API allows to get the parameters of the CSD register.
 185:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****         Some of the CSD parameters are useful for card initialization and identification.
 186:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c **** 
 187:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****   *** SD card CID register ***
 188:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****   ============================
 189:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****     (+) The HAL_SD_GetCardCID() API allows to get the parameters of the CID register.
 190:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****         Some of the CSD parameters are useful for card initialization and identification.
 191:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c **** 
 192:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****   *** SD HAL driver macros list ***
 193:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****   ==================================
 194:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****   [..]
 195:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****     Below the list of most used macros in SD HAL driver.
 196:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c **** 
 197:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****     (+) __HAL_SD_ENABLE : Enable the SD device
 198:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****     (+) __HAL_SD_DISABLE : Disable the SD device
 199:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****     (+) __HAL_SD_DMA_ENABLE: Enable the SDMMC DMA transfer
 200:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****     (+) __HAL_SD_DMA_DISABLE: Disable the SDMMC DMA transfer
 201:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****     (+) __HAL_SD_ENABLE_IT: Enable the SD device interrupt
ARM GAS  /tmp/ccECQX6D.s 			page 5


 202:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****     (+) __HAL_SD_DISABLE_IT: Disable the SD device interrupt
 203:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****     (+) __HAL_SD_GET_FLAG:Check whether the specified SD flag is set or not
 204:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****     (+) __HAL_SD_CLEAR_FLAG: Clear the SD's pending flags
 205:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c **** 
 206:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****     (@) You can refer to the SD HAL driver header file for more useful macros
 207:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c **** 
 208:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****   *** Callback registration ***
 209:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****   =============================================
 210:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****   [..]
 211:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****     The compilation define USE_HAL_SD_REGISTER_CALLBACKS when set to 1
 212:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****     allows the user to configure dynamically the driver callbacks.
 213:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c **** 
 214:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****     Use Functions HAL_SD_RegisterCallback() to register a user callback,
 215:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****     it allows to register following callbacks:
 216:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****       (+) TxCpltCallback : callback when a transmission transfer is completed.
 217:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****       (+) RxCpltCallback : callback when a reception transfer is completed.
 218:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****       (+) ErrorCallback : callback when error occurs.
 219:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****       (+) AbortCpltCallback : callback when abort is completed.
 220:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****       (+) Read_DMADblBuf0CpltCallback : callback when the DMA reception of first buffer is complete
 221:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****       (+) Read_DMADblBuf1CpltCallback : callback when the DMA reception of second buffer is complet
 222:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****       (+) Write_DMADblBuf0CpltCallback : callback when the DMA transmission of first buffer is comp
 223:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****       (+) Write_DMADblBuf1CpltCallback : callback when the DMA transmission of second buffer is com
 224:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****       (+) MspInitCallback    : SD MspInit.
 225:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****       (+) MspDeInitCallback  : SD MspDeInit.
 226:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****     This function takes as parameters the HAL peripheral handle, the Callback ID
 227:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****     and a pointer to the user callback function.
 228:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****     For specific callbacks TransceiverCallback use dedicated register callbacks:
 229:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****     respectively HAL_SD_RegisterTransceiverCallback().
 230:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c **** 
 231:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****     Use function HAL_SD_UnRegisterCallback() to reset a callback to the default
 232:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****     weak (surcharged) function. It allows to reset following callbacks:
 233:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****       (+) TxCpltCallback : callback when a transmission transfer is completed.
 234:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****       (+) RxCpltCallback : callback when a reception transfer is completed.
 235:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****       (+) ErrorCallback : callback when error occurs.
 236:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****       (+) AbortCpltCallback : callback when abort is completed.
 237:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****       (+) Read_DMADblBuf0CpltCallback : callback when the DMA reception of first buffer is complete
 238:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****       (+) Read_DMADblBuf1CpltCallback : callback when the DMA reception of second buffer is complet
 239:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****       (+) Write_DMADblBuf0CpltCallback : callback when the DMA transmission of first buffer is comp
 240:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****       (+) Write_DMADblBuf1CpltCallback : callback when the DMA transmission of second buffer is com
 241:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****       (+) MspInitCallback    : SD MspInit.
 242:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****       (+) MspDeInitCallback  : SD MspDeInit.
 243:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****     This function) takes as parameters the HAL peripheral handle and the Callback ID.
 244:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****     For specific callbacks TransceiverCallback use dedicated unregister callbacks:
 245:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****     respectively HAL_SD_UnRegisterTransceiverCallback().
 246:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c **** 
 247:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****     By default, after the HAL_SD_Init and if the state is HAL_SD_STATE_RESET
 248:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****     all callbacks are reset to the corresponding legacy weak (surcharged) functions.
 249:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****     Exception done for MspInit and MspDeInit callbacks that are respectively
 250:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****     reset to the legacy weak (surcharged) functions in the HAL_SD_Init
 251:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****     and HAL_SD_DeInit only when these callbacks are null (not registered beforehand).
 252:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****     If not, MspInit or MspDeInit are not null, the HAL_SD_Init and HAL_SD_DeInit
 253:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****     keep and use the user MspInit/MspDeInit callbacks (registered beforehand)
 254:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c **** 
 255:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****     Callbacks can be registered/unregistered in READY state only.
 256:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****     Exception done for MspInit/MspDeInit callbacks that can be registered/unregistered
 257:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****     in READY or RESET state, thus registered (user) MspInit/DeInit callbacks can be used
 258:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****     during the Init/DeInit.
ARM GAS  /tmp/ccECQX6D.s 			page 6


 259:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****     In that case first register the MspInit/MspDeInit user callbacks
 260:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****     using HAL_SD_RegisterCallback before calling HAL_SD_DeInit
 261:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****     or HAL_SD_Init function.
 262:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c **** 
 263:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****     When The compilation define USE_HAL_SD_REGISTER_CALLBACKS is set to 0 or
 264:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****     not defined, the callback registering feature is not available
 265:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****     and weak (surcharged) callbacks are used.
 266:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c **** 
 267:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****   @endverbatim
 268:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****   ******************************************************************************
 269:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****   */
 270:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c **** 
 271:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c **** /* Includes ------------------------------------------------------------------*/
 272:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c **** #include "stm32l4xx_hal.h"
 273:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c **** 
 274:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c **** #if defined(SDMMC1)
 275:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c **** 
 276:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c **** /** @addtogroup STM32L4xx_HAL_Driver
 277:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****   * @{
 278:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****   */
 279:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c **** 
 280:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c **** /** @addtogroup SD
 281:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****   * @{
 282:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****   */
 283:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c **** 
 284:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c **** #ifdef HAL_SD_MODULE_ENABLED
 285:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c **** 
 286:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c **** /* Private typedef -----------------------------------------------------------*/
 287:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c **** /* Private define ------------------------------------------------------------*/
 288:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c **** /** @addtogroup SD_Private_Defines
 289:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****   * @{
 290:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****   */
 291:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c **** /* Frequencies used in the driver for clock divider calculation */
 292:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c **** #define SD_INIT_FREQ                   400000U   /* Initialization phase : 400 kHz max */
 293:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c **** #define SD_NORMAL_SPEED_FREQ           25000000U /* Normal speed phase : 25 MHz max */
 294:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c **** #define SD_HIGH_SPEED_FREQ             50000000U /* High speed phase : 50 MHz max */
 295:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c **** /**
 296:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****   * @}
 297:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****   */
 298:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c **** 
 299:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c **** /* Private macro -------------------------------------------------------------*/
 300:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c **** /* Private variables ---------------------------------------------------------*/
 301:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c **** /* Private function prototypes -----------------------------------------------*/
 302:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c **** /* Private functions ---------------------------------------------------------*/
 303:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c **** /** @defgroup SD_Private_Functions SD Private Functions
 304:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****   * @{
 305:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****   */
 306:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c **** static uint32_t SD_InitCard       (SD_HandleTypeDef *hsd);
 307:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c **** static uint32_t SD_PowerON        (SD_HandleTypeDef *hsd);
 308:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c **** static uint32_t SD_SendSDStatus   (SD_HandleTypeDef *hsd, uint32_t *pSDstatus);
 309:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c **** static uint32_t SD_SendStatus     (SD_HandleTypeDef *hsd, uint32_t *pCardStatus);
 310:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c **** static uint32_t SD_WideBus_Enable (SD_HandleTypeDef *hsd);
 311:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c **** static uint32_t SD_WideBus_Disable(SD_HandleTypeDef *hsd);
 312:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c **** static uint32_t SD_FindSCR        (SD_HandleTypeDef *hsd, uint32_t *pSCR);
 313:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c **** static void     SD_PowerOFF       (SD_HandleTypeDef *hsd);
 314:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c **** static void     SD_Write_IT       (SD_HandleTypeDef *hsd);
 315:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c **** static void     SD_Read_IT        (SD_HandleTypeDef *hsd);
ARM GAS  /tmp/ccECQX6D.s 			page 7


 316:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c **** #if !defined(STM32L4P5xx) && !defined(STM32L4Q5xx) && !defined(STM32L4R5xx) && !defined(STM32L4R7xx
 317:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c **** static void     SD_DMATransmitCplt(DMA_HandleTypeDef *hdma);
 318:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c **** static void     SD_DMAReceiveCplt (DMA_HandleTypeDef *hdma);
 319:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c **** static void     SD_DMAError       (DMA_HandleTypeDef *hdma);
 320:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c **** static void     SD_DMATxAbort     (DMA_HandleTypeDef *hdma);
 321:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c **** static void     SD_DMARxAbort     (DMA_HandleTypeDef *hdma);
 322:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c **** #else
 323:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c **** uint32_t        SD_HighSpeed      (SD_HandleTypeDef *hsd);
 324:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c **** static uint32_t SD_UltraHighSpeed (SD_HandleTypeDef *hsd);
 325:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c **** static uint32_t SD_DDR_Mode       (SD_HandleTypeDef *hsd);
 326:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c **** #endif /* !STM32L4P5xx && !STM32L4Q5xx && !STM32L4R5xx && !STM32L4R7xx && !STM32L4R9xx && !STM32L4S
 327:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c **** /**
 328:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****   * @}
 329:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****   */
 330:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c **** 
 331:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c **** /* Exported functions --------------------------------------------------------*/
 332:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c **** /** @addtogroup SD_Exported_Functions
 333:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****   * @{
 334:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****   */
 335:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c **** 
 336:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c **** /** @addtogroup SD_Exported_Functions_Group1
 337:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****  *  @brief   Initialization and de-initialization functions
 338:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****  *
 339:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c **** @verbatim
 340:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****   ==============================================================================
 341:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****           ##### Initialization and de-initialization functions #####
 342:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****   ==============================================================================
 343:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****   [..]
 344:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****     This section provides functions allowing to initialize/de-initialize the SD
 345:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****     card device to be ready for use.
 346:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c **** 
 347:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c **** @endverbatim
 348:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****   * @{
 349:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****   */
 350:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c **** 
 351:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c **** /**
 352:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****   * @brief  Initializes the SD according to the specified parameters in the
 353:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****             SD_HandleTypeDef and create the associated handle.
 354:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****   * @param  hsd Pointer to the SD handle
 355:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****   * @retval HAL status
 356:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****   */
 357:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c **** HAL_StatusTypeDef HAL_SD_Init(SD_HandleTypeDef *hsd)
 358:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c **** {
 359:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c **** #if defined(STM32L4P5xx) || defined(STM32L4Q5xx) || defined(STM32L4R5xx) || defined(STM32L4R7xx) ||
 360:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****   HAL_SD_CardStatusTypeDef CardStatus;
 361:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****   uint32_t speedgrade, unitsize;
 362:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****   uint32_t tickstart;
 363:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c **** #endif
 364:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c **** 
 365:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****   /* Check the SD handle allocation */
 366:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****   if(hsd == NULL)
 367:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****   {
 368:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****     return HAL_ERROR;
 369:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****   }
 370:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c **** 
 371:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****   /* Check the parameters */
 372:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****   assert_param(IS_SDMMC_ALL_INSTANCE(hsd->Instance));
ARM GAS  /tmp/ccECQX6D.s 			page 8


 373:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****   assert_param(IS_SDMMC_CLOCK_EDGE(hsd->Init.ClockEdge));
 374:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c **** #if !defined(STM32L4P5xx) && !defined(STM32L4Q5xx) && !defined(STM32L4R5xx) && !defined(STM32L4R7xx
 375:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****   assert_param(IS_SDMMC_CLOCK_BYPASS(hsd->Init.ClockBypass));
 376:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c **** #endif /* !STM32L4P5xx && !STM32L4Q5xx && !STM32L4R5xx && !STM32L4R7xx && !STM32L4R9xx && !STM32L4S
 377:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****   assert_param(IS_SDMMC_CLOCK_POWER_SAVE(hsd->Init.ClockPowerSave));
 378:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****   assert_param(IS_SDMMC_BUS_WIDE(hsd->Init.BusWide));
 379:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****   assert_param(IS_SDMMC_HARDWARE_FLOW_CONTROL(hsd->Init.HardwareFlowControl));
 380:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****   assert_param(IS_SDMMC_CLKDIV(hsd->Init.ClockDiv));
 381:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c **** 
 382:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****   if(hsd->State == HAL_SD_STATE_RESET)
 383:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****   {
 384:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****     /* Allocate lock resource and initialize it */
 385:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****     hsd->Lock = HAL_UNLOCKED;
 386:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c **** #if defined (USE_HAL_SD_REGISTER_CALLBACKS) && (USE_HAL_SD_REGISTER_CALLBACKS == 1U)
 387:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****     /* Reset Callback pointers in HAL_SD_STATE_RESET only */
 388:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****     hsd->TxCpltCallback    = HAL_SD_TxCpltCallback;
 389:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****     hsd->RxCpltCallback    = HAL_SD_RxCpltCallback;
 390:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****     hsd->ErrorCallback     = HAL_SD_ErrorCallback;
 391:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****     hsd->AbortCpltCallback = HAL_SD_AbortCallback;
 392:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c **** #if defined(STM32L4P5xx) || defined(STM32L4Q5xx) || defined(STM32L4R5xx) || defined(STM32L4R7xx) ||
 393:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****     hsd->Read_DMADblBuf0CpltCallback = HAL_SDEx_Read_DMADoubleBuffer0CpltCallback;
 394:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****     hsd->Read_DMADblBuf1CpltCallback = HAL_SDEx_Read_DMADoubleBuffer1CpltCallback;
 395:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****     hsd->Write_DMADblBuf0CpltCallback = HAL_SDEx_Write_DMADoubleBuffer0CpltCallback;
 396:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****     hsd->Write_DMADblBuf1CpltCallback = HAL_SDEx_Write_DMADoubleBuffer1CpltCallback;
 397:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****     hsd->DriveTransceiver_1_8V_Callback = HAL_SDEx_DriveTransceiver_1_8V_Callback;
 398:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c **** #endif
 399:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c **** 
 400:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****     if(hsd->MspInitCallback == NULL)
 401:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****     {
 402:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****       hsd->MspInitCallback = HAL_SD_MspInit;
 403:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****     }
 404:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c **** 
 405:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****     /* Init the low level hardware */
 406:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****     hsd->MspInitCallback(hsd);
 407:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c **** #else
 408:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****     /* Init the low level hardware : GPIO, CLOCK, CORTEX...etc */
 409:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****     HAL_SD_MspInit(hsd);
 410:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c **** #endif /* USE_HAL_SD_REGISTER_CALLBACKS */
 411:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****   }
 412:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c **** 
 413:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****   hsd->State = HAL_SD_STATE_BUSY;
 414:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c **** 
 415:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****   /* Initialize the Card parameters */
 416:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****   if (HAL_SD_InitCard(hsd) != HAL_OK)
 417:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****   {
 418:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****     return HAL_ERROR;
 419:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****   }
 420:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c **** 
 421:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c **** #if defined(STM32L4P5xx) || defined(STM32L4Q5xx) || defined(STM32L4R5xx) || defined(STM32L4R7xx) ||
 422:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****   if( HAL_SD_GetCardStatus(hsd, &CardStatus) != HAL_OK)
 423:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****   {
 424:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****     return HAL_ERROR;
 425:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****   }
 426:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****   /* Get Initial Card Speed from Card Status*/
 427:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****   speedgrade = CardStatus.UhsSpeedGrade;
 428:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****   unitsize = CardStatus.UhsAllocationUnitSize;
 429:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****   if ((hsd->SdCard.CardType == CARD_SDHC_SDXC) && ((speedgrade != 0U) || (unitsize != 0U)))
ARM GAS  /tmp/ccECQX6D.s 			page 9


 430:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****   {
 431:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****     hsd->SdCard.CardSpeed = CARD_ULTRA_HIGH_SPEED;
 432:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****   }
 433:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****   else
 434:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****   {
 435:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****     if (hsd->SdCard.CardType == CARD_SDHC_SDXC)
 436:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****     {
 437:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****       hsd->SdCard.CardSpeed  = CARD_HIGH_SPEED;
 438:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****     }
 439:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****     else
 440:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****     {
 441:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****       hsd->SdCard.CardSpeed  = CARD_NORMAL_SPEED;
 442:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****     }
 443:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c **** 
 444:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****   }
 445:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****   /* Configure the bus wide */
 446:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****   if(HAL_SD_ConfigWideBusOperation(hsd, hsd->Init.BusWide) != HAL_OK)
 447:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****   {
 448:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****     return HAL_ERROR;
 449:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****   }
 450:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c **** 
 451:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****   /* Verify that SD card is ready to use after Initialization */
 452:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****   tickstart = HAL_GetTick();
 453:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****   while((HAL_SD_GetCardState(hsd) != HAL_SD_CARD_TRANSFER))
 454:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****   {
 455:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****     if((HAL_GetTick()-tickstart) >=  SDMMC_DATATIMEOUT)
 456:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****     {
 457:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****       hsd->ErrorCode = HAL_SD_ERROR_TIMEOUT;
 458:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****       hsd->State= HAL_SD_STATE_READY;
 459:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****       hsd->Context = SD_CONTEXT_NONE;
 460:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****       return HAL_TIMEOUT;
 461:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****     }
 462:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****   }
 463:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c **** #endif /* STM32L4P5xx || STM32L4Q5xx || STM32L4R5xx || STM32L4R7xx || STM32L4R9xx || STM32L4S5xx ||
 464:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c **** 
 465:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****   /* Initialize the error code */
 466:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****   hsd->ErrorCode = HAL_SD_ERROR_NONE;
 467:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c **** 
 468:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****   /* Initialize the SD operation */
 469:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****   hsd->Context = SD_CONTEXT_NONE;
 470:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c **** 
 471:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****   /* Initialize the SD state */
 472:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****   hsd->State = HAL_SD_STATE_READY;
 473:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c **** 
 474:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****   return HAL_OK;
 475:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c **** }
 476:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c **** 
 477:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c **** /**
 478:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****   * @brief  Initializes the SD Card.
 479:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****   * @param  hsd Pointer to SD handle
 480:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****   * @note   This function initializes the SD card. It could be used when a card
 481:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****             re-initialization is needed.
 482:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****   * @retval HAL status
 483:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****   */
 484:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c **** HAL_StatusTypeDef HAL_SD_InitCard(SD_HandleTypeDef *hsd)
 485:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c **** {
 486:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****   uint32_t errorstate;
ARM GAS  /tmp/ccECQX6D.s 			page 10


 487:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****   SD_InitTypeDef Init;
 488:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****   uint32_t sdmmc_clk;
 489:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c **** 
 490:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****   /* Default SDMMC peripheral configuration for SD card initialization */
 491:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****   Init.ClockEdge           = SDMMC_CLOCK_EDGE_RISING;
 492:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c **** #if !defined(STM32L4P5xx) && !defined(STM32L4Q5xx) && !defined(STM32L4R5xx) && !defined(STM32L4R7xx
 493:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****   Init.ClockBypass         = SDMMC_CLOCK_BYPASS_DISABLE;
 494:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c **** #endif /* !STM32L4P5xx && !STM32L4Q5xx && !STM32L4R5xx && !STM32L4R7xx && !STM32L4R9xx && !STM32L4S
 495:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****   Init.ClockPowerSave      = SDMMC_CLOCK_POWER_SAVE_DISABLE;
 496:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****   Init.BusWide             = SDMMC_BUS_WIDE_1B;
 497:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****   Init.HardwareFlowControl = SDMMC_HARDWARE_FLOW_CONTROL_DISABLE;
 498:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c **** 
 499:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****   /* Init Clock should be less or equal to 400Khz*/
 500:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****   sdmmc_clk = HAL_RCCEx_GetPeriphCLKFreq(RCC_PERIPHCLK_SDMMC1);
 501:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****   if (sdmmc_clk == 0U)
 502:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****   {
 503:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****       hsd->State = HAL_SD_STATE_READY;
 504:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****       hsd->ErrorCode = SDMMC_ERROR_INVALID_PARAMETER;
 505:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****       return HAL_ERROR;
 506:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****   }
 507:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c **** #if !defined(STM32L4P5xx) && !defined(STM32L4Q5xx) && !defined(STM32L4R5xx) && !defined(STM32L4R7xx
 508:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****   Init.ClockDiv = ((sdmmc_clk / SD_INIT_FREQ) - 2U);
 509:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c **** #else
 510:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****   Init.ClockDiv = sdmmc_clk / (2U * SD_INIT_FREQ);
 511:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c **** #endif
 512:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c **** 
 513:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c **** #if defined(STM32L4P5xx) || defined(STM32L4Q5xx) || defined(STM32L4R5xx) || defined(STM32L4R7xx) ||
 514:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****   Init.Transceiver = hsd->Init.Transceiver;
 515:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****   if(hsd->Init.Transceiver == SDMMC_TRANSCEIVER_ENABLE)
 516:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****   {
 517:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****     /* Set Transceiver polarity */
 518:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****     hsd->Instance->POWER |= SDMMC_POWER_DIRPOL;
 519:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****   }
 520:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c **** #endif /* STM32L4P5xx || STM32L4Q5xx || STM32L4R5xx || STM32L4R7xx || STM32L4R9xx || STM32L4S5xx ||
 521:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c **** 
 522:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****   /* Initialize SDMMC peripheral interface with default configuration */
 523:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****   (void)SDMMC_Init(hsd->Instance, Init);
 524:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c **** 
 525:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c **** #if !defined(STM32L4P5xx) && !defined(STM32L4Q5xx) && !defined(STM32L4R5xx) && !defined(STM32L4R7xx
 526:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****   /* Disable SDMMC Clock */
 527:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****   __HAL_SD_DISABLE(hsd);
 528:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c **** #endif /* !STM32L4P5xx && !STM32L4Q5xx && !STM32L4R5xx && !STM32L4R7xx && !STM32L4R9xx && !STM32L4S
 529:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c **** 
 530:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****   /* Set Power State to ON */
 531:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****   (void)SDMMC_PowerState_ON(hsd->Instance);
 532:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c **** 
 533:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c **** #if !defined(STM32L4P5xx) && !defined(STM32L4Q5xx) && !defined(STM32L4R5xx) && !defined(STM32L4R7xx
 534:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****   /* Enable SDMMC Clock */
 535:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****   __HAL_SD_ENABLE(hsd);
 536:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c **** #endif /* !STM32L4P5xx && !STM32L4Q5xx && !STM32L4R5xx && !STM32L4R7xx && !STM32L4R9xx && !STM32L4S
 537:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c **** 
 538:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****   /* wait 74 Cycles: required power up waiting time before starting
 539:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****      the SD initialization sequence */
 540:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c **** #if !defined(STM32L4P5xx) && !defined(STM32L4Q5xx) && !defined(STM32L4R5xx) && !defined(STM32L4R7xx
 541:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****   sdmmc_clk = sdmmc_clk/(Init.ClockDiv + 2U);
 542:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c **** #else
 543:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****   sdmmc_clk = sdmmc_clk/(2U*Init.ClockDiv);
ARM GAS  /tmp/ccECQX6D.s 			page 11


 544:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c **** #endif
 545:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****   HAL_Delay(1U+ (74U*1000U/(sdmmc_clk)));
 546:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c **** 
 547:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****   /* Identify card operating voltage */
 548:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****   errorstate = SD_PowerON(hsd);
 549:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****   if(errorstate != HAL_SD_ERROR_NONE)
 550:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****   {
 551:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****     hsd->State = HAL_SD_STATE_READY;
 552:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****     hsd->ErrorCode |= errorstate;
 553:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****     return HAL_ERROR;
 554:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****   }
 555:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c **** 
 556:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****   /* Card initialization */
 557:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****   errorstate = SD_InitCard(hsd);
 558:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****   if(errorstate != HAL_SD_ERROR_NONE)
 559:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****   {
 560:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****     hsd->State = HAL_SD_STATE_READY;
 561:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****     hsd->ErrorCode |= errorstate;
 562:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****     return HAL_ERROR;
 563:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****   }
 564:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c **** 
 565:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****   /* Set Block Size for Card */
 566:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****   errorstate = SDMMC_CmdBlockLength(hsd->Instance, BLOCKSIZE);
 567:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****   if(errorstate != HAL_SD_ERROR_NONE)
 568:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****   {
 569:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****     /* Clear all the static flags */
 570:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****     __HAL_SD_CLEAR_FLAG(hsd, SDMMC_STATIC_FLAGS);
 571:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****     hsd->ErrorCode |= errorstate;
 572:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****     hsd->State = HAL_SD_STATE_READY;
 573:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****     return HAL_ERROR;
 574:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****   }
 575:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c **** 
 576:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****   return HAL_OK;
 577:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c **** }
 578:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c **** 
 579:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c **** /**
 580:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****   * @brief  De-Initializes the SD card.
 581:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****   * @param  hsd Pointer to SD handle
 582:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****   * @retval HAL status
 583:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****   */
 584:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c **** HAL_StatusTypeDef HAL_SD_DeInit(SD_HandleTypeDef *hsd)
 585:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c **** {
 586:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****   /* Check the SD handle allocation */
 587:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****   if(hsd == NULL)
 588:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****   {
 589:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****     return HAL_ERROR;
 590:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****   }
 591:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c **** 
 592:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****   /* Check the parameters */
 593:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****   assert_param(IS_SDMMC_ALL_INSTANCE(hsd->Instance));
 594:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c **** 
 595:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****   hsd->State = HAL_SD_STATE_BUSY;
 596:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c **** 
 597:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c **** #if defined(STM32L4P5xx) || defined(STM32L4Q5xx) || defined(STM32L4R5xx) || defined(STM32L4R7xx) ||
 598:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****   /* Deactivate the 1.8V Mode */
 599:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****   if(hsd->Init.Transceiver == SDMMC_TRANSCEIVER_ENABLE)
 600:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****   {
ARM GAS  /tmp/ccECQX6D.s 			page 12


 601:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c **** #if defined (USE_HAL_SD_REGISTER_CALLBACKS) && (USE_HAL_SD_REGISTER_CALLBACKS == 1U)
 602:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****     if(hsd->DriveTransceiver_1_8V_Callback == NULL)
 603:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****     {
 604:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****       hsd->DriveTransceiver_1_8V_Callback = HAL_SDEx_DriveTransceiver_1_8V_Callback;
 605:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****     }
 606:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****     hsd->DriveTransceiver_1_8V_Callback(RESET);
 607:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c **** #else
 608:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****     HAL_SDEx_DriveTransceiver_1_8V_Callback(RESET);
 609:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c **** #endif /* USE_HAL_SD_REGISTER_CALLBACKS */
 610:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****   }
 611:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c **** #endif
 612:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c **** 
 613:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****   /* Set SD power state to off */
 614:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****   SD_PowerOFF(hsd);
 615:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c **** 
 616:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c **** #if defined (USE_HAL_SD_REGISTER_CALLBACKS) && (USE_HAL_SD_REGISTER_CALLBACKS == 1U)
 617:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****   if(hsd->MspDeInitCallback == NULL)
 618:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****   {
 619:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****     hsd->MspDeInitCallback = HAL_SD_MspDeInit;
 620:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****   }
 621:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c **** 
 622:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****   /* DeInit the low level hardware */
 623:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****   hsd->MspDeInitCallback(hsd);
 624:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c **** #else
 625:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****   /* De-Initialize the MSP layer */
 626:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****   HAL_SD_MspDeInit(hsd);
 627:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c **** #endif /* USE_HAL_SD_REGISTER_CALLBACKS */
 628:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c **** 
 629:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****   hsd->ErrorCode = HAL_SD_ERROR_NONE;
 630:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****   hsd->State = HAL_SD_STATE_RESET;
 631:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c **** 
 632:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****   return HAL_OK;
 633:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c **** }
 634:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c **** 
 635:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c **** 
 636:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c **** /**
 637:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****   * @brief  Initializes the SD MSP.
 638:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****   * @param  hsd Pointer to SD handle
 639:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****   * @retval None
 640:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****   */
 641:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c **** __weak void HAL_SD_MspInit(SD_HandleTypeDef *hsd)
 642:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c **** {
 643:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****   /* Prevent unused argument(s) compilation warning */
 644:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****   UNUSED(hsd);
 645:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c **** 
 646:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****   /* NOTE : This function should not be modified, when the callback is needed,
 647:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****             the HAL_SD_MspInit could be implemented in the user file
 648:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****    */
 649:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c **** }
 650:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c **** 
 651:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c **** /**
 652:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****   * @brief  De-Initialize SD MSP.
 653:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****   * @param  hsd Pointer to SD handle
 654:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****   * @retval None
 655:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****   */
 656:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c **** __weak void HAL_SD_MspDeInit(SD_HandleTypeDef *hsd)
 657:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c **** {
ARM GAS  /tmp/ccECQX6D.s 			page 13


 658:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****   /* Prevent unused argument(s) compilation warning */
 659:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****   UNUSED(hsd);
 660:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c **** 
 661:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****   /* NOTE : This function should not be modified, when the callback is needed,
 662:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****             the HAL_SD_MspDeInit could be implemented in the user file
 663:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****    */
 664:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c **** }
 665:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c **** 
 666:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c **** /**
 667:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****   * @}
 668:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****   */
 669:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c **** 
 670:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c **** /** @addtogroup SD_Exported_Functions_Group2
 671:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****  *  @brief   Data transfer functions
 672:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****  *
 673:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c **** @verbatim
 674:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****   ==============================================================================
 675:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****                         ##### IO operation functions #####
 676:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****   ==============================================================================
 677:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****   [..]
 678:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****     This subsection provides a set of functions allowing to manage the data
 679:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****     transfer from/to SD card.
 680:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c **** 
 681:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c **** @endverbatim
 682:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****   * @{
 683:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****   */
 684:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c **** 
 685:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c **** /**
 686:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****   * @brief  Reads block(s) from a specified address in a card. The Data transfer
 687:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****   *         is managed by polling mode.
 688:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****   * @note   This API should be followed by a check on the card state through
 689:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****   *         HAL_SD_GetCardState().
 690:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****   * @param  hsd Pointer to SD handle
 691:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****   * @param  pData pointer to the buffer that will contain the received data
 692:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****   * @param  BlockAdd Block Address from where data is to be read
 693:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****   * @param  NumberOfBlocks Number of SD blocks to read
 694:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****   * @param  Timeout Specify timeout value
 695:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****   * @retval HAL status
 696:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****   */
 697:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c **** HAL_StatusTypeDef HAL_SD_ReadBlocks(SD_HandleTypeDef *hsd, uint8_t *pData, uint32_t BlockAdd, uint3
 698:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c **** {
 699:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****   SDMMC_DataInitTypeDef config;
 700:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****   uint32_t errorstate;
 701:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****   uint32_t tickstart = HAL_GetTick();
 702:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****   uint32_t count, data, dataremaining;
 703:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****   uint32_t add = BlockAdd;
 704:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****   uint8_t *tempbuff = pData;
 705:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c **** 
 706:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****   if(NULL == pData)
 707:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****   {
 708:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****     hsd->ErrorCode |= HAL_SD_ERROR_PARAM;
 709:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****     return HAL_ERROR;
 710:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****   }
 711:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c **** 
 712:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****   if(hsd->State == HAL_SD_STATE_READY)
 713:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****   {
 714:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****     hsd->ErrorCode = HAL_SD_ERROR_NONE;
ARM GAS  /tmp/ccECQX6D.s 			page 14


 715:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c **** 
 716:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****     if((add + NumberOfBlocks) > (hsd->SdCard.LogBlockNbr))
 717:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****     {
 718:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****       hsd->ErrorCode |= HAL_SD_ERROR_ADDR_OUT_OF_RANGE;
 719:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****       return HAL_ERROR;
 720:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****     }
 721:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c **** 
 722:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****     hsd->State = HAL_SD_STATE_BUSY;
 723:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c **** 
 724:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****     /* Initialize data control register */
 725:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****     hsd->Instance->DCTRL = 0U;
 726:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c **** 
 727:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****     if(hsd->SdCard.CardType != CARD_SDHC_SDXC)
 728:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****     {
 729:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****       add *= 512U;
 730:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****     }
 731:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c **** 
 732:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****     /* Configure the SD DPSM (Data Path State Machine) */
 733:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****     config.DataTimeOut   = SDMMC_DATATIMEOUT;
 734:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****     config.DataLength    = NumberOfBlocks * BLOCKSIZE;
 735:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****     config.DataBlockSize = SDMMC_DATABLOCK_SIZE_512B;
 736:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****     config.TransferDir   = SDMMC_TRANSFER_DIR_TO_SDMMC;
 737:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****     config.TransferMode  = SDMMC_TRANSFER_MODE_BLOCK;
 738:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c **** #if defined(STM32L4P5xx) || defined(STM32L4Q5xx) || defined(STM32L4R5xx) || defined(STM32L4R7xx) ||
 739:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****     config.DPSM          = SDMMC_DPSM_DISABLE;
 740:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c **** #else
 741:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****     config.DPSM          = SDMMC_DPSM_ENABLE;
 742:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c **** #endif /* STM32L4P5xx || STM32L4Q5xx || STM32L4R5xx || STM32L4R7xx || STM32L4R9xx || STM32L4S5xx ||
 743:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****     (void)SDMMC_ConfigData(hsd->Instance, &config);
 744:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c **** #if defined(STM32L4P5xx) || defined(STM32L4Q5xx) || defined(STM32L4R5xx) || defined(STM32L4R7xx) ||
 745:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****     __SDMMC_CMDTRANS_ENABLE( hsd->Instance);
 746:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c **** #endif /* STM32L4P5xx || STM32L4Q5xx || STM32L4R5xx || STM32L4R7xx || STM32L4R9xx || STM32L4S5xx ||
 747:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c **** 
 748:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****     /* Read block(s) in polling mode */
 749:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****     if(NumberOfBlocks > 1U)
 750:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****     {
 751:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****       hsd->Context = SD_CONTEXT_READ_MULTIPLE_BLOCK;
 752:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c **** 
 753:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****       /* Read Multi Block command */
 754:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****       errorstate = SDMMC_CmdReadMultiBlock(hsd->Instance, add);
 755:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****     }
 756:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****     else
 757:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****     {
 758:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****       hsd->Context = SD_CONTEXT_READ_SINGLE_BLOCK;
 759:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c **** 
 760:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****       /* Read Single Block command */
 761:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****       errorstate = SDMMC_CmdReadSingleBlock(hsd->Instance, add);
 762:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****     }
 763:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****     if(errorstate != HAL_SD_ERROR_NONE)
 764:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****     {
 765:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****       /* Clear all the static flags */
 766:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****       __HAL_SD_CLEAR_FLAG(hsd, SDMMC_STATIC_FLAGS);
 767:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****       hsd->ErrorCode |= errorstate;
 768:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****       hsd->State = HAL_SD_STATE_READY;
 769:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****       hsd->Context = SD_CONTEXT_NONE;
 770:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****       return HAL_ERROR;
 771:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****     }
ARM GAS  /tmp/ccECQX6D.s 			page 15


 772:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c **** 
 773:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****     /* Poll on SDMMC flags */
 774:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****     dataremaining = config.DataLength;
 775:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****     while(!__HAL_SD_GET_FLAG(hsd, SDMMC_FLAG_RXOVERR | SDMMC_FLAG_DCRCFAIL | SDMMC_FLAG_DTIMEOUT | 
 776:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****     {
 777:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****       if(__HAL_SD_GET_FLAG(hsd, SDMMC_FLAG_RXFIFOHF) && (dataremaining > 0U))
 778:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****       {
 779:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****         /* Read data from SDMMC Rx FIFO */
 780:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****         for(count = 0U; count < 8U; count++)
 781:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****         {
 782:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****           data = SDMMC_ReadFIFO(hsd->Instance);
 783:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****           *tempbuff = (uint8_t)(data & 0xFFU);
 784:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****           tempbuff++;
 785:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****           dataremaining--;
 786:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****           *tempbuff = (uint8_t)((data >> 8U) & 0xFFU);
 787:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****           tempbuff++;
 788:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****           dataremaining--;
 789:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****           *tempbuff = (uint8_t)((data >> 16U) & 0xFFU);
 790:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****           tempbuff++;
 791:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****           dataremaining--;
 792:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****           *tempbuff = (uint8_t)((data >> 24U) & 0xFFU);
 793:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****           tempbuff++;
 794:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****           dataremaining--;
 795:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****         }
 796:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****       }
 797:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c **** 
 798:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****       if(((HAL_GetTick()-tickstart) >=  Timeout) || (Timeout == 0U))
 799:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****       {
 800:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****         /* Clear all the static flags */
 801:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****         __HAL_SD_CLEAR_FLAG(hsd, SDMMC_STATIC_FLAGS);
 802:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****         hsd->ErrorCode |= HAL_SD_ERROR_TIMEOUT;
 803:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****         hsd->State= HAL_SD_STATE_READY;
 804:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****         hsd->Context = SD_CONTEXT_NONE;
 805:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****         return HAL_TIMEOUT;
 806:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****       }
 807:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****     }
 808:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c **** #if defined(STM32L4P5xx) || defined(STM32L4Q5xx) || defined(STM32L4R5xx) || defined(STM32L4R7xx) ||
 809:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****     __SDMMC_CMDTRANS_DISABLE( hsd->Instance);
 810:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c **** #endif /* STM32L4P5xx || STM32L4Q5xx || STM32L4R5xx || STM32L4R7xx || STM32L4R9xx || STM32L4S5xx ||
 811:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c **** 
 812:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****     /* Send stop transmission command in case of multiblock read */
 813:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****     if(__HAL_SD_GET_FLAG(hsd, SDMMC_FLAG_DATAEND) && (NumberOfBlocks > 1U))
 814:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****     {
 815:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****       if(hsd->SdCard.CardType != CARD_SECURED)
 816:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****       {
 817:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****         /* Send stop transmission command */
 818:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****         errorstate = SDMMC_CmdStopTransfer(hsd->Instance);
 819:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****         if(errorstate != HAL_SD_ERROR_NONE)
 820:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****         {
 821:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****           /* Clear all the static flags */
 822:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****           __HAL_SD_CLEAR_FLAG(hsd, SDMMC_STATIC_FLAGS);
 823:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****           hsd->ErrorCode |= errorstate;
 824:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****           hsd->State = HAL_SD_STATE_READY;
 825:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****           hsd->Context = SD_CONTEXT_NONE;
 826:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****           return HAL_ERROR;
 827:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****         }
 828:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****       }
ARM GAS  /tmp/ccECQX6D.s 			page 16


 829:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****     }
 830:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c **** 
 831:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****     /* Get error state */
 832:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****     if(__HAL_SD_GET_FLAG(hsd, SDMMC_FLAG_DTIMEOUT))
 833:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****     {
 834:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****       /* Clear all the static flags */
 835:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****       __HAL_SD_CLEAR_FLAG(hsd, SDMMC_STATIC_FLAGS);
 836:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****       hsd->ErrorCode |= HAL_SD_ERROR_DATA_TIMEOUT;
 837:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****       hsd->State = HAL_SD_STATE_READY;
 838:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****       hsd->Context = SD_CONTEXT_NONE;
 839:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****       return HAL_ERROR;
 840:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****     }
 841:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****     else if(__HAL_SD_GET_FLAG(hsd, SDMMC_FLAG_DCRCFAIL))
 842:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****     {
 843:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****       /* Clear all the static flags */
 844:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****       __HAL_SD_CLEAR_FLAG(hsd, SDMMC_STATIC_FLAGS);
 845:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****       hsd->ErrorCode |= HAL_SD_ERROR_DATA_CRC_FAIL;
 846:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****       hsd->State = HAL_SD_STATE_READY;
 847:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****       hsd->Context = SD_CONTEXT_NONE;
 848:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****       return HAL_ERROR;
 849:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****     }
 850:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****     else if(__HAL_SD_GET_FLAG(hsd, SDMMC_FLAG_RXOVERR))
 851:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****     {
 852:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****       /* Clear all the static flags */
 853:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****       __HAL_SD_CLEAR_FLAG(hsd, SDMMC_STATIC_FLAGS);
 854:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****       hsd->ErrorCode |= HAL_SD_ERROR_RX_OVERRUN;
 855:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****       hsd->State = HAL_SD_STATE_READY;
 856:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****       hsd->Context = SD_CONTEXT_NONE;
 857:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****       return HAL_ERROR;
 858:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****     }
 859:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****     else
 860:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****     {
 861:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****       /* Nothing to do */
 862:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****     }
 863:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c **** 
 864:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c **** #if !defined(STM32L4P5xx) && !defined(STM32L4Q5xx) && !defined(STM32L4R5xx) && !defined(STM32L4R7xx
 865:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****     /* Empty FIFO if there is still any data */
 866:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****     while ((__HAL_SD_GET_FLAG(hsd, SDMMC_FLAG_RXDAVL)) && (dataremaining > 0U))
 867:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****     {
 868:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****       data = SDMMC_ReadFIFO(hsd->Instance);
 869:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****       *tempbuff = (uint8_t)(data & 0xFFU);
 870:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****       tempbuff++;
 871:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****       dataremaining--;
 872:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****       *tempbuff = (uint8_t)((data >> 8U) & 0xFFU);
 873:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****       tempbuff++;
 874:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****       dataremaining--;
 875:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****       *tempbuff = (uint8_t)((data >> 16U) & 0xFFU);
 876:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****       tempbuff++;
 877:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****       dataremaining--;
 878:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****       *tempbuff = (uint8_t)((data >> 24U) & 0xFFU);
 879:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****       tempbuff++;
 880:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****       dataremaining--;
 881:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c **** 
 882:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****       if(((HAL_GetTick()-tickstart) >=  Timeout) || (Timeout == 0U))
 883:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****       {
 884:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****         /* Clear all the static flags */
 885:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****         __HAL_SD_CLEAR_FLAG(hsd, SDMMC_STATIC_FLAGS);
ARM GAS  /tmp/ccECQX6D.s 			page 17


 886:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****         hsd->ErrorCode |= HAL_SD_ERROR_TIMEOUT;
 887:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****         hsd->State= HAL_SD_STATE_READY;
 888:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****         hsd->Context = SD_CONTEXT_NONE;
 889:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****         return HAL_ERROR;
 890:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****       }
 891:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****     }
 892:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c **** #endif /* !STM32L4P5xx && !STM32L4Q5xx && !STM32L4R5xx && !STM32L4R7xx && !STM32L4R9xx && !STM32L4S
 893:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c **** 
 894:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****     /* Clear all the static flags */
 895:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****     __HAL_SD_CLEAR_FLAG(hsd, SDMMC_STATIC_DATA_FLAGS);
 896:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c **** 
 897:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****     hsd->State = HAL_SD_STATE_READY;
 898:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c **** 
 899:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****     return HAL_OK;
 900:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****   }
 901:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****   else
 902:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****   {
 903:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****     hsd->ErrorCode |= HAL_SD_ERROR_BUSY;
 904:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****     return HAL_ERROR;
 905:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****   }
 906:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c **** }
 907:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c **** 
 908:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c **** /**
 909:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****   * @brief  Allows to write block(s) to a specified address in a card. The Data
 910:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****   *         transfer is managed by polling mode.
 911:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****   * @note   This API should be followed by a check on the card state through
 912:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****   *         HAL_SD_GetCardState().
 913:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****   * @param  hsd Pointer to SD handle
 914:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****   * @param  pData pointer to the buffer that will contain the data to transmit
 915:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****   * @param  BlockAdd Block Address where data will be written
 916:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****   * @param  NumberOfBlocks Number of SD blocks to write
 917:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****   * @param  Timeout Specify timeout value
 918:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****   * @retval HAL status
 919:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****   */
 920:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c **** HAL_StatusTypeDef HAL_SD_WriteBlocks(SD_HandleTypeDef *hsd, uint8_t *pData, uint32_t BlockAdd, uint
 921:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c **** {
 922:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****   SDMMC_DataInitTypeDef config;
 923:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****   uint32_t errorstate;
 924:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****   uint32_t tickstart = HAL_GetTick();
 925:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****   uint32_t count, data, dataremaining;
 926:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****   uint32_t add = BlockAdd;
 927:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****   uint8_t *tempbuff = pData;
 928:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c **** 
 929:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****   if(NULL == pData)
 930:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****   {
 931:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****     hsd->ErrorCode |= HAL_SD_ERROR_PARAM;
 932:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****     return HAL_ERROR;
 933:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****   }
 934:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c **** 
 935:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****   if(hsd->State == HAL_SD_STATE_READY)
 936:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****   {
 937:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****     hsd->ErrorCode = HAL_SD_ERROR_NONE;
 938:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c **** 
 939:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****     if((add + NumberOfBlocks) > (hsd->SdCard.LogBlockNbr))
 940:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****     {
 941:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****       hsd->ErrorCode |= HAL_SD_ERROR_ADDR_OUT_OF_RANGE;
 942:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****       return HAL_ERROR;
ARM GAS  /tmp/ccECQX6D.s 			page 18


 943:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****     }
 944:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c **** 
 945:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****     hsd->State = HAL_SD_STATE_BUSY;
 946:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c **** 
 947:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****     /* Initialize data control register */
 948:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****     hsd->Instance->DCTRL = 0U;
 949:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c **** 
 950:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****     if(hsd->SdCard.CardType != CARD_SDHC_SDXC)
 951:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****     {
 952:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****       add *= 512U;
 953:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****     }
 954:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c **** 
 955:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****     /* Configure the SD DPSM (Data Path State Machine) */
 956:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****     config.DataTimeOut   = SDMMC_DATATIMEOUT;
 957:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****     config.DataLength    = NumberOfBlocks * BLOCKSIZE;
 958:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****     config.DataBlockSize = SDMMC_DATABLOCK_SIZE_512B;
 959:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****     config.TransferDir   = SDMMC_TRANSFER_DIR_TO_CARD;
 960:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****     config.TransferMode  = SDMMC_TRANSFER_MODE_BLOCK;
 961:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c **** #if defined(STM32L4P5xx) || defined(STM32L4Q5xx) || defined(STM32L4R5xx) || defined(STM32L4R7xx) ||
 962:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****     config.DPSM          = SDMMC_DPSM_DISABLE;
 963:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c **** #else
 964:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****     config.DPSM          = SDMMC_DPSM_ENABLE;
 965:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c **** #endif /* STM32L4P5xx || STM32L4Q5xx || STM32L4R5xx || STM32L4R7xx || STM32L4R9xx || STM32L4S5xx ||
 966:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****     (void)SDMMC_ConfigData(hsd->Instance, &config);
 967:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c **** #if defined(STM32L4P5xx) || defined(STM32L4Q5xx) || defined(STM32L4R5xx) || defined(STM32L4R7xx) ||
 968:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****     __SDMMC_CMDTRANS_ENABLE( hsd->Instance);
 969:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c **** #endif /* STM32L4P5xx || STM32L4Q5xx || STM32L4R5xx || STM32L4R7xx || STM32L4R9xx || STM32L4S5xx ||
 970:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c **** 
 971:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****     /* Write Blocks in Polling mode */
 972:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****     if(NumberOfBlocks > 1U)
 973:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****     {
 974:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****       hsd->Context = SD_CONTEXT_WRITE_MULTIPLE_BLOCK;
 975:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c **** 
 976:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****       /* Write Multi Block command */
 977:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****       errorstate = SDMMC_CmdWriteMultiBlock(hsd->Instance, add);
 978:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****     }
 979:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****     else
 980:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****     {
 981:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****       hsd->Context = SD_CONTEXT_WRITE_SINGLE_BLOCK;
 982:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c **** 
 983:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****       /* Write Single Block command */
 984:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****       errorstate = SDMMC_CmdWriteSingleBlock(hsd->Instance, add);
 985:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****     }
 986:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****     if(errorstate != HAL_SD_ERROR_NONE)
 987:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****     {
 988:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****       /* Clear all the static flags */
 989:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****       __HAL_SD_CLEAR_FLAG(hsd, SDMMC_STATIC_FLAGS);
 990:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****       hsd->ErrorCode |= errorstate;
 991:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****       hsd->State = HAL_SD_STATE_READY;
 992:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****       hsd->Context = SD_CONTEXT_NONE;
 993:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****       return HAL_ERROR;
 994:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****     }
 995:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c **** 
 996:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****     /* Write block(s) in polling mode */
 997:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****     dataremaining = config.DataLength;
 998:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****     while(!__HAL_SD_GET_FLAG(hsd, SDMMC_FLAG_TXUNDERR | SDMMC_FLAG_DCRCFAIL | SDMMC_FLAG_DTIMEOUT |
 999:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****     {
ARM GAS  /tmp/ccECQX6D.s 			page 19


1000:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****       if(__HAL_SD_GET_FLAG(hsd, SDMMC_FLAG_TXFIFOHE) && (dataremaining > 0U))
1001:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****       {
1002:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****         /* Write data to SDMMC Tx FIFO */
1003:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****         for(count = 0U; count < 8U; count++)
1004:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****         {
1005:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****           data = (uint32_t)(*tempbuff);
1006:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****           tempbuff++;
1007:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****           dataremaining--;
1008:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****           data |= ((uint32_t)(*tempbuff) << 8U);
1009:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****           tempbuff++;
1010:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****           dataremaining--;
1011:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****           data |= ((uint32_t)(*tempbuff) << 16U);
1012:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****           tempbuff++;
1013:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****           dataremaining--;
1014:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****           data |= ((uint32_t)(*tempbuff) << 24U);
1015:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****           tempbuff++;
1016:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****           dataremaining--;
1017:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****           (void)SDMMC_WriteFIFO(hsd->Instance, &data);
1018:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****         }
1019:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****       }
1020:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c **** 
1021:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****       if(((HAL_GetTick()-tickstart) >=  Timeout) || (Timeout == 0U))
1022:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****       {
1023:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****         /* Clear all the static flags */
1024:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****         __HAL_SD_CLEAR_FLAG(hsd, SDMMC_STATIC_FLAGS);
1025:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****         hsd->ErrorCode |= errorstate;
1026:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****         hsd->State = HAL_SD_STATE_READY;
1027:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****         hsd->Context = SD_CONTEXT_NONE;
1028:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****         return HAL_TIMEOUT;
1029:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****       }
1030:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****     }
1031:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c **** #if defined(STM32L4P5xx) || defined(STM32L4Q5xx) || defined(STM32L4R5xx) || defined(STM32L4R7xx) ||
1032:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****     __SDMMC_CMDTRANS_DISABLE( hsd->Instance);
1033:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c **** #endif /* STM32L4P5xx || STM32L4Q5xx || STM32L4R5xx || STM32L4R7xx || STM32L4R9xx || STM32L4S5xx ||
1034:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c **** 
1035:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****     /* Send stop transmission command in case of multiblock write */
1036:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****     if(__HAL_SD_GET_FLAG(hsd, SDMMC_FLAG_DATAEND) && (NumberOfBlocks > 1U))
1037:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****     {
1038:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****       if(hsd->SdCard.CardType != CARD_SECURED)
1039:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****       {
1040:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****         /* Send stop transmission command */
1041:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****         errorstate = SDMMC_CmdStopTransfer(hsd->Instance);
1042:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****         if(errorstate != HAL_SD_ERROR_NONE)
1043:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****         {
1044:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****           /* Clear all the static flags */
1045:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****           __HAL_SD_CLEAR_FLAG(hsd, SDMMC_STATIC_FLAGS);
1046:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****           hsd->ErrorCode |= errorstate;
1047:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****           hsd->State = HAL_SD_STATE_READY;
1048:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****           hsd->Context = SD_CONTEXT_NONE;
1049:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****           return HAL_ERROR;
1050:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****         }
1051:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****       }
1052:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****     }
1053:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c **** 
1054:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****     /* Get error state */
1055:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****     if(__HAL_SD_GET_FLAG(hsd, SDMMC_FLAG_DTIMEOUT))
1056:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****     {
ARM GAS  /tmp/ccECQX6D.s 			page 20


1057:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****       /* Clear all the static flags */
1058:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****       __HAL_SD_CLEAR_FLAG(hsd, SDMMC_STATIC_FLAGS);
1059:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****       hsd->ErrorCode |= HAL_SD_ERROR_DATA_TIMEOUT;
1060:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****       hsd->State = HAL_SD_STATE_READY;
1061:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****       hsd->Context = SD_CONTEXT_NONE;
1062:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****       return HAL_ERROR;
1063:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****     }
1064:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****     else if(__HAL_SD_GET_FLAG(hsd, SDMMC_FLAG_DCRCFAIL))
1065:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****     {
1066:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****       /* Clear all the static flags */
1067:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****       __HAL_SD_CLEAR_FLAG(hsd, SDMMC_STATIC_FLAGS);
1068:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****       hsd->ErrorCode |= HAL_SD_ERROR_DATA_CRC_FAIL;
1069:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****       hsd->State = HAL_SD_STATE_READY;
1070:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****       hsd->Context = SD_CONTEXT_NONE;
1071:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****       return HAL_ERROR;
1072:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****     }
1073:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****     else if(__HAL_SD_GET_FLAG(hsd, SDMMC_FLAG_TXUNDERR))
1074:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****     {
1075:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****       /* Clear all the static flags */
1076:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****       __HAL_SD_CLEAR_FLAG(hsd, SDMMC_STATIC_FLAGS);
1077:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****       hsd->ErrorCode |= HAL_SD_ERROR_TX_UNDERRUN;
1078:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****       hsd->State = HAL_SD_STATE_READY;
1079:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****       hsd->Context = SD_CONTEXT_NONE;
1080:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****       return HAL_ERROR;
1081:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****     }
1082:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****     else
1083:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****     {
1084:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****       /* Nothing to do */
1085:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****     }
1086:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c **** 
1087:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****     /* Clear all the static flags */
1088:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****     __HAL_SD_CLEAR_FLAG(hsd, SDMMC_STATIC_DATA_FLAGS);
1089:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c **** 
1090:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****     hsd->State = HAL_SD_STATE_READY;
1091:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c **** 
1092:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****     return HAL_OK;
1093:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****   }
1094:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****   else
1095:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****   {
1096:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****     hsd->ErrorCode |= HAL_SD_ERROR_BUSY;
1097:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****     return HAL_ERROR;
1098:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****   }
1099:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c **** }
1100:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c **** 
1101:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c **** /**
1102:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****   * @brief  Reads block(s) from a specified address in a card. The Data transfer
1103:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****   *         is managed in interrupt mode.
1104:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****   * @note   This API should be followed by a check on the card state through
1105:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****   *         HAL_SD_GetCardState().
1106:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****   * @note   You could also check the IT transfer process through the SD Rx
1107:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****   *         interrupt event.
1108:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****   * @param  hsd Pointer to SD handle
1109:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****   * @param  pData Pointer to the buffer that will contain the received data
1110:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****   * @param  BlockAdd Block Address from where data is to be read
1111:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****   * @param  NumberOfBlocks Number of blocks to read.
1112:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****   * @retval HAL status
1113:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****   */
ARM GAS  /tmp/ccECQX6D.s 			page 21


1114:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c **** HAL_StatusTypeDef HAL_SD_ReadBlocks_IT(SD_HandleTypeDef *hsd, uint8_t *pData, uint32_t BlockAdd, ui
1115:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c **** {
1116:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****   SDMMC_DataInitTypeDef config;
1117:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****   uint32_t errorstate;
1118:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****   uint32_t add = BlockAdd;
1119:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c **** 
1120:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****   if(NULL == pData)
1121:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****   {
1122:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****     hsd->ErrorCode |= HAL_SD_ERROR_PARAM;
1123:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****     return HAL_ERROR;
1124:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****   }
1125:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c **** 
1126:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****   if(hsd->State == HAL_SD_STATE_READY)
1127:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****   {
1128:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****     hsd->ErrorCode = HAL_SD_ERROR_NONE;
1129:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c **** 
1130:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****     if((add + NumberOfBlocks) > (hsd->SdCard.LogBlockNbr))
1131:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****     {
1132:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****       hsd->ErrorCode |= HAL_SD_ERROR_ADDR_OUT_OF_RANGE;
1133:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****       return HAL_ERROR;
1134:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****     }
1135:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c **** 
1136:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****     hsd->State = HAL_SD_STATE_BUSY;
1137:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c **** 
1138:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****     /* Initialize data control register */
1139:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****     hsd->Instance->DCTRL = 0U;
1140:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c **** 
1141:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****     hsd->pRxBuffPtr = pData;
1142:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****     hsd->RxXferSize = BLOCKSIZE * NumberOfBlocks;
1143:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c **** 
1144:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****     if(hsd->SdCard.CardType != CARD_SDHC_SDXC)
1145:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****     {
1146:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****       add *= 512U;
1147:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****     }
1148:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c **** 
1149:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****     /* Configure the SD DPSM (Data Path State Machine) */
1150:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****     config.DataTimeOut   = SDMMC_DATATIMEOUT;
1151:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****     config.DataLength    = BLOCKSIZE * NumberOfBlocks;
1152:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****     config.DataBlockSize = SDMMC_DATABLOCK_SIZE_512B;
1153:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****     config.TransferDir   = SDMMC_TRANSFER_DIR_TO_SDMMC;
1154:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****     config.TransferMode  = SDMMC_TRANSFER_MODE_BLOCK;
1155:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c **** #if defined(STM32L4P5xx) || defined(STM32L4Q5xx) || defined(STM32L4R5xx) || defined(STM32L4R7xx) ||
1156:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****     config.DPSM          = SDMMC_DPSM_DISABLE;
1157:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c **** #else
1158:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****     config.DPSM          = SDMMC_DPSM_ENABLE;
1159:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c **** #endif /* STM32L4P5xx || STM32L4Q5xx || STM32L4R5xx || STM32L4R7xx || STM32L4R9xx || STM32L4S5xx ||
1160:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****     (void)SDMMC_ConfigData(hsd->Instance, &config);
1161:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c **** #if defined(STM32L4P5xx) || defined(STM32L4Q5xx) || defined(STM32L4R5xx) || defined(STM32L4R7xx) ||
1162:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****     __SDMMC_CMDTRANS_ENABLE( hsd->Instance);
1163:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c **** #endif /* STM32L4P5xx || STM32L4Q5xx || STM32L4R5xx || STM32L4R7xx || STM32L4R9xx || STM32L4S5xx ||
1164:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c **** 
1165:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****     /* Read Blocks in IT mode */
1166:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****     if(NumberOfBlocks > 1U)
1167:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****     {
1168:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****       hsd->Context = (SD_CONTEXT_READ_MULTIPLE_BLOCK | SD_CONTEXT_IT);
1169:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c **** 
1170:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****       /* Read Multi Block command */
ARM GAS  /tmp/ccECQX6D.s 			page 22


1171:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****       errorstate = SDMMC_CmdReadMultiBlock(hsd->Instance, add);
1172:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****     }
1173:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****     else
1174:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****     {
1175:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****       hsd->Context = (SD_CONTEXT_READ_SINGLE_BLOCK | SD_CONTEXT_IT);
1176:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c **** 
1177:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****       /* Read Single Block command */
1178:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****       errorstate = SDMMC_CmdReadSingleBlock(hsd->Instance, add);
1179:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****     }
1180:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****     if(errorstate != HAL_SD_ERROR_NONE)
1181:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****     {
1182:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****       /* Clear all the static flags */
1183:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****       __HAL_SD_CLEAR_FLAG(hsd, SDMMC_STATIC_FLAGS);
1184:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****       hsd->ErrorCode |= errorstate;
1185:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****       hsd->State = HAL_SD_STATE_READY;
1186:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****       hsd->Context = SD_CONTEXT_NONE;
1187:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****       return HAL_ERROR;
1188:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****     }
1189:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c **** 
1190:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****     __HAL_SD_ENABLE_IT(hsd, (SDMMC_IT_DCRCFAIL | SDMMC_IT_DTIMEOUT | SDMMC_IT_RXOVERR | SDMMC_IT_DA
1191:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c **** 
1192:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****     return HAL_OK;
1193:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****   }
1194:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****   else
1195:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****   {
1196:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****     return HAL_BUSY;
1197:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****   }
1198:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c **** }
1199:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c **** 
1200:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c **** /**
1201:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****   * @brief  Writes block(s) to a specified address in a card. The Data transfer
1202:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****   *         is managed in interrupt mode.
1203:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****   * @note   This API should be followed by a check on the card state through
1204:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****   *         HAL_SD_GetCardState().
1205:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****   * @note   You could also check the IT transfer process through the SD Tx
1206:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****   *         interrupt event.
1207:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****   * @param  hsd Pointer to SD handle
1208:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****   * @param  pData Pointer to the buffer that will contain the data to transmit
1209:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****   * @param  BlockAdd Block Address where data will be written
1210:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****   * @param  NumberOfBlocks Number of blocks to write
1211:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****   * @retval HAL status
1212:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****   */
1213:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c **** HAL_StatusTypeDef HAL_SD_WriteBlocks_IT(SD_HandleTypeDef *hsd, uint8_t *pData, uint32_t BlockAdd, u
1214:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c **** {
1215:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****   SDMMC_DataInitTypeDef config;
1216:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****   uint32_t errorstate;
1217:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****   uint32_t add = BlockAdd;
1218:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c **** 
1219:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****   if(NULL == pData)
1220:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****   {
1221:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****     hsd->ErrorCode |= HAL_SD_ERROR_PARAM;
1222:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****     return HAL_ERROR;
1223:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****   }
1224:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c **** 
1225:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****   if(hsd->State == HAL_SD_STATE_READY)
1226:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****   {
1227:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****     hsd->ErrorCode = HAL_SD_ERROR_NONE;
ARM GAS  /tmp/ccECQX6D.s 			page 23


1228:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c **** 
1229:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****     if((add + NumberOfBlocks) > (hsd->SdCard.LogBlockNbr))
1230:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****     {
1231:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****       hsd->ErrorCode |= HAL_SD_ERROR_ADDR_OUT_OF_RANGE;
1232:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****       return HAL_ERROR;
1233:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****     }
1234:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c **** 
1235:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****     hsd->State = HAL_SD_STATE_BUSY;
1236:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c **** 
1237:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****     /* Initialize data control register */
1238:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****     hsd->Instance->DCTRL = 0U;
1239:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c **** 
1240:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****     hsd->pTxBuffPtr = pData;
1241:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****     hsd->TxXferSize = BLOCKSIZE * NumberOfBlocks;
1242:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c **** 
1243:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****     if(hsd->SdCard.CardType != CARD_SDHC_SDXC)
1244:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****     {
1245:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****       add *= 512U;
1246:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****     }
1247:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c **** 
1248:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c **** #if defined(STM32L4P5xx) || defined(STM32L4Q5xx) || defined(STM32L4R5xx) || defined(STM32L4R7xx) ||
1249:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****     /* Configure the SD DPSM (Data Path State Machine) */
1250:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****     config.DataTimeOut   = SDMMC_DATATIMEOUT;
1251:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****     config.DataLength    = BLOCKSIZE * NumberOfBlocks;
1252:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****     config.DataBlockSize = SDMMC_DATABLOCK_SIZE_512B;
1253:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****     config.TransferDir   = SDMMC_TRANSFER_DIR_TO_CARD;
1254:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****     config.TransferMode  = SDMMC_TRANSFER_MODE_BLOCK;
1255:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****     config.DPSM          = SDMMC_DPSM_DISABLE;
1256:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****     (void)SDMMC_ConfigData(hsd->Instance, &config);
1257:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c **** 
1258:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****     __SDMMC_CMDTRANS_ENABLE( hsd->Instance);
1259:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c **** #endif /* STM32L4P5xx || STM32L4Q5xx || STM32L4R5xx || STM32L4R7xx || STM32L4R9xx || STM32L4S5xx ||
1260:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c **** 
1261:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****     /* Write Blocks in Polling mode */
1262:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****     if(NumberOfBlocks > 1U)
1263:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****     {
1264:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****       hsd->Context = (SD_CONTEXT_WRITE_MULTIPLE_BLOCK| SD_CONTEXT_IT);
1265:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c **** 
1266:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****       /* Write Multi Block command */
1267:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****       errorstate = SDMMC_CmdWriteMultiBlock(hsd->Instance, add);
1268:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****     }
1269:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****     else
1270:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****     {
1271:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****       hsd->Context = (SD_CONTEXT_WRITE_SINGLE_BLOCK | SD_CONTEXT_IT);
1272:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c **** 
1273:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****       /* Write Single Block command */
1274:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****       errorstate = SDMMC_CmdWriteSingleBlock(hsd->Instance, add);
1275:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****     }
1276:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****     if(errorstate != HAL_SD_ERROR_NONE)
1277:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****     {
1278:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****       /* Clear all the static flags */
1279:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****       __HAL_SD_CLEAR_FLAG(hsd, SDMMC_STATIC_FLAGS);
1280:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****       hsd->ErrorCode |= errorstate;
1281:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****       hsd->State = HAL_SD_STATE_READY;
1282:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****       hsd->Context = SD_CONTEXT_NONE;
1283:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****       return HAL_ERROR;
1284:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****     }
ARM GAS  /tmp/ccECQX6D.s 			page 24


1285:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c **** 
1286:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c **** #if !defined(STM32L4P5xx) && !defined(STM32L4Q5xx) && !defined(STM32L4R5xx) && !defined(STM32L4R7xx
1287:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****     /* Configure the SD DPSM (Data Path State Machine) */
1288:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****     config.DataTimeOut   = SDMMC_DATATIMEOUT;
1289:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****     config.DataLength    = BLOCKSIZE * NumberOfBlocks;
1290:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****     config.DataBlockSize = SDMMC_DATABLOCK_SIZE_512B;
1291:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****     config.TransferDir   = SDMMC_TRANSFER_DIR_TO_CARD;
1292:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****     config.TransferMode  = SDMMC_TRANSFER_MODE_BLOCK;
1293:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****     config.DPSM          = SDMMC_DPSM_ENABLE;
1294:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****     (void)SDMMC_ConfigData(hsd->Instance, &config);
1295:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c **** #endif /* !STM32L4P5xx && !STM32L4Q5xx && !STM32L4R5xx && !STM32L4R7xx && !STM32L4R9xx && !STM32L4S
1296:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c **** 
1297:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****     /* Enable transfer interrupts */
1298:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****     __HAL_SD_ENABLE_IT(hsd, (SDMMC_IT_DCRCFAIL | SDMMC_IT_DTIMEOUT | SDMMC_IT_TXUNDERR | SDMMC_IT_D
1299:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c **** 
1300:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****     return HAL_OK;
1301:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****   }
1302:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****   else
1303:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****   {
1304:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****     return HAL_BUSY;
1305:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****   }
1306:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c **** }
1307:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c **** 
1308:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c **** /**
1309:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****   * @brief  Reads block(s) from a specified address in a card. The Data transfer
1310:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****   *         is managed by DMA mode.
1311:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****   * @note   This API should be followed by a check on the card state through
1312:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****   *         HAL_SD_GetCardState().
1313:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****   * @note   You could also check the DMA transfer process through the SD Rx
1314:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****   *         interrupt event.
1315:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****   * @param  hsd Pointer SD handle
1316:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****   * @param  pData Pointer to the buffer that will contain the received data
1317:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****   * @param  BlockAdd Block Address from where data is to be read
1318:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****   * @param  NumberOfBlocks Number of blocks to read.
1319:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****   * @retval HAL status
1320:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****   */
1321:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c **** HAL_StatusTypeDef HAL_SD_ReadBlocks_DMA(SD_HandleTypeDef *hsd, uint8_t *pData, uint32_t BlockAdd, u
1322:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c **** {
1323:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****   SDMMC_DataInitTypeDef config;
1324:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****   uint32_t errorstate;
1325:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****   uint32_t add = BlockAdd;
1326:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c **** 
1327:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****   if(NULL == pData)
1328:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****   {
1329:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****     hsd->ErrorCode |= HAL_SD_ERROR_PARAM;
1330:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****     return HAL_ERROR;
1331:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****   }
1332:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c **** 
1333:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****   if(hsd->State == HAL_SD_STATE_READY)
1334:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****   {
1335:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****     hsd->ErrorCode = HAL_SD_ERROR_NONE;
1336:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c **** 
1337:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****     if((add + NumberOfBlocks) > (hsd->SdCard.LogBlockNbr))
1338:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****     {
1339:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****       hsd->ErrorCode |= HAL_SD_ERROR_ADDR_OUT_OF_RANGE;
1340:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****       return HAL_ERROR;
1341:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****     }
ARM GAS  /tmp/ccECQX6D.s 			page 25


1342:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c **** 
1343:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****     hsd->State = HAL_SD_STATE_BUSY;
1344:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c **** 
1345:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****     /* Initialize data control register */
1346:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****     hsd->Instance->DCTRL = 0U;
1347:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c **** 
1348:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c **** #if !defined(STM32L4P5xx) && !defined(STM32L4Q5xx) && !defined(STM32L4R5xx) && !defined(STM32L4R7xx
1349:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****     /* Set the DMA transfer complete callback */
1350:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****     hsd->hdmarx->XferCpltCallback = SD_DMAReceiveCplt;
1351:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c **** 
1352:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****     /* Set the DMA error callback */
1353:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****     hsd->hdmarx->XferErrorCallback = SD_DMAError;
1354:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c **** 
1355:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****     /* Set the DMA Abort callback */
1356:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****     hsd->hdmarx->XferAbortCallback = NULL;
1357:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c **** 
1358:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****     /* Enable the DMA Channel */
1359:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****     if(HAL_DMA_Start_IT(hsd->hdmarx, (uint32_t)&hsd->Instance->FIFO, (uint32_t)pData, (uint32_t)(BL
1360:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****     {
1361:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****       __HAL_SD_CLEAR_FLAG(hsd, SDMMC_STATIC_FLAGS);
1362:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****       hsd->ErrorCode |= HAL_SD_ERROR_DMA;
1363:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****       hsd->State = HAL_SD_STATE_READY;
1364:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****       return HAL_ERROR;
1365:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****     }
1366:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****     else
1367:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****     {
1368:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****       /* Enable SD DMA transfer */
1369:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****       __HAL_SD_DMA_ENABLE(hsd);
1370:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c **** #else
1371:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****       hsd->pRxBuffPtr = pData;
1372:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****       hsd->RxXferSize = BLOCKSIZE * NumberOfBlocks;
1373:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c **** #endif /* !STM32L4P5xx && !STM32L4Q5xx && !STM32L4R5xx && !STM32L4R7xx && !STM32L4R9xx && !STM32L4S
1374:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c **** 
1375:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****       if(hsd->SdCard.CardType != CARD_SDHC_SDXC)
1376:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****       {
1377:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****         add *= 512U;
1378:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****       }
1379:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c **** 
1380:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****       /* Configure the SD DPSM (Data Path State Machine) */
1381:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****       config.DataTimeOut   = SDMMC_DATATIMEOUT;
1382:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****       config.DataLength    = BLOCKSIZE * NumberOfBlocks;
1383:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****       config.DataBlockSize = SDMMC_DATABLOCK_SIZE_512B;
1384:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****       config.TransferDir   = SDMMC_TRANSFER_DIR_TO_SDMMC;
1385:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****       config.TransferMode  = SDMMC_TRANSFER_MODE_BLOCK;
1386:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c **** #if defined(STM32L4P5xx) || defined(STM32L4Q5xx) || defined(STM32L4R5xx) || defined(STM32L4R7xx) ||
1387:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****       config.DPSM          = SDMMC_DPSM_DISABLE;
1388:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c **** #else
1389:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****       config.DPSM          = SDMMC_DPSM_ENABLE;
1390:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c **** #endif /* STM32L4P5xx || STM32L4Q5xx || STM32L4R5xx || STM32L4R7xx || STM32L4R9xx || STM32L4S5xx ||
1391:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****       (void)SDMMC_ConfigData(hsd->Instance, &config);
1392:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c **** 
1393:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c **** #if defined(STM32L4P5xx) || defined(STM32L4Q5xx) || defined(STM32L4R5xx) || defined(STM32L4R7xx) ||
1394:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c **** 
1395:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****       __SDMMC_CMDTRANS_ENABLE( hsd->Instance);
1396:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****       hsd->Instance->IDMABASE0 = (uint32_t) pData ;
1397:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****       hsd->Instance->IDMACTRL  = SDMMC_ENABLE_IDMA_SINGLE_BUFF;
1398:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c **** #endif /* STM32L4P5xx || STM32L4Q5xx || STM32L4R5xx || STM32L4R7xx || STM32L4R9xx || STM32L4S5xx ||
ARM GAS  /tmp/ccECQX6D.s 			page 26


1399:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c **** 
1400:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****       /* Read Blocks in DMA mode */
1401:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****       if(NumberOfBlocks > 1U)
1402:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****       {
1403:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****         hsd->Context = (SD_CONTEXT_READ_MULTIPLE_BLOCK | SD_CONTEXT_DMA);
1404:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c **** 
1405:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****         /* Read Multi Block command */
1406:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****         errorstate = SDMMC_CmdReadMultiBlock(hsd->Instance, add);
1407:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****       }
1408:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****       else
1409:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****       {
1410:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****         hsd->Context = (SD_CONTEXT_READ_SINGLE_BLOCK | SD_CONTEXT_DMA);
1411:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c **** 
1412:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****         /* Read Single Block command */
1413:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****         errorstate = SDMMC_CmdReadSingleBlock(hsd->Instance, add);
1414:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****       }
1415:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****       if(errorstate != HAL_SD_ERROR_NONE)
1416:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****       {
1417:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****         /* Clear all the static flags */
1418:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****         __HAL_SD_CLEAR_FLAG(hsd, SDMMC_STATIC_FLAGS);
1419:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****         hsd->ErrorCode |= errorstate;
1420:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****         hsd->State = HAL_SD_STATE_READY;
1421:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****         hsd->Context = SD_CONTEXT_NONE;
1422:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****         return HAL_ERROR;
1423:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****       }
1424:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c **** 
1425:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****       /* Enable transfer interrupts */
1426:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****       __HAL_SD_ENABLE_IT(hsd, (SDMMC_IT_DCRCFAIL | SDMMC_IT_DTIMEOUT | SDMMC_IT_RXOVERR | SDMMC_IT_
1427:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c **** 
1428:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****       return HAL_OK;
1429:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c **** #if !defined(STM32L4P5xx) && !defined(STM32L4Q5xx) && !defined(STM32L4R5xx) && !defined(STM32L4R7xx
1430:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****     }
1431:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c **** #endif
1432:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****   }
1433:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****   else
1434:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****   {
1435:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****     return HAL_BUSY;
1436:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****   }
1437:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c **** }
1438:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c **** 
1439:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c **** /**
1440:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****   * @brief  Writes block(s) to a specified address in a card. The Data transfer
1441:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****   *         is managed by DMA mode.
1442:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****   * @note   This API should be followed by a check on the card state through
1443:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****   *         HAL_SD_GetCardState().
1444:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****   * @note   You could also check the DMA transfer process through the SD Tx
1445:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****   *         interrupt event.
1446:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****   * @param  hsd Pointer to SD handle
1447:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****   * @param  pData Pointer to the buffer that will contain the data to transmit
1448:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****   * @param  BlockAdd Block Address where data will be written
1449:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****   * @param  NumberOfBlocks Number of blocks to write
1450:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****   * @retval HAL status
1451:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****   */
1452:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c **** HAL_StatusTypeDef HAL_SD_WriteBlocks_DMA(SD_HandleTypeDef *hsd, uint8_t *pData, uint32_t BlockAdd, 
1453:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c **** {
1454:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****   SDMMC_DataInitTypeDef config;
1455:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****   uint32_t errorstate;
ARM GAS  /tmp/ccECQX6D.s 			page 27


1456:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****   uint32_t add = BlockAdd;
1457:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c **** 
1458:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****   if(NULL == pData)
1459:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****   {
1460:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****     hsd->ErrorCode |= HAL_SD_ERROR_PARAM;
1461:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****     return HAL_ERROR;
1462:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****   }
1463:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c **** 
1464:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****   if(hsd->State == HAL_SD_STATE_READY)
1465:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****   {
1466:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****     hsd->ErrorCode = HAL_SD_ERROR_NONE;
1467:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c **** 
1468:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****     if((add + NumberOfBlocks) > (hsd->SdCard.LogBlockNbr))
1469:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****     {
1470:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****       hsd->ErrorCode |= HAL_SD_ERROR_ADDR_OUT_OF_RANGE;
1471:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****       return HAL_ERROR;
1472:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****     }
1473:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c **** 
1474:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****     hsd->State = HAL_SD_STATE_BUSY;
1475:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c **** 
1476:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****     /* Initialize data control register */
1477:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****     hsd->Instance->DCTRL = 0U;
1478:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c **** 
1479:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c **** #if defined(STM32L4P5xx) || defined(STM32L4Q5xx) || defined(STM32L4R5xx) || defined(STM32L4R7xx) ||
1480:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****     hsd->pTxBuffPtr = pData;
1481:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****     hsd->TxXferSize = BLOCKSIZE * NumberOfBlocks;
1482:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c **** #else
1483:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****     /* Set the DMA transfer complete callback */
1484:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****     hsd->hdmatx->XferCpltCallback = SD_DMATransmitCplt;
1485:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c **** 
1486:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****     /* Set the DMA error callback */
1487:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****     hsd->hdmatx->XferErrorCallback = SD_DMAError;
1488:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c **** 
1489:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****     /* Set the DMA Abort callback */
1490:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****     hsd->hdmatx->XferAbortCallback = NULL;
1491:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c **** #endif /* STM32L4P5xx || STM32L4Q5xx || STM32L4R5xx || STM32L4R7xx || STM32L4R9xx || STM32L4S5xx ||
1492:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c **** 
1493:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****     if(hsd->SdCard.CardType != CARD_SDHC_SDXC)
1494:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****     {
1495:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****       add *= 512U;
1496:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****     }
1497:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c **** 
1498:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c **** #if defined(STM32L4P5xx) || defined(STM32L4Q5xx) || defined(STM32L4R5xx) || defined(STM32L4R7xx) ||
1499:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****     /* Configure the SD DPSM (Data Path State Machine) */
1500:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****     config.DataTimeOut   = SDMMC_DATATIMEOUT;
1501:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****     config.DataLength    = BLOCKSIZE * NumberOfBlocks;
1502:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****     config.DataBlockSize = SDMMC_DATABLOCK_SIZE_512B;
1503:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****     config.TransferDir   = SDMMC_TRANSFER_DIR_TO_CARD;
1504:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****     config.TransferMode  = SDMMC_TRANSFER_MODE_BLOCK;
1505:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****     config.DPSM          = SDMMC_DPSM_DISABLE;
1506:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****     (void)SDMMC_ConfigData(hsd->Instance, &config);
1507:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c **** 
1508:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****     __SDMMC_CMDTRANS_ENABLE( hsd->Instance);
1509:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c **** 
1510:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****     hsd->Instance->IDMABASE0 = (uint32_t) pData ;
1511:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****     hsd->Instance->IDMACTRL  = SDMMC_ENABLE_IDMA_SINGLE_BUFF;
1512:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c **** #endif /* STM32L4P5xx || STM32L4Q5xx || STM32L4R5xx || STM32L4R7xx || STM32L4R9xx || STM32L4S5xx ||
ARM GAS  /tmp/ccECQX6D.s 			page 28


1513:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c **** 
1514:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****     /* Write Blocks in Polling mode */
1515:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****     if(NumberOfBlocks > 1U)
1516:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****     {
1517:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****       hsd->Context = (SD_CONTEXT_WRITE_MULTIPLE_BLOCK | SD_CONTEXT_DMA);
1518:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c **** 
1519:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****       /* Write Multi Block command */
1520:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****       errorstate = SDMMC_CmdWriteMultiBlock(hsd->Instance, add);
1521:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****     }
1522:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****     else
1523:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****     {
1524:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****       hsd->Context = (SD_CONTEXT_WRITE_SINGLE_BLOCK | SD_CONTEXT_DMA);
1525:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c **** 
1526:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****       /* Write Single Block command */
1527:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****       errorstate = SDMMC_CmdWriteSingleBlock(hsd->Instance, add);
1528:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****     }
1529:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****     if(errorstate != HAL_SD_ERROR_NONE)
1530:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****     {
1531:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****       /* Clear all the static flags */
1532:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****       __HAL_SD_CLEAR_FLAG(hsd, SDMMC_STATIC_FLAGS);
1533:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****       hsd->ErrorCode |= errorstate;
1534:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****       hsd->State = HAL_SD_STATE_READY;
1535:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****       hsd->Context = SD_CONTEXT_NONE;
1536:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****       return HAL_ERROR;
1537:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****     }
1538:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c **** 
1539:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c **** #if !defined(STM32L4P5xx) && !defined(STM32L4Q5xx) && !defined(STM32L4R5xx) && !defined(STM32L4R7xx
1540:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****     /* Enable SDMMC DMA transfer */
1541:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****     __HAL_SD_DMA_ENABLE(hsd);
1542:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c **** 
1543:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****     /* Enable the DMA Channel */
1544:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****     if(HAL_DMA_Start_IT(hsd->hdmatx, (uint32_t)pData, (uint32_t)&hsd->Instance->FIFO, (uint32_t)(BL
1545:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****     {
1546:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****       __HAL_SD_CLEAR_FLAG(hsd, SDMMC_STATIC_FLAGS);
1547:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****       hsd->ErrorCode |= HAL_SD_ERROR_DMA;
1548:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****       hsd->State = HAL_SD_STATE_READY;
1549:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****       hsd->Context = SD_CONTEXT_NONE;
1550:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****       return HAL_ERROR;
1551:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****     }
1552:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****     else
1553:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****     {
1554:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****       /* Configure the SD DPSM (Data Path State Machine) */
1555:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****       config.DataTimeOut   = SDMMC_DATATIMEOUT;
1556:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****       config.DataLength    = BLOCKSIZE * NumberOfBlocks;
1557:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****       config.DataBlockSize = SDMMC_DATABLOCK_SIZE_512B;
1558:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****       config.TransferDir   = SDMMC_TRANSFER_DIR_TO_CARD;
1559:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****       config.TransferMode  = SDMMC_TRANSFER_MODE_BLOCK;
1560:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****       config.DPSM          = SDMMC_DPSM_ENABLE;
1561:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****       (void)SDMMC_ConfigData(hsd->Instance, &config);
1562:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c **** 
1563:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****       /* Enable SD Error interrupts */
1564:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****       __HAL_SD_ENABLE_IT(hsd, (SDMMC_IT_DCRCFAIL | SDMMC_IT_DTIMEOUT | SDMMC_IT_TXUNDERR));
1565:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c **** #else
1566:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****       /* Enable transfer interrupts */
1567:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****       __HAL_SD_ENABLE_IT(hsd, (SDMMC_IT_DCRCFAIL | SDMMC_IT_DTIMEOUT | SDMMC_IT_TXUNDERR | SDMMC_IT
1568:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c **** #endif /* !STM32L4P5xx && !STM32L4Q5xx && !STM32L4R5xx && !STM32L4R7xx && !STM32L4R9xx && !STM32L4S
1569:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c **** 
ARM GAS  /tmp/ccECQX6D.s 			page 29


1570:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****       return HAL_OK;
1571:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c **** #if !defined(STM32L4P5xx) && !defined(STM32L4Q5xx) && !defined(STM32L4R5xx) && !defined(STM32L4R7xx
1572:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****     }
1573:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c **** #endif
1574:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****   }
1575:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****   else
1576:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****   {
1577:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****     return HAL_BUSY;
1578:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****   }
1579:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c **** }
1580:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c **** 
1581:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c **** /**
1582:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****   * @brief  Erases the specified memory area of the given SD card.
1583:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****   * @note   This API should be followed by a check on the card state through
1584:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****   *         HAL_SD_GetCardState().
1585:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****   * @param  hsd Pointer to SD handle
1586:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****   * @param  BlockStartAdd Start Block address
1587:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****   * @param  BlockEndAdd End Block address
1588:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****   * @retval HAL status
1589:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****   */
1590:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c **** HAL_StatusTypeDef HAL_SD_Erase(SD_HandleTypeDef *hsd, uint32_t BlockStartAdd, uint32_t BlockEndAdd)
1591:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c **** {
1592:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****   uint32_t errorstate;
1593:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****   uint32_t start_add = BlockStartAdd;
1594:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****   uint32_t end_add = BlockEndAdd;
1595:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c **** 
1596:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****   if(hsd->State == HAL_SD_STATE_READY)
1597:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****   {
1598:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****     hsd->ErrorCode = HAL_SD_ERROR_NONE;
1599:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c **** 
1600:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****     if(end_add < start_add)
1601:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****     {
1602:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****       hsd->ErrorCode |= HAL_SD_ERROR_PARAM;
1603:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****       return HAL_ERROR;
1604:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****     }
1605:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c **** 
1606:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****     if(end_add > (hsd->SdCard.LogBlockNbr))
1607:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****     {
1608:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****       hsd->ErrorCode |= HAL_SD_ERROR_ADDR_OUT_OF_RANGE;
1609:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****       return HAL_ERROR;
1610:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****     }
1611:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c **** 
1612:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****     hsd->State = HAL_SD_STATE_BUSY;
1613:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c **** 
1614:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****     /* Check if the card command class supports erase command */
1615:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****     if(((hsd->SdCard.Class) & SDMMC_CCCC_ERASE) == 0U)
1616:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****     {
1617:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****       /* Clear all the static flags */
1618:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****       __HAL_SD_CLEAR_FLAG(hsd, SDMMC_STATIC_FLAGS);
1619:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****       hsd->ErrorCode |= HAL_SD_ERROR_REQUEST_NOT_APPLICABLE;
1620:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****       hsd->State = HAL_SD_STATE_READY;
1621:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****       return HAL_ERROR;
1622:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****     }
1623:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c **** 
1624:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****     if((SDMMC_GetResponse(hsd->Instance, SDMMC_RESP1) & SDMMC_CARD_LOCKED) == SDMMC_CARD_LOCKED)
1625:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****     {
1626:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****       /* Clear all the static flags */
ARM GAS  /tmp/ccECQX6D.s 			page 30


1627:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****       __HAL_SD_CLEAR_FLAG(hsd, SDMMC_STATIC_FLAGS);
1628:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****       hsd->ErrorCode |= HAL_SD_ERROR_LOCK_UNLOCK_FAILED;
1629:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****       hsd->State = HAL_SD_STATE_READY;
1630:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****       return HAL_ERROR;
1631:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****     }
1632:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c **** 
1633:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****     /* Get start and end block for high capacity cards */
1634:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****     if(hsd->SdCard.CardType != CARD_SDHC_SDXC)
1635:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****     {
1636:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****       start_add *= 512U;
1637:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****       end_add   *= 512U;
1638:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****     }
1639:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c **** 
1640:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****     /* According to sd-card spec 1.0 ERASE_GROUP_START (CMD32) and erase_group_end(CMD33) */
1641:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****     if(hsd->SdCard.CardType != CARD_SECURED)
1642:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****     {
1643:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****       /* Send CMD32 SD_ERASE_GRP_START with argument as addr  */
1644:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****       errorstate = SDMMC_CmdSDEraseStartAdd(hsd->Instance, start_add);
1645:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****       if(errorstate != HAL_SD_ERROR_NONE)
1646:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****       {
1647:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****         /* Clear all the static flags */
1648:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****         __HAL_SD_CLEAR_FLAG(hsd, SDMMC_STATIC_FLAGS);
1649:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****         hsd->ErrorCode |= errorstate;
1650:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****         hsd->State = HAL_SD_STATE_READY;
1651:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****         return HAL_ERROR;
1652:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****       }
1653:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c **** 
1654:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****       /* Send CMD33 SD_ERASE_GRP_END with argument as addr  */
1655:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****       errorstate = SDMMC_CmdSDEraseEndAdd(hsd->Instance, end_add);
1656:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****       if(errorstate != HAL_SD_ERROR_NONE)
1657:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****       {
1658:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****         /* Clear all the static flags */
1659:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****         __HAL_SD_CLEAR_FLAG(hsd, SDMMC_STATIC_FLAGS);
1660:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****         hsd->ErrorCode |= errorstate;
1661:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****         hsd->State = HAL_SD_STATE_READY;
1662:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****         return HAL_ERROR;
1663:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****       }
1664:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****     }
1665:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c **** 
1666:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****     /* Send CMD38 ERASE */
1667:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****     errorstate = SDMMC_CmdErase(hsd->Instance, 0UL);
1668:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****     if(errorstate != HAL_SD_ERROR_NONE)
1669:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****     {
1670:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****       /* Clear all the static flags */
1671:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****       __HAL_SD_CLEAR_FLAG(hsd, SDMMC_STATIC_FLAGS);
1672:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****       hsd->ErrorCode |= errorstate;
1673:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****       hsd->State = HAL_SD_STATE_READY;
1674:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****       return HAL_ERROR;
1675:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****     }
1676:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c **** 
1677:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****     hsd->State = HAL_SD_STATE_READY;
1678:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c **** 
1679:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****     return HAL_OK;
1680:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****   }
1681:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****   else
1682:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****   {
1683:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****     return HAL_BUSY;
ARM GAS  /tmp/ccECQX6D.s 			page 31


1684:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****   }
1685:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c **** }
1686:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c **** 
1687:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c **** /**
1688:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****   * @brief  This function handles SD card interrupt request.
1689:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****   * @param  hsd Pointer to SD handle
1690:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****   * @retval None
1691:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****   */
1692:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c **** void HAL_SD_IRQHandler(SD_HandleTypeDef *hsd)
1693:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c **** {
1694:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****   uint32_t errorstate;
1695:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****   uint32_t context = hsd->Context;
1696:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c **** 
1697:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****   /* Check for SDMMC interrupt flags */
1698:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****   if((__HAL_SD_GET_FLAG(hsd, SDMMC_FLAG_RXFIFOHF) != RESET) && ((context & SD_CONTEXT_IT) != 0U))
1699:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****   {
1700:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****     SD_Read_IT(hsd);
1701:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****   }
1702:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c **** 
1703:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****   else if(__HAL_SD_GET_FLAG(hsd, SDMMC_FLAG_DATAEND) != RESET)
1704:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****   {
1705:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****     __HAL_SD_CLEAR_FLAG(hsd, SDMMC_FLAG_DATAEND);
1706:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c **** 
1707:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****     __HAL_SD_DISABLE_IT(hsd, SDMMC_IT_DATAEND  | SDMMC_IT_DCRCFAIL | SDMMC_IT_DTIMEOUT |\
1708:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****                              SDMMC_IT_TXUNDERR | SDMMC_IT_RXOVERR  | SDMMC_IT_TXFIFOHE |\
1709:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****                              SDMMC_IT_RXFIFOHF);
1710:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c **** 
1711:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c **** #if defined(STM32L4P5xx) || defined(STM32L4Q5xx) || defined(STM32L4R5xx) || defined(STM32L4R7xx) ||
1712:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****     __HAL_SD_DISABLE_IT(hsd, SDMMC_IT_IDMABTC);
1713:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****     __SDMMC_CMDTRANS_DISABLE( hsd->Instance);
1714:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c **** #else
1715:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****     hsd->Instance->DCTRL &= ~(SDMMC_DCTRL_DTEN);
1716:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c **** #endif /* STM32L4P5xx || STM32L4Q5xx || STM32L4R5xx || STM32L4R7xx || STM32L4R9xx || STM32L4S5xx ||
1717:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c **** 
1718:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****     if((context & SD_CONTEXT_IT) != 0U)
1719:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****     {
1720:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****       if(((context & SD_CONTEXT_READ_MULTIPLE_BLOCK) != 0U) || ((context & SD_CONTEXT_WRITE_MULTIPL
1721:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****       {
1722:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****         errorstate = SDMMC_CmdStopTransfer(hsd->Instance);
1723:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****         if(errorstate != HAL_SD_ERROR_NONE)
1724:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****         {
1725:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****           hsd->ErrorCode |= errorstate;
1726:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c **** #if defined (USE_HAL_SD_REGISTER_CALLBACKS) && (USE_HAL_SD_REGISTER_CALLBACKS == 1U)
1727:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****           hsd->ErrorCallback(hsd);
1728:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c **** #else
1729:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****           HAL_SD_ErrorCallback(hsd);
1730:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c **** #endif /* USE_HAL_SD_REGISTER_CALLBACKS */
1731:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****         }
1732:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****       }
1733:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c **** 
1734:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****       /* Clear all the static flags */
1735:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****       __HAL_SD_CLEAR_FLAG(hsd, SDMMC_STATIC_DATA_FLAGS);
1736:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c **** 
1737:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****       hsd->State = HAL_SD_STATE_READY;
1738:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****       hsd->Context = SD_CONTEXT_NONE;
1739:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****       if(((context & SD_CONTEXT_READ_SINGLE_BLOCK) != 0U) || ((context & SD_CONTEXT_READ_MULTIPLE_B
1740:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****       {
ARM GAS  /tmp/ccECQX6D.s 			page 32


1741:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c **** #if defined (USE_HAL_SD_REGISTER_CALLBACKS) && (USE_HAL_SD_REGISTER_CALLBACKS == 1U)
1742:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****         hsd->RxCpltCallback(hsd);
1743:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c **** #else
1744:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****         HAL_SD_RxCpltCallback(hsd);
1745:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c **** #endif /* USE_HAL_SD_REGISTER_CALLBACKS */
1746:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****       }
1747:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****       else
1748:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****       {
1749:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c **** #if defined (USE_HAL_SD_REGISTER_CALLBACKS) && (USE_HAL_SD_REGISTER_CALLBACKS == 1U)
1750:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****         hsd->TxCpltCallback(hsd);
1751:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c **** #else
1752:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****         HAL_SD_TxCpltCallback(hsd);
1753:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c **** #endif /* USE_HAL_SD_REGISTER_CALLBACKS */
1754:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****       }
1755:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****     }
1756:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****     else if((context & SD_CONTEXT_DMA) != 0U)
1757:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****     {
1758:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c **** #if defined(STM32L4P5xx) || defined(STM32L4Q5xx) || defined(STM32L4R5xx) || defined(STM32L4R7xx) ||
1759:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****       hsd->Instance->DLEN = 0;
1760:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****       hsd->Instance->DCTRL = 0;
1761:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****       hsd->Instance->IDMACTRL = SDMMC_DISABLE_IDMA;
1762:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c **** 
1763:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****       /* Stop Transfer for Write Multi blocks or Read Multi blocks */
1764:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****       if(((context & SD_CONTEXT_READ_MULTIPLE_BLOCK) != 0U) || ((context & SD_CONTEXT_WRITE_MULTIPL
1765:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****       {
1766:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****         errorstate = SDMMC_CmdStopTransfer(hsd->Instance);
1767:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****         if(errorstate != HAL_SD_ERROR_NONE)
1768:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****         {
1769:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****           hsd->ErrorCode |= errorstate;
1770:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c **** #if defined (USE_HAL_SD_REGISTER_CALLBACKS) && (USE_HAL_SD_REGISTER_CALLBACKS == 1U)
1771:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****           hsd->ErrorCallback(hsd);
1772:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c **** #else
1773:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****           HAL_SD_ErrorCallback(hsd);
1774:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c **** #endif /* USE_HAL_SD_REGISTER_CALLBACKS */
1775:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****         }
1776:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****       }
1777:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c **** 
1778:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****       hsd->State = HAL_SD_STATE_READY;
1779:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****       hsd->Context = SD_CONTEXT_NONE;
1780:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****       if(((context & SD_CONTEXT_WRITE_SINGLE_BLOCK) != 0U) || ((context & SD_CONTEXT_WRITE_MULTIPLE
1781:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****       {
1782:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c **** #if defined (USE_HAL_SD_REGISTER_CALLBACKS) && (USE_HAL_SD_REGISTER_CALLBACKS == 1U)
1783:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****         hsd->TxCpltCallback(hsd);
1784:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c **** #else
1785:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****         HAL_SD_TxCpltCallback(hsd);
1786:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c **** #endif /* USE_HAL_SD_REGISTER_CALLBACKS */
1787:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****       }
1788:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****       if(((context & SD_CONTEXT_READ_SINGLE_BLOCK) != 0U) || ((context & SD_CONTEXT_READ_MULTIPLE_B
1789:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****       {
1790:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c **** #if defined (USE_HAL_SD_REGISTER_CALLBACKS) && (USE_HAL_SD_REGISTER_CALLBACKS == 1U)
1791:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****         hsd->RxCpltCallback(hsd);
1792:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c **** #else
1793:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****         HAL_SD_RxCpltCallback(hsd);
1794:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c **** #endif /* USE_HAL_SD_REGISTER_CALLBACKS */
1795:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****       }
1796:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c **** #else
1797:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****       if((context & SD_CONTEXT_WRITE_MULTIPLE_BLOCK) != 0U)
ARM GAS  /tmp/ccECQX6D.s 			page 33


1798:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****       {
1799:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****         errorstate = SDMMC_CmdStopTransfer(hsd->Instance);
1800:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****         if(errorstate != HAL_SD_ERROR_NONE)
1801:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****         {
1802:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****           hsd->ErrorCode |= errorstate;
1803:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c **** #if defined (USE_HAL_SD_REGISTER_CALLBACKS) && (USE_HAL_SD_REGISTER_CALLBACKS == 1U)
1804:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****           hsd->ErrorCallback(hsd);
1805:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c **** #else
1806:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****           HAL_SD_ErrorCallback(hsd);
1807:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c **** #endif /* USE_HAL_SD_REGISTER_CALLBACKS */
1808:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****         }
1809:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****       }
1810:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****       if(((context & SD_CONTEXT_READ_SINGLE_BLOCK) == 0U) && ((context & SD_CONTEXT_READ_MULTIPLE_B
1811:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****       {
1812:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****         /* Disable the DMA transfer for transmit request by setting the DMAEN bit
1813:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****         in the SD DCTRL register */
1814:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****         hsd->Instance->DCTRL &= (uint32_t)~((uint32_t)SDMMC_DCTRL_DMAEN);
1815:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c **** 
1816:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****         hsd->State = HAL_SD_STATE_READY;
1817:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c **** 
1818:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c **** #if defined (USE_HAL_SD_REGISTER_CALLBACKS) && (USE_HAL_SD_REGISTER_CALLBACKS == 1U)
1819:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****         hsd->TxCpltCallback(hsd);
1820:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c **** #else
1821:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****         HAL_SD_TxCpltCallback(hsd);
1822:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c **** #endif /* USE_HAL_SD_REGISTER_CALLBACKS */
1823:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****       }
1824:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c **** #endif /* STM32L4P5xx || STM32L4Q5xx || STM32L4R5xx || STM32L4R7xx || STM32L4R9xx || STM32L4S5xx ||
1825:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****     }
1826:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****     else
1827:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****     {
1828:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****       /* Nothing to do */
1829:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****     }
1830:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****   }
1831:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c **** 
1832:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****   else if((__HAL_SD_GET_FLAG(hsd, SDMMC_FLAG_TXFIFOHE) != RESET) && ((context & SD_CONTEXT_IT) != 0
1833:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****   {
1834:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****     SD_Write_IT(hsd);
1835:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****   }
1836:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c **** 
1837:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****   else if(__HAL_SD_GET_FLAG(hsd, SDMMC_FLAG_DCRCFAIL | SDMMC_FLAG_DTIMEOUT | SDMMC_FLAG_RXOVERR | S
1838:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****   {
1839:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****     /* Set Error code */
1840:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****     if(__HAL_SD_GET_FLAG(hsd, SDMMC_IT_DCRCFAIL) != RESET)
1841:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****     {
1842:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****       hsd->ErrorCode |= HAL_SD_ERROR_DATA_CRC_FAIL;
1843:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****     }
1844:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****     if(__HAL_SD_GET_FLAG(hsd, SDMMC_IT_DTIMEOUT) != RESET)
1845:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****     {
1846:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****       hsd->ErrorCode |= HAL_SD_ERROR_DATA_TIMEOUT;
1847:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****     }
1848:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****     if(__HAL_SD_GET_FLAG(hsd, SDMMC_IT_RXOVERR) != RESET)
1849:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****     {
1850:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****       hsd->ErrorCode |= HAL_SD_ERROR_RX_OVERRUN;
1851:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****     }
1852:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****     if(__HAL_SD_GET_FLAG(hsd, SDMMC_IT_TXUNDERR) != RESET)
1853:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****     {
1854:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****       hsd->ErrorCode |= HAL_SD_ERROR_TX_UNDERRUN;
ARM GAS  /tmp/ccECQX6D.s 			page 34


1855:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****     }
1856:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c **** 
1857:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****     /* Clear All flags */
1858:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****     __HAL_SD_CLEAR_FLAG(hsd, SDMMC_STATIC_DATA_FLAGS);
1859:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c **** 
1860:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****     /* Disable all interrupts */
1861:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****     __HAL_SD_DISABLE_IT(hsd, SDMMC_IT_DATAEND | SDMMC_IT_DCRCFAIL | SDMMC_IT_DTIMEOUT|\
1862:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****                              SDMMC_IT_TXUNDERR| SDMMC_IT_RXOVERR);
1863:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c **** 
1864:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c **** #if defined(STM32L4P5xx) || defined(STM32L4Q5xx) || defined(STM32L4R5xx) || defined(STM32L4R7xx) ||
1865:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****     __SDMMC_CMDTRANS_DISABLE( hsd->Instance);
1866:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****     hsd->Instance->DCTRL |= SDMMC_DCTRL_FIFORST;
1867:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****     hsd->Instance->CMD |= SDMMC_CMD_CMDSTOP;
1868:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c **** #endif /* STM32L4P5xx || STM32L4Q5xx || STM32L4R5xx || STM32L4R7xx || STM32L4R9xx || STM32L4S5xx ||
1869:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****     hsd->ErrorCode |= SDMMC_CmdStopTransfer(hsd->Instance);
1870:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c **** #if defined(STM32L4P5xx) || defined(STM32L4Q5xx) || defined(STM32L4R5xx) || defined(STM32L4R7xx) ||
1871:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****     hsd->Instance->CMD &= ~(SDMMC_CMD_CMDSTOP);
1872:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****     __HAL_SD_CLEAR_FLAG(hsd, SDMMC_FLAG_DABORT);
1873:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c **** #endif /* STM32L4P5xx || STM32L4Q5xx || STM32L4R5xx || STM32L4R7xx || STM32L4R9xx || STM32L4S5xx ||
1874:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c **** 
1875:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****     if((context & SD_CONTEXT_IT) != 0U)
1876:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****     {
1877:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****       /* Set the SD state to ready to be able to start again the process */
1878:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****       hsd->State = HAL_SD_STATE_READY;
1879:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****       hsd->Context = SD_CONTEXT_NONE;
1880:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c **** #if defined (USE_HAL_SD_REGISTER_CALLBACKS) && (USE_HAL_SD_REGISTER_CALLBACKS == 1U)
1881:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****       hsd->ErrorCallback(hsd);
1882:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c **** #else
1883:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****       HAL_SD_ErrorCallback(hsd);
1884:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c **** #endif /* USE_HAL_SD_REGISTER_CALLBACKS */
1885:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****     }
1886:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****     else if((context & SD_CONTEXT_DMA) != 0U)
1887:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****     {
1888:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c **** #if defined(STM32L4P5xx) || defined(STM32L4Q5xx) || defined(STM32L4R5xx) || defined(STM32L4R7xx) ||
1889:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****       if(hsd->ErrorCode != HAL_SD_ERROR_NONE)
1890:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****       {
1891:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****         /* Disable Internal DMA */
1892:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****         __HAL_SD_DISABLE_IT(hsd, SDMMC_IT_IDMABTC);
1893:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****         hsd->Instance->IDMACTRL = SDMMC_DISABLE_IDMA;
1894:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c **** 
1895:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****         /* Set the SD state to ready to be able to start again the process */
1896:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****         hsd->State = HAL_SD_STATE_READY;
1897:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c **** #if defined (USE_HAL_SD_REGISTER_CALLBACKS) && (USE_HAL_SD_REGISTER_CALLBACKS == 1U)
1898:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****         hsd->ErrorCallback(hsd);
1899:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c **** #else
1900:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****         HAL_SD_ErrorCallback(hsd);
1901:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c **** #endif /* USE_HAL_SD_REGISTER_CALLBACKS */
1902:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****       }
1903:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c **** #else
1904:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****       /* Abort the SD DMA channel */
1905:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****       if(((context & SD_CONTEXT_WRITE_SINGLE_BLOCK) != 0U) || ((context & SD_CONTEXT_WRITE_MULTIPLE
1906:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****       {
1907:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****         /* Set the DMA Tx abort callback */
1908:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****         hsd->hdmatx->XferAbortCallback = SD_DMATxAbort;
1909:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****         /* Abort DMA in IT mode */
1910:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****         if(HAL_DMA_Abort_IT(hsd->hdmatx) != HAL_OK)
1911:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****         {
ARM GAS  /tmp/ccECQX6D.s 			page 35


1912:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****           SD_DMATxAbort(hsd->hdmatx);
1913:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****         }
1914:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****       }
1915:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****       else if(((context & SD_CONTEXT_READ_SINGLE_BLOCK) != 0U) || ((context & SD_CONTEXT_READ_MULTI
1916:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****       {
1917:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****         /* Set the DMA Rx abort callback */
1918:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****         hsd->hdmarx->XferAbortCallback = SD_DMARxAbort;
1919:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****         /* Abort DMA in IT mode */
1920:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****         if(HAL_DMA_Abort_IT(hsd->hdmarx) != HAL_OK)
1921:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****         {
1922:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****           SD_DMARxAbort(hsd->hdmarx);
1923:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****         }
1924:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****       }
1925:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****       else
1926:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****       {
1927:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****         hsd->ErrorCode = HAL_SD_ERROR_NONE;
1928:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****         hsd->State = HAL_SD_STATE_READY;
1929:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****         hsd->Context = SD_CONTEXT_NONE;
1930:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c **** #if defined (USE_HAL_SD_REGISTER_CALLBACKS) && (USE_HAL_SD_REGISTER_CALLBACKS == 1U)
1931:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****         hsd->AbortCpltCallback(hsd);
1932:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c **** #else
1933:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****         HAL_SD_AbortCallback(hsd);
1934:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c **** #endif /* USE_HAL_SD_REGISTER_CALLBACKS */
1935:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****       }
1936:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c **** #endif /* STM32L4P5xx || STM32L4Q5xx || STM32L4R5xx || STM32L4R7xx || STM32L4R9xx || STM32L4S5xx ||
1937:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****     }
1938:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****     else
1939:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****     {
1940:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****       /* Nothing to do */
1941:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****     }
1942:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****   }
1943:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c **** 
1944:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c **** #if defined(STM32L4P5xx) || defined(STM32L4Q5xx) || defined(STM32L4R5xx) || defined(STM32L4R7xx) ||
1945:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****   else if(__HAL_SD_GET_FLAG(hsd, SDMMC_FLAG_IDMABTC) != RESET)
1946:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****   {
1947:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****     __HAL_SD_CLEAR_FLAG(hsd, SDMMC_FLAG_IDMABTC);
1948:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****     if(READ_BIT(hsd->Instance->IDMACTRL, SDMMC_IDMA_IDMABACT) == 0U)
1949:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****     {
1950:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****       /* Current buffer is buffer0, Transfer complete for buffer1 */
1951:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****       if((context & SD_CONTEXT_WRITE_MULTIPLE_BLOCK) != 0U)
1952:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****       {
1953:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c **** #if defined (USE_HAL_SD_REGISTER_CALLBACKS) && (USE_HAL_SD_REGISTER_CALLBACKS == 1U)
1954:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****         hsd->Write_DMADblBuf1CpltCallback(hsd);
1955:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c **** #else
1956:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****         HAL_SDEx_Write_DMADoubleBuffer1CpltCallback(hsd);
1957:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c **** #endif /* USE_HAL_SD_REGISTER_CALLBACKS */
1958:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****       }
1959:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****       else /* SD_CONTEXT_READ_MULTIPLE_BLOCK */
1960:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****       {
1961:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c **** #if defined (USE_HAL_SD_REGISTER_CALLBACKS) && (USE_HAL_SD_REGISTER_CALLBACKS == 1U)
1962:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****         hsd->Read_DMADblBuf1CpltCallback(hsd);
1963:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c **** #else
1964:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****         HAL_SDEx_Read_DMADoubleBuffer1CpltCallback(hsd);
1965:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c **** #endif /* USE_HAL_SD_REGISTER_CALLBACKS */
1966:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****       }
1967:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****     }
1968:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****     else /* SD_DMA_BUFFER1 */
ARM GAS  /tmp/ccECQX6D.s 			page 36


1969:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****     {
1970:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****       /* Current buffer is buffer1, Transfer complete for buffer0 */
1971:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****       if((context & SD_CONTEXT_WRITE_MULTIPLE_BLOCK) != 0U)
1972:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****       {
1973:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c **** #if defined (USE_HAL_SD_REGISTER_CALLBACKS) && (USE_HAL_SD_REGISTER_CALLBACKS == 1U)
1974:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****         hsd->Write_DMADblBuf0CpltCallback(hsd);
1975:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c **** #else
1976:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****         HAL_SDEx_Write_DMADoubleBuffer0CpltCallback(hsd);
1977:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c **** #endif /* USE_HAL_SD_REGISTER_CALLBACKS */
1978:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****       }
1979:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****       else /* SD_CONTEXT_READ_MULTIPLE_BLOCK */
1980:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****       {
1981:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c **** #if defined (USE_HAL_SD_REGISTER_CALLBACKS) && (USE_HAL_SD_REGISTER_CALLBACKS == 1U)
1982:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****         hsd->Read_DMADblBuf0CpltCallback(hsd);
1983:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c **** #else
1984:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****         HAL_SDEx_Read_DMADoubleBuffer0CpltCallback(hsd);
1985:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c **** #endif /* USE_HAL_SD_REGISTER_CALLBACKS */
1986:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****       }
1987:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****     }
1988:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****   }
1989:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c **** #endif /* STM32L4P5xx || STM32L4Q5xx || STM32L4R5xx || STM32L4R7xx || STM32L4R9xx || STM32L4S5xx ||
1990:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****   else
1991:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****   {
1992:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****     /* Nothing to do */
1993:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****   }
1994:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c **** }
1995:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c **** 
1996:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c **** /**
1997:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****   * @brief return the SD state
1998:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****   * @param hsd Pointer to sd handle
1999:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****   * @retval HAL state
2000:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****   */
2001:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c **** HAL_SD_StateTypeDef HAL_SD_GetState(SD_HandleTypeDef *hsd)
2002:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c **** {
2003:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****   return hsd->State;
2004:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c **** }
2005:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c **** 
2006:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c **** /**
2007:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c **** * @brief  Return the SD error code
2008:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c **** * @param  hsd : Pointer to a SD_HandleTypeDef structure that contains
2009:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****   *              the configuration information.
2010:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c **** * @retval SD Error Code
2011:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c **** */
2012:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c **** uint32_t HAL_SD_GetError(SD_HandleTypeDef *hsd)
2013:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c **** {
2014:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****   return hsd->ErrorCode;
2015:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c **** }
2016:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c **** 
2017:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c **** /**
2018:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****   * @brief Tx Transfer completed callbacks
2019:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****   * @param hsd Pointer to SD handle
2020:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****   * @retval None
2021:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****   */
2022:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c **** __weak void HAL_SD_TxCpltCallback(SD_HandleTypeDef *hsd)
2023:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c **** {
2024:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****   /* Prevent unused argument(s) compilation warning */
2025:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****   UNUSED(hsd);
ARM GAS  /tmp/ccECQX6D.s 			page 37


2026:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c **** 
2027:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****   /* NOTE : This function should not be modified, when the callback is needed,
2028:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****             the HAL_SD_TxCpltCallback can be implemented in the user file
2029:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****    */
2030:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c **** }
2031:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c **** 
2032:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c **** /**
2033:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****   * @brief Rx Transfer completed callbacks
2034:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****   * @param hsd Pointer SD handle
2035:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****   * @retval None
2036:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****   */
2037:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c **** __weak void HAL_SD_RxCpltCallback(SD_HandleTypeDef *hsd)
2038:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c **** {
2039:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****   /* Prevent unused argument(s) compilation warning */
2040:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****   UNUSED(hsd);
2041:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c **** 
2042:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****   /* NOTE : This function should not be modified, when the callback is needed,
2043:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****             the HAL_SD_RxCpltCallback can be implemented in the user file
2044:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****    */
2045:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c **** }
2046:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c **** 
2047:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c **** /**
2048:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****   * @brief SD error callbacks
2049:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****   * @param hsd Pointer SD handle
2050:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****   * @retval None
2051:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****   */
2052:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c **** __weak void HAL_SD_ErrorCallback(SD_HandleTypeDef *hsd)
2053:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c **** {
2054:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****   /* Prevent unused argument(s) compilation warning */
2055:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****   UNUSED(hsd);
2056:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c **** 
2057:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****   /* NOTE : This function should not be modified, when the callback is needed,
2058:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****             the HAL_SD_ErrorCallback can be implemented in the user file
2059:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****    */
2060:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c **** }
2061:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c **** 
2062:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c **** /**
2063:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****   * @brief SD Abort callbacks
2064:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****   * @param hsd Pointer SD handle
2065:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****   * @retval None
2066:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****   */
2067:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c **** __weak void HAL_SD_AbortCallback(SD_HandleTypeDef *hsd)
2068:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c **** {
2069:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****   /* Prevent unused argument(s) compilation warning */
2070:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****   UNUSED(hsd);
2071:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c **** 
2072:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****   /* NOTE : This function should not be modified, when the callback is needed,
2073:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****             the HAL_SD_AbortCallback can be implemented in the user file
2074:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****    */
2075:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c **** }
2076:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c **** 
2077:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c **** #if defined (USE_HAL_SD_REGISTER_CALLBACKS) && (USE_HAL_SD_REGISTER_CALLBACKS == 1U)
2078:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c **** /**
2079:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****   * @brief  Register a User SD Callback
2080:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****   *         To be used instead of the weak (surcharged) predefined callback
2081:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****   * @param hsd : SD handle
2082:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****   * @param CallbackID : ID of the callback to be registered
ARM GAS  /tmp/ccECQX6D.s 			page 38


2083:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****   *        This parameter can be one of the following values:
2084:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****   *          @arg @ref HAL_SD_TX_CPLT_CB_ID                 SD Tx Complete Callback ID
2085:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****   *          @arg @ref HAL_SD_RX_CPLT_CB_ID                 SD Rx Complete Callback ID
2086:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****   *          @arg @ref HAL_SD_ERROR_CB_ID                   SD Error Callback ID
2087:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****   *          @arg @ref HAL_SD_ABORT_CB_ID                   SD Abort Callback ID
2088:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****   *          @arg @ref HAL_SD_READ_DMA_DBL_BUF0_CPLT_CB_ID  SD DMA Rx Double buffer 0 Callback ID
2089:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****   *          @arg @ref HAL_SD_READ_DMA_DBL_BUF1_CPLT_CB_ID  SD DMA Rx Double buffer 1 Callback ID
2090:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****   *          @arg @ref HAL_SD_WRITE_DMA_DBL_BUF0_CPLT_CB_ID SD DMA Tx Double buffer 0 Callback ID
2091:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****   *          @arg @ref HAL_SD_WRITE_DMA_DBL_BUF1_CPLT_CB_ID SD DMA Tx Double buffer 1 Callback ID
2092:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****   *          @arg @ref HAL_SD_MSP_INIT_CB_ID                SD MspInit Callback ID
2093:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****   *          @arg @ref HAL_SD_MSP_DEINIT_CB_ID              SD MspDeInit Callback ID
2094:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****   * @param pCallback : pointer to the Callback function
2095:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****   * @retval status
2096:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****   */
2097:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c **** HAL_StatusTypeDef HAL_SD_RegisterCallback(SD_HandleTypeDef *hsd, HAL_SD_CallbackIDTypeDef CallbackI
2098:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c **** {
2099:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****   HAL_StatusTypeDef status = HAL_OK;
2100:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c **** 
2101:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****   if(pCallback == NULL)
2102:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****   {
2103:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****     /* Update the error code */
2104:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****     hsd->ErrorCode |= HAL_SD_ERROR_INVALID_CALLBACK;
2105:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****     return HAL_ERROR;
2106:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****   }
2107:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c **** 
2108:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****   /* Process locked */
2109:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****   __HAL_LOCK(hsd);
2110:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c **** 
2111:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****   if(hsd->State == HAL_SD_STATE_READY)
2112:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****   {
2113:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****     switch (CallbackID)
2114:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****     {
2115:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****     case HAL_SD_TX_CPLT_CB_ID :
2116:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****       hsd->TxCpltCallback = pCallback;
2117:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****       break;
2118:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****     case HAL_SD_RX_CPLT_CB_ID :
2119:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****       hsd->RxCpltCallback = pCallback;
2120:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****       break;
2121:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****     case HAL_SD_ERROR_CB_ID :
2122:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****       hsd->ErrorCallback = pCallback;
2123:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****       break;
2124:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****     case HAL_SD_ABORT_CB_ID :
2125:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****       hsd->AbortCpltCallback = pCallback;
2126:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****       break;
2127:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c **** #if defined(STM32L4P5xx) || defined(STM32L4Q5xx) || defined(STM32L4R5xx) || defined(STM32L4R7xx) ||
2128:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****     case HAL_SD_READ_DMA_DBL_BUF0_CPLT_CB_ID :
2129:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****       hsd->Read_DMADblBuf0CpltCallback = pCallback;
2130:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****       break;
2131:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****     case HAL_SD_READ_DMA_DBL_BUF1_CPLT_CB_ID :
2132:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****       hsd->Read_DMADblBuf1CpltCallback = pCallback;
2133:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****       break;
2134:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****     case HAL_SD_WRITE_DMA_DBL_BUF0_CPLT_CB_ID :
2135:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****       hsd->Write_DMADblBuf0CpltCallback = pCallback;
2136:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****       break;
2137:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****     case HAL_SD_WRITE_DMA_DBL_BUF1_CPLT_CB_ID :
2138:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****       hsd->Write_DMADblBuf1CpltCallback = pCallback;
2139:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****       break;
ARM GAS  /tmp/ccECQX6D.s 			page 39


2140:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c **** #endif
2141:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****     case HAL_SD_MSP_INIT_CB_ID :
2142:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****       hsd->MspInitCallback = pCallback;
2143:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****       break;
2144:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****     case HAL_SD_MSP_DEINIT_CB_ID :
2145:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****       hsd->MspDeInitCallback = pCallback;
2146:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****       break;
2147:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****     default :
2148:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****       /* Update the error code */
2149:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****       hsd->ErrorCode |= HAL_SD_ERROR_INVALID_CALLBACK;
2150:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****       /* update return status */
2151:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****       status =  HAL_ERROR;
2152:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****       break;
2153:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****     }
2154:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****   }
2155:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****   else if (hsd->State == HAL_SD_STATE_RESET)
2156:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****   {
2157:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****     switch (CallbackID)
2158:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****     {
2159:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****     case HAL_SD_MSP_INIT_CB_ID :
2160:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****       hsd->MspInitCallback = pCallback;
2161:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****       break;
2162:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****     case HAL_SD_MSP_DEINIT_CB_ID :
2163:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****       hsd->MspDeInitCallback = pCallback;
2164:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****       break;
2165:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****     default :
2166:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****       /* Update the error code */
2167:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****       hsd->ErrorCode |= HAL_SD_ERROR_INVALID_CALLBACK;
2168:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****       /* update return status */
2169:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****       status =  HAL_ERROR;
2170:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****       break;
2171:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****     }
2172:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****   }
2173:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****   else
2174:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****   {
2175:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****     /* Update the error code */
2176:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****     hsd->ErrorCode |= HAL_SD_ERROR_INVALID_CALLBACK;
2177:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****     /* update return status */
2178:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****     status =  HAL_ERROR;
2179:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****   }
2180:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c **** 
2181:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****   /* Release Lock */
2182:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****   __HAL_UNLOCK(hsd);
2183:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****   return status;
2184:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c **** }
2185:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c **** 
2186:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c **** /**
2187:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****   * @brief  Unregister a User SD Callback
2188:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****   *         SD Callback is redirected to the weak (surcharged) predefined callback
2189:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****   * @param hsd : SD handle
2190:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****   * @param CallbackID : ID of the callback to be unregistered
2191:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****   *        This parameter can be one of the following values:
2192:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****   *          @arg @ref HAL_SD_TX_CPLT_CB_ID                 SD Tx Complete Callback ID
2193:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****   *          @arg @ref HAL_SD_RX_CPLT_CB_ID                 SD Rx Complete Callback ID
2194:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****   *          @arg @ref HAL_SD_ERROR_CB_ID                   SD Error Callback ID
2195:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****   *          @arg @ref HAL_SD_ABORT_CB_ID                   SD Abort Callback ID
2196:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****   *          @arg @ref HAL_SD_READ_DMA_DBL_BUF0_CPLT_CB_ID  SD DMA Rx Double buffer 0 Callback ID
ARM GAS  /tmp/ccECQX6D.s 			page 40


2197:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****   *          @arg @ref HAL_SD_READ_DMA_DBL_BUF1_CPLT_CB_ID  SD DMA Rx Double buffer 1 Callback ID
2198:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****   *          @arg @ref HAL_SD_WRITE_DMA_DBL_BUF0_CPLT_CB_ID SD DMA Tx Double buffer 0 Callback ID
2199:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****   *          @arg @ref HAL_SD_WRITE_DMA_DBL_BUF1_CPLT_CB_ID SD DMA Tx Double buffer 1 Callback ID
2200:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****   *          @arg @ref HAL_SD_MSP_INIT_CB_ID                SD MspInit Callback ID
2201:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****   *          @arg @ref HAL_SD_MSP_DEINIT_CB_ID              SD MspDeInit Callback ID
2202:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****   * @retval status
2203:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****   */
2204:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c **** HAL_StatusTypeDef HAL_SD_UnRegisterCallback(SD_HandleTypeDef *hsd, HAL_SD_CallbackIDTypeDef Callbac
2205:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c **** {
2206:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****   HAL_StatusTypeDef status = HAL_OK;
2207:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c **** 
2208:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****   /* Process locked */
2209:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****   __HAL_LOCK(hsd);
2210:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c **** 
2211:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****   if(hsd->State == HAL_SD_STATE_READY)
2212:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****   {
2213:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****     switch (CallbackID)
2214:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****     {
2215:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****     case HAL_SD_TX_CPLT_CB_ID :
2216:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****       hsd->TxCpltCallback = HAL_SD_TxCpltCallback;
2217:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****       break;
2218:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****     case HAL_SD_RX_CPLT_CB_ID :
2219:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****       hsd->RxCpltCallback = HAL_SD_RxCpltCallback;
2220:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****       break;
2221:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****     case HAL_SD_ERROR_CB_ID :
2222:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****       hsd->ErrorCallback = HAL_SD_ErrorCallback;
2223:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****       break;
2224:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****     case HAL_SD_ABORT_CB_ID :
2225:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****       hsd->AbortCpltCallback = HAL_SD_AbortCallback;
2226:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****       break;
2227:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c **** #if defined(STM32L4P5xx) || defined(STM32L4Q5xx) || defined(STM32L4R5xx) || defined(STM32L4R7xx) ||
2228:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****     case HAL_SD_READ_DMA_DBL_BUF0_CPLT_CB_ID :
2229:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****       hsd->Read_DMADblBuf0CpltCallback = HAL_SDEx_Read_DMADoubleBuffer0CpltCallback;
2230:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****       break;
2231:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****     case HAL_SD_READ_DMA_DBL_BUF1_CPLT_CB_ID :
2232:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****       hsd->Read_DMADblBuf1CpltCallback = HAL_SDEx_Read_DMADoubleBuffer1CpltCallback;
2233:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****       break;
2234:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****     case HAL_SD_WRITE_DMA_DBL_BUF0_CPLT_CB_ID :
2235:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****       hsd->Write_DMADblBuf0CpltCallback = HAL_SDEx_Write_DMADoubleBuffer0CpltCallback;
2236:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****       break;
2237:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****     case HAL_SD_WRITE_DMA_DBL_BUF1_CPLT_CB_ID :
2238:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****       hsd->Write_DMADblBuf1CpltCallback = HAL_SDEx_Write_DMADoubleBuffer1CpltCallback;
2239:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****       break;
2240:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c **** #endif
2241:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****     case HAL_SD_MSP_INIT_CB_ID :
2242:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****       hsd->MspInitCallback = HAL_SD_MspInit;
2243:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****       break;
2244:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****     case HAL_SD_MSP_DEINIT_CB_ID :
2245:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****       hsd->MspDeInitCallback = HAL_SD_MspDeInit;
2246:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****       break;
2247:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****     default :
2248:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****       /* Update the error code */
2249:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****       hsd->ErrorCode |= HAL_SD_ERROR_INVALID_CALLBACK;
2250:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****       /* update return status */
2251:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****       status =  HAL_ERROR;
2252:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****       break;
2253:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****     }
ARM GAS  /tmp/ccECQX6D.s 			page 41


2254:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****   }
2255:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****   else if (hsd->State == HAL_SD_STATE_RESET)
2256:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****   {
2257:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****     switch (CallbackID)
2258:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****     {
2259:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****     case HAL_SD_MSP_INIT_CB_ID :
2260:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****       hsd->MspInitCallback = HAL_SD_MspInit;
2261:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****       break;
2262:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****     case HAL_SD_MSP_DEINIT_CB_ID :
2263:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****       hsd->MspDeInitCallback = HAL_SD_MspDeInit;
2264:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****       break;
2265:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****     default :
2266:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****       /* Update the error code */
2267:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****       hsd->ErrorCode |= HAL_SD_ERROR_INVALID_CALLBACK;
2268:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****       /* update return status */
2269:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****       status =  HAL_ERROR;
2270:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****       break;
2271:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****     }
2272:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****   }
2273:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****   else
2274:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****   {
2275:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****     /* Update the error code */
2276:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****     hsd->ErrorCode |= HAL_SD_ERROR_INVALID_CALLBACK;
2277:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****     /* update return status */
2278:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****     status =  HAL_ERROR;
2279:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****   }
2280:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c **** 
2281:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****   /* Release Lock */
2282:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****   __HAL_UNLOCK(hsd);
2283:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****   return status;
2284:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c **** }
2285:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c **** 
2286:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c **** #if defined(STM32L4P5xx) || defined(STM32L4Q5xx) || defined(STM32L4R5xx) || defined(STM32L4R7xx) ||
2287:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c **** /**
2288:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****   * @brief  Register a User SD Transceiver Callback
2289:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****   *         To be used instead of the weak (surcharged) predefined callback
2290:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****   * @param hsd : SD handle
2291:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****   * @param pCallback : pointer to the Callback function
2292:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****   * @retval status
2293:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****   */
2294:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c **** HAL_StatusTypeDef HAL_SD_RegisterTransceiverCallback(SD_HandleTypeDef *hsd, pSD_TransceiverCallback
2295:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c **** {
2296:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****   HAL_StatusTypeDef status = HAL_OK;
2297:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c **** 
2298:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****   if(pCallback == NULL)
2299:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****   {
2300:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****     /* Update the error code */
2301:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****     hsd->ErrorCode |= HAL_SD_ERROR_INVALID_CALLBACK;
2302:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****     return HAL_ERROR;
2303:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****   }
2304:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c **** 
2305:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****   /* Process locked */
2306:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****   __HAL_LOCK(hsd);
2307:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c **** 
2308:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****   if(hsd->State == HAL_SD_STATE_READY)
2309:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****   {
2310:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****     hsd->DriveTransceiver_1_8V_Callback = pCallback;
ARM GAS  /tmp/ccECQX6D.s 			page 42


2311:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****   }
2312:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****   else
2313:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****   {
2314:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****     /* Update the error code */
2315:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****     hsd->ErrorCode |= HAL_SD_ERROR_INVALID_CALLBACK;
2316:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****     /* update return status */
2317:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****     status =  HAL_ERROR;
2318:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****   }
2319:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c **** 
2320:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****   /* Release Lock */
2321:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****   __HAL_UNLOCK(hsd);
2322:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****   return status;
2323:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c **** }
2324:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c **** 
2325:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c **** /**
2326:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****   * @brief  Unregister a User SD Transceiver Callback
2327:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****   *         SD Callback is redirected to the weak (surcharged) predefined callback
2328:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****   * @param hsd : SD handle
2329:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****   * @retval status
2330:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****   */
2331:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c **** HAL_StatusTypeDef HAL_SD_UnRegisterTransceiverCallback(SD_HandleTypeDef *hsd)
2332:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c **** {
2333:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****   HAL_StatusTypeDef status = HAL_OK;
2334:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c **** 
2335:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****   /* Process locked */
2336:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****   __HAL_LOCK(hsd);
2337:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c **** 
2338:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****   if(hsd->State == HAL_SD_STATE_READY)
2339:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****   {
2340:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****     hsd->DriveTransceiver_1_8V_Callback = HAL_SDEx_DriveTransceiver_1_8V_Callback;
2341:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****   }
2342:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****   else
2343:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****   {
2344:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****     /* Update the error code */
2345:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****     hsd->ErrorCode |= HAL_SD_ERROR_INVALID_CALLBACK;
2346:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****     /* update return status */
2347:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****     status =  HAL_ERROR;
2348:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****   }
2349:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c **** 
2350:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****   /* Release Lock */
2351:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****   __HAL_UNLOCK(hsd);
2352:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****   return status;
2353:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c **** }
2354:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c **** #endif
2355:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c **** #endif /* USE_HAL_SD_REGISTER_CALLBACKS */
2356:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c **** 
2357:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c **** /**
2358:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****   * @}
2359:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****   */
2360:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c **** 
2361:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c **** /** @addtogroup SD_Exported_Functions_Group3
2362:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****  *  @brief   management functions
2363:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****  *
2364:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c **** @verbatim
2365:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****   ==============================================================================
2366:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****                       ##### Peripheral Control functions #####
2367:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****   ==============================================================================
ARM GAS  /tmp/ccECQX6D.s 			page 43


2368:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****   [..]
2369:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****     This subsection provides a set of functions allowing to control the SD card
2370:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****     operations and get the related information
2371:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c **** 
2372:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c **** @endverbatim
2373:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****   * @{
2374:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****   */
2375:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c **** 
2376:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c **** /**
2377:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****   * @brief  Returns information the information of the card which are stored on
2378:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****   *         the CID register.
2379:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****   * @param  hsd Pointer to SD handle
2380:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****   * @param  pCID Pointer to a HAL_SD_CardCIDTypeDef structure that
2381:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****   *         contains all CID register parameters
2382:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****   * @retval HAL status
2383:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****   */
2384:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c **** HAL_StatusTypeDef HAL_SD_GetCardCID(SD_HandleTypeDef *hsd, HAL_SD_CardCIDTypeDef *pCID)
2385:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c **** {
2386:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****   pCID->ManufacturerID = (uint8_t)((hsd->CID[0] & 0xFF000000U) >> 24U);
2387:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c **** 
2388:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****   pCID->OEM_AppliID = (uint16_t)((hsd->CID[0] & 0x00FFFF00U) >> 8U);
2389:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c **** 
2390:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****   pCID->ProdName1 = (((hsd->CID[0] & 0x000000FFU) << 24U) | ((hsd->CID[1] & 0xFFFFFF00U) >> 8U));
2391:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c **** 
2392:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****   pCID->ProdName2 = (uint8_t)(hsd->CID[1] & 0x000000FFU);
2393:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c **** 
2394:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****   pCID->ProdRev = (uint8_t)((hsd->CID[2] & 0xFF000000U) >> 24U);
2395:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c **** 
2396:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****   pCID->ProdSN = (((hsd->CID[2] & 0x00FFFFFFU) << 8U) | ((hsd->CID[3] & 0xFF000000U) >> 24U));
2397:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c **** 
2398:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****   pCID->Reserved1 = (uint8_t)((hsd->CID[3] & 0x00F00000U) >> 20U);
2399:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c **** 
2400:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****   pCID->ManufactDate = (uint16_t)((hsd->CID[3] & 0x000FFF00U) >> 8U);
2401:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c **** 
2402:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****   pCID->CID_CRC = (uint8_t)((hsd->CID[3] & 0x000000FEU) >> 1U);
2403:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c **** 
2404:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****   pCID->Reserved2 = 1U;
2405:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c **** 
2406:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****   return HAL_OK;
2407:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c **** }
2408:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c **** 
2409:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c **** /**
2410:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****   * @brief  Returns information the information of the card which are stored on
2411:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****   *         the CSD register.
2412:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****   * @param  hsd Pointer to SD handle
2413:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****   * @param  pCSD Pointer to a HAL_SD_CardCSDTypeDef structure that
2414:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****   *         contains all CSD register parameters
2415:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****   * @retval HAL status
2416:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****   */
2417:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c **** HAL_StatusTypeDef HAL_SD_GetCardCSD(SD_HandleTypeDef *hsd, HAL_SD_CardCSDTypeDef *pCSD)
2418:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c **** {
2419:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****   pCSD->CSDStruct = (uint8_t)((hsd->CSD[0] & 0xC0000000U) >> 30U);
2420:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c **** 
2421:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****   pCSD->SysSpecVersion = (uint8_t)((hsd->CSD[0] & 0x3C000000U) >> 26U);
2422:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c **** 
2423:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****   pCSD->Reserved1 = (uint8_t)((hsd->CSD[0] & 0x03000000U) >> 24U);
2424:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c **** 
ARM GAS  /tmp/ccECQX6D.s 			page 44


2425:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****   pCSD->TAAC = (uint8_t)((hsd->CSD[0] & 0x00FF0000U) >> 16U);
2426:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c **** 
2427:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****   pCSD->NSAC = (uint8_t)((hsd->CSD[0] & 0x0000FF00U) >> 8U);
2428:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c **** 
2429:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****   pCSD->MaxBusClkFrec = (uint8_t)(hsd->CSD[0] & 0x000000FFU);
2430:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c **** 
2431:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****   pCSD->CardComdClasses = (uint16_t)((hsd->CSD[1] & 0xFFF00000U) >> 20U);
2432:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c **** 
2433:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****   pCSD->RdBlockLen = (uint8_t)((hsd->CSD[1] & 0x000F0000U) >> 16U);
2434:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c **** 
2435:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****   pCSD->PartBlockRead   = (uint8_t)((hsd->CSD[1] & 0x00008000U) >> 15U);
2436:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c **** 
2437:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****   pCSD->WrBlockMisalign = (uint8_t)((hsd->CSD[1] & 0x00004000U) >> 14U);
2438:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c **** 
2439:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****   pCSD->RdBlockMisalign = (uint8_t)((hsd->CSD[1] & 0x00002000U) >> 13U);
2440:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c **** 
2441:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****   pCSD->DSRImpl = (uint8_t)((hsd->CSD[1] & 0x00001000U) >> 12U);
2442:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c **** 
2443:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****   pCSD->Reserved2 = 0U; /*!< Reserved */
2444:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c **** 
2445:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****   if(hsd->SdCard.CardType == CARD_SDSC)
2446:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****   {
2447:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****     pCSD->DeviceSize = (((hsd->CSD[1] & 0x000003FFU) << 2U) | ((hsd->CSD[2] & 0xC0000000U) >> 30U))
2448:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c **** 
2449:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****     pCSD->MaxRdCurrentVDDMin = (uint8_t)((hsd->CSD[2] & 0x38000000U) >> 27U);
2450:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c **** 
2451:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****     pCSD->MaxRdCurrentVDDMax = (uint8_t)((hsd->CSD[2] & 0x07000000U) >> 24U);
2452:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c **** 
2453:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****     pCSD->MaxWrCurrentVDDMin = (uint8_t)((hsd->CSD[2] & 0x00E00000U) >> 21U);
2454:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c **** 
2455:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****     pCSD->MaxWrCurrentVDDMax = (uint8_t)((hsd->CSD[2] & 0x001C0000U) >> 18U);
2456:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c **** 
2457:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****     pCSD->DeviceSizeMul = (uint8_t)((hsd->CSD[2] & 0x00038000U) >> 15U);
2458:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c **** 
2459:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****     hsd->SdCard.BlockNbr  = (pCSD->DeviceSize + 1U) ;
2460:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****     hsd->SdCard.BlockNbr *= (1UL << ((pCSD->DeviceSizeMul & 0x07U) + 2U));
2461:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****     hsd->SdCard.BlockSize = (1UL << (pCSD->RdBlockLen & 0x0FU));
2462:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c **** 
2463:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****     hsd->SdCard.LogBlockNbr =  (hsd->SdCard.BlockNbr) * ((hsd->SdCard.BlockSize) / 512U);
2464:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****     hsd->SdCard.LogBlockSize = 512U;
2465:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****   }
2466:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****   else if(hsd->SdCard.CardType == CARD_SDHC_SDXC)
2467:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****   {
2468:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****     /* Byte 7 */
2469:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****     pCSD->DeviceSize = (((hsd->CSD[1] & 0x0000003FU) << 16U) | ((hsd->CSD[2] & 0xFFFF0000U) >> 16U)
2470:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c **** 
2471:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****     hsd->SdCard.BlockNbr = ((pCSD->DeviceSize + 1U) * 1024U);
2472:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****     hsd->SdCard.LogBlockNbr = hsd->SdCard.BlockNbr;
2473:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****     hsd->SdCard.BlockSize = 512U;
2474:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****     hsd->SdCard.LogBlockSize = hsd->SdCard.BlockSize;
2475:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****   }
2476:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****   else
2477:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****   {
2478:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****     /* Clear all the static flags */
2479:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****     __HAL_SD_CLEAR_FLAG(hsd, SDMMC_STATIC_FLAGS);
2480:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****     hsd->ErrorCode |= HAL_SD_ERROR_UNSUPPORTED_FEATURE;
2481:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****     hsd->State = HAL_SD_STATE_READY;
ARM GAS  /tmp/ccECQX6D.s 			page 45


2482:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****     return HAL_ERROR;
2483:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****   }
2484:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c **** 
2485:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****   pCSD->EraseGrSize = (uint8_t)((hsd->CSD[2] & 0x00004000U) >> 14U);
2486:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c **** 
2487:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****   pCSD->EraseGrMul = (uint8_t)((hsd->CSD[2] & 0x00003F80U) >> 7U);
2488:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c **** 
2489:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****   pCSD->WrProtectGrSize = (uint8_t)(hsd->CSD[2] & 0x0000007FU);
2490:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c **** 
2491:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****   pCSD->WrProtectGrEnable = (uint8_t)((hsd->CSD[3] & 0x80000000U) >> 31U);
2492:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c **** 
2493:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****   pCSD->ManDeflECC = (uint8_t)((hsd->CSD[3] & 0x60000000U) >> 29U);
2494:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c **** 
2495:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****   pCSD->WrSpeedFact = (uint8_t)((hsd->CSD[3] & 0x1C000000U) >> 26U);
2496:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c **** 
2497:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****   pCSD->MaxWrBlockLen= (uint8_t)((hsd->CSD[3] & 0x03C00000U) >> 22U);
2498:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c **** 
2499:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****   pCSD->WriteBlockPaPartial = (uint8_t)((hsd->CSD[3] & 0x00200000U) >> 21U);
2500:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c **** 
2501:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****   pCSD->Reserved3 = 0;
2502:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c **** 
2503:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****   pCSD->ContentProtectAppli = (uint8_t)((hsd->CSD[3] & 0x00010000U) >> 16U);
2504:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c **** 
2505:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****   pCSD->FileFormatGroup = (uint8_t)((hsd->CSD[3] & 0x00008000U) >> 15U);
2506:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c **** 
2507:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****   pCSD->CopyFlag = (uint8_t)((hsd->CSD[3] & 0x00004000U) >> 14U);
2508:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c **** 
2509:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****   pCSD->PermWrProtect = (uint8_t)((hsd->CSD[3] & 0x00002000U) >> 13U);
2510:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c **** 
2511:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****   pCSD->TempWrProtect = (uint8_t)((hsd->CSD[3] & 0x00001000U) >> 12U);
2512:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c **** 
2513:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****   pCSD->FileFormat = (uint8_t)((hsd->CSD[3] & 0x00000C00U) >> 10U);
2514:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c **** 
2515:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****   pCSD->ECC= (uint8_t)((hsd->CSD[3] & 0x00000300U) >> 8U);
2516:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c **** 
2517:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****   pCSD->CSD_CRC = (uint8_t)((hsd->CSD[3] & 0x000000FEU) >> 1U);
2518:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c **** 
2519:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****   pCSD->Reserved4 = 1;
2520:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c **** 
2521:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****   return HAL_OK;
2522:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c **** }
2523:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c **** 
2524:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c **** /**
2525:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****   * @brief  Gets the SD status info.
2526:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****   * @param  hsd Pointer to SD handle
2527:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****   * @param  pStatus Pointer to the HAL_SD_CardStatusTypeDef structure that
2528:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****   *         will contain the SD card status information
2529:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****   * @retval HAL status
2530:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****   */
2531:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c **** HAL_StatusTypeDef HAL_SD_GetCardStatus(SD_HandleTypeDef *hsd, HAL_SD_CardStatusTypeDef *pStatus)
2532:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c **** {
2533:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****   uint32_t sd_status[16];
2534:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****   uint32_t errorstate;
2535:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****   HAL_StatusTypeDef status = HAL_OK;
2536:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c **** 
2537:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****   errorstate = SD_SendSDStatus(hsd, sd_status);
2538:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****   if(errorstate != HAL_SD_ERROR_NONE)
ARM GAS  /tmp/ccECQX6D.s 			page 46


2539:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****   {
2540:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****     /* Clear all the static flags */
2541:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****     __HAL_SD_CLEAR_FLAG(hsd, SDMMC_STATIC_FLAGS);
2542:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****     hsd->ErrorCode |= errorstate;
2543:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****     hsd->State = HAL_SD_STATE_READY;
2544:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****     status = HAL_ERROR;
2545:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****   }
2546:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****   else
2547:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****   {
2548:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****     pStatus->DataBusWidth = (uint8_t)((sd_status[0] & 0xC0U) >> 6U);
2549:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c **** 
2550:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****     pStatus->SecuredMode = (uint8_t)((sd_status[0] & 0x20U) >> 5U);
2551:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c **** 
2552:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****     pStatus->CardType = (uint16_t)(((sd_status[0] & 0x00FF0000U) >> 8U) | ((sd_status[0] & 0xFF0000
2553:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c **** 
2554:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****     pStatus->ProtectedAreaSize = (((sd_status[1] & 0xFFU) << 24U)    | ((sd_status[1] & 0xFF00U) <<
2555:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****                                   ((sd_status[1] & 0xFF0000U) >> 8U) | ((sd_status[1] & 0xFF000000U
2556:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c **** 
2557:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****     pStatus->SpeedClass = (uint8_t)(sd_status[2] & 0xFFU);
2558:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c **** 
2559:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****     pStatus->PerformanceMove = (uint8_t)((sd_status[2] & 0xFF00U) >> 8U);
2560:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c **** 
2561:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****     pStatus->AllocationUnitSize = (uint8_t)((sd_status[2] & 0xF00000U) >> 20U);
2562:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c **** 
2563:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****     pStatus->EraseSize = (uint16_t)(((sd_status[2] & 0xFF000000U) >> 16U) | (sd_status[3] & 0xFFU))
2564:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c **** 
2565:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****     pStatus->EraseTimeout = (uint8_t)((sd_status[3] & 0xFC00U) >> 10U);
2566:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c **** 
2567:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****     pStatus->EraseOffset = (uint8_t)((sd_status[3] & 0x0300U) >> 8U);
2568:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c **** 
2569:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c **** #if defined(STM32L4P5xx) || defined(STM32L4Q5xx) || defined(STM32L4R5xx) || defined(STM32L4R7xx) ||
2570:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****     pStatus->UhsSpeedGrade = (uint8_t)((sd_status[3] & 0x00F0U) >> 4U);
2571:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****     pStatus->UhsAllocationUnitSize = (uint8_t)(sd_status[3] & 0x000FU) ;
2572:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****     pStatus->VideoSpeedClass = (uint8_t)((sd_status[4] & 0xFF000000U) >> 24U);
2573:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c **** #endif
2574:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****   }
2575:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c **** 
2576:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****   /* Set Block Size for Card */
2577:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****   errorstate = SDMMC_CmdBlockLength(hsd->Instance, BLOCKSIZE);
2578:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****   if(errorstate != HAL_SD_ERROR_NONE)
2579:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****   {
2580:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****     /* Clear all the static flags */
2581:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****     __HAL_SD_CLEAR_FLAG(hsd, SDMMC_STATIC_FLAGS);
2582:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****     hsd->ErrorCode = errorstate;
2583:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****     hsd->State = HAL_SD_STATE_READY;
2584:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****     status = HAL_ERROR;
2585:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****   }
2586:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c **** 
2587:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****   return status;
2588:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c **** }
2589:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c **** 
2590:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c **** /**
2591:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****   * @brief  Gets the SD card info.
2592:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****   * @param  hsd Pointer to SD handle
2593:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****   * @param  pCardInfo Pointer to the HAL_SD_CardInfoTypeDef structure that
2594:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****   *         will contain the SD card status information
2595:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****   * @retval HAL status
ARM GAS  /tmp/ccECQX6D.s 			page 47


2596:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****   */
2597:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c **** HAL_StatusTypeDef HAL_SD_GetCardInfo(SD_HandleTypeDef *hsd, HAL_SD_CardInfoTypeDef *pCardInfo)
2598:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c **** {
2599:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****   pCardInfo->CardType     = (uint32_t)(hsd->SdCard.CardType);
2600:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****   pCardInfo->CardVersion  = (uint32_t)(hsd->SdCard.CardVersion);
2601:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****   pCardInfo->Class        = (uint32_t)(hsd->SdCard.Class);
2602:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****   pCardInfo->RelCardAdd   = (uint32_t)(hsd->SdCard.RelCardAdd);
2603:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****   pCardInfo->BlockNbr     = (uint32_t)(hsd->SdCard.BlockNbr);
2604:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****   pCardInfo->BlockSize    = (uint32_t)(hsd->SdCard.BlockSize);
2605:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****   pCardInfo->LogBlockNbr  = (uint32_t)(hsd->SdCard.LogBlockNbr);
2606:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****   pCardInfo->LogBlockSize = (uint32_t)(hsd->SdCard.LogBlockSize);
2607:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c **** 
2608:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****   return HAL_OK;
2609:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c **** }
2610:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c **** 
2611:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c **** /**
2612:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****   * @brief  Enables wide bus operation for the requested card if supported by
2613:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****   *         card.
2614:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****   * @param  hsd Pointer to SD handle
2615:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****   * @param  WideMode Specifies the SD card wide bus mode
2616:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****   *          This parameter can be one of the following values:
2617:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****   *            @arg SDMMC_BUS_WIDE_8B: 8-bit data transfer
2618:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****   *            @arg SDMMC_BUS_WIDE_4B: 4-bit data transfer
2619:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****   *            @arg SDMMC_BUS_WIDE_1B: 1-bit data transfer
2620:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****   * @retval HAL status
2621:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****   */
2622:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c **** HAL_StatusTypeDef HAL_SD_ConfigWideBusOperation(SD_HandleTypeDef *hsd, uint32_t WideMode)
2623:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c **** {
2624:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****   SDMMC_InitTypeDef Init;
2625:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****   uint32_t errorstate;
2626:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****   uint32_t sdmmc_clk;
2627:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****   HAL_StatusTypeDef status = HAL_OK;
2628:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c **** 
2629:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****   /* Check the parameters */
2630:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****   assert_param(IS_SDMMC_BUS_WIDE(WideMode));
2631:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c **** 
2632:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****   /* Change State */
2633:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****   hsd->State = HAL_SD_STATE_BUSY;
2634:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c **** 
2635:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****   if(hsd->SdCard.CardType != CARD_SECURED)
2636:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****   {
2637:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****     if(WideMode == SDMMC_BUS_WIDE_8B)
2638:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****     {
2639:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****       hsd->ErrorCode |= HAL_SD_ERROR_UNSUPPORTED_FEATURE;
2640:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****     }
2641:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****     else if(WideMode == SDMMC_BUS_WIDE_4B)
2642:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****     {
2643:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****       errorstate = SD_WideBus_Enable(hsd);
2644:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c **** 
2645:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****       hsd->ErrorCode |= errorstate;
2646:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****     }
2647:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****     else if(WideMode == SDMMC_BUS_WIDE_1B)
2648:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****     {
2649:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****       errorstate = SD_WideBus_Disable(hsd);
2650:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c **** 
2651:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****       hsd->ErrorCode |= errorstate;
2652:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****     }
ARM GAS  /tmp/ccECQX6D.s 			page 48


2653:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****     else
2654:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****     {
2655:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****       /* WideMode is not a valid argument*/
2656:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****       hsd->ErrorCode |= HAL_SD_ERROR_PARAM;
2657:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****     }
2658:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****   }
2659:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****   else
2660:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****   {
2661:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****     /* MMC Card does not support this feature */
2662:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****     hsd->ErrorCode |= HAL_SD_ERROR_UNSUPPORTED_FEATURE;
2663:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****   }
2664:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c **** 
2665:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****   if(hsd->ErrorCode != HAL_SD_ERROR_NONE)
2666:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****   {
2667:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****     /* Clear all the static flags */
2668:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****     __HAL_SD_CLEAR_FLAG(hsd, SDMMC_STATIC_FLAGS);
2669:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****     status = HAL_ERROR;
2670:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****   }
2671:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****   else
2672:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****   {
2673:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****     sdmmc_clk = HAL_RCCEx_GetPeriphCLKFreq(RCC_PERIPHCLK_SDMMC1);
2674:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****     if (sdmmc_clk != 0U)
2675:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****     {
2676:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****       /* Configure the SDMMC peripheral */
2677:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****       Init.ClockEdge           = hsd->Init.ClockEdge;
2678:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c **** #if !defined(STM32L4P5xx) && !defined(STM32L4Q5xx) && !defined(STM32L4R5xx) && !defined(STM32L4R7xx
2679:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****       Init.ClockBypass         = hsd->Init.ClockBypass;
2680:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c **** #endif /* !STM32L4P5xx && !STM32L4Q5xx && !STM32L4R5xx && !STM32L4R7xx && !STM32L4R9xx && !STM32L4S
2681:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****       Init.ClockPowerSave      = hsd->Init.ClockPowerSave;
2682:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****       Init.BusWide             = WideMode;
2683:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****       Init.HardwareFlowControl = hsd->Init.HardwareFlowControl;
2684:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c **** 
2685:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c **** #if defined(STM32L4P5xx) || defined(STM32L4Q5xx) || defined(STM32L4R5xx) || defined(STM32L4R7xx) ||
2686:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****       /* Check if user Clock div < Normal speed 25Mhz, no change in Clockdiv */
2687:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****       if (hsd->Init.ClockDiv >= (sdmmc_clk / (2U * SD_NORMAL_SPEED_FREQ)))
2688:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****       {
2689:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****         Init.ClockDiv = hsd->Init.ClockDiv;
2690:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****       }
2691:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****       else if (hsd->SdCard.CardSpeed == CARD_ULTRA_HIGH_SPEED)
2692:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****       {
2693:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****         /* UltraHigh speed SD card,user Clock div */
2694:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****         Init.ClockDiv = hsd->Init.ClockDiv;
2695:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****       }
2696:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****       else if (hsd->SdCard.CardSpeed == CARD_HIGH_SPEED)
2697:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****       {
2698:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****         /* High speed SD card, Max Frequency = 50Mhz */
2699:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****         if (hsd->Init.ClockDiv == 0U)
2700:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****         {
2701:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****           if (sdmmc_clk > SD_HIGH_SPEED_FREQ)
2702:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****           {
2703:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****             Init.ClockDiv = sdmmc_clk / (2U * SD_HIGH_SPEED_FREQ);
2704:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****           }
2705:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****           else
2706:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****           {
2707:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****             Init.ClockDiv = hsd->Init.ClockDiv;
2708:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****           }
2709:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****         }
ARM GAS  /tmp/ccECQX6D.s 			page 49


2710:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****         else
2711:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****         {
2712:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****           if ((sdmmc_clk/(2U * hsd->Init.ClockDiv)) > SD_HIGH_SPEED_FREQ)
2713:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****           {
2714:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****             Init.ClockDiv = sdmmc_clk / (2U * SD_HIGH_SPEED_FREQ);
2715:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****           }
2716:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****           else
2717:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****           {
2718:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****             Init.ClockDiv = hsd->Init.ClockDiv;
2719:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****           }
2720:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****         }
2721:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****       }
2722:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****       else
2723:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****       {
2724:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****         /* No High speed SD card, Max Frequency = 25Mhz */
2725:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****         if (hsd->Init.ClockDiv == 0U)
2726:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****         {
2727:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****           if (sdmmc_clk > SD_NORMAL_SPEED_FREQ)
2728:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****           {
2729:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****             Init.ClockDiv = sdmmc_clk / (2U * SD_NORMAL_SPEED_FREQ);
2730:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****           }
2731:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****           else
2732:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****           {
2733:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****             Init.ClockDiv = hsd->Init.ClockDiv;
2734:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****           }
2735:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****         }
2736:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****         else
2737:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****         {
2738:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****           if ((sdmmc_clk/(2U * hsd->Init.ClockDiv)) > SD_NORMAL_SPEED_FREQ)
2739:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****           {
2740:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****             Init.ClockDiv = sdmmc_clk / (2U * SD_NORMAL_SPEED_FREQ);
2741:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****           }
2742:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****           else
2743:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****           {
2744:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****             Init.ClockDiv = hsd->Init.ClockDiv;
2745:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****           }
2746:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****         }
2747:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****       }
2748:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c **** 
2749:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****       Init.Transceiver = hsd->Init.Transceiver;
2750:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c **** #else
2751:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****       if ((sdmmc_clk / (hsd->Init.ClockDiv + 2U)) > SD_NORMAL_SPEED_FREQ)
2752:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****       {
2753:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****         Init.ClockDiv = ((sdmmc_clk / SD_NORMAL_SPEED_FREQ) - 2U);
2754:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****       }
2755:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****       else
2756:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****       {
2757:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****         Init.ClockDiv = hsd->Init.ClockDiv;
2758:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****       }
2759:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c **** #endif /* STM32L4P5xx || STM32L4Q5xx || STM32L4R5xx || STM32L4R7xx || STM32L4R9xx || STM32L4S5xx ||
2760:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c **** 
2761:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****       (void)SDMMC_Init(hsd->Instance, Init);
2762:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****     }
2763:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****     else
2764:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****     {
2765:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****       hsd->ErrorCode |= SDMMC_ERROR_INVALID_PARAMETER;
2766:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****       status = HAL_ERROR;
ARM GAS  /tmp/ccECQX6D.s 			page 50


2767:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****     }
2768:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****   }
2769:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c **** 
2770:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****   /* Set Block Size for Card */
2771:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****   errorstate = SDMMC_CmdBlockLength(hsd->Instance, BLOCKSIZE);
2772:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****   if(errorstate != HAL_SD_ERROR_NONE)
2773:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****   {
2774:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****     /* Clear all the static flags */
2775:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****     __HAL_SD_CLEAR_FLAG(hsd, SDMMC_STATIC_FLAGS);
2776:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****     hsd->ErrorCode |= errorstate;
2777:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****     status = HAL_ERROR;
2778:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****   }
2779:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c **** 
2780:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****   /* Change State */
2781:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****   hsd->State = HAL_SD_STATE_READY;
2782:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c **** 
2783:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****   return status;
2784:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c **** }
2785:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c **** 
2786:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c **** #if defined(STM32L4P5xx) || defined(STM32L4Q5xx) || defined(STM32L4R5xx) || defined(STM32L4R7xx) ||
2787:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c **** /**
2788:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****   * @brief  Configure the speed bus mode
2789:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****   * @param  hsd Pointer to the SD handle
2790:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****   * @param  SpeedMode Specifies the SD card speed bus mode
2791:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****   *          This parameter can be one of the following values:
2792:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****   *            @arg SDMMC_SPEED_MODE_AUTO: Max speed mode supported by the card
2793:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****   *            @arg SDMMC_SPEED_MODE_DEFAULT: Default Speed/SDR12 mode
2794:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****   *            @arg SDMMC_SPEED_MODE_HIGH: High Speed/SDR25 mode
2795:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****   *            @arg SDMMC_SPEED_MODE_ULTRA: Ultra high speed mode
2796:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****   * @retval HAL status
2797:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****   */
2798:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c **** 
2799:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c **** HAL_StatusTypeDef HAL_SD_ConfigSpeedBusOperation(SD_HandleTypeDef *hsd, uint32_t SpeedMode)
2800:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c **** {
2801:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****   uint32_t tickstart;
2802:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****   uint32_t errorstate;
2803:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****   HAL_StatusTypeDef status = HAL_OK;
2804:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c **** 
2805:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****   /* Check the parameters */
2806:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****   assert_param(IS_SDMMC_SPEED_MODE(SpeedMode));
2807:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****   /* Change State */
2808:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****   hsd->State = HAL_SD_STATE_BUSY;
2809:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c **** 
2810:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****   if(hsd->Init.Transceiver == SDMMC_TRANSCEIVER_ENABLE)
2811:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****   {
2812:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****     switch (SpeedMode)
2813:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****     {
2814:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****       case SDMMC_SPEED_MODE_AUTO:
2815:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****       {
2816:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****         if ((hsd->SdCard.CardSpeed  == CARD_ULTRA_HIGH_SPEED) ||
2817:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****             (hsd->SdCard.CardType == CARD_SDHC_SDXC))
2818:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****         {
2819:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****           hsd->Instance->CLKCR |= 0x00100000U;
2820:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****           /* Enable Ultra High Speed */
2821:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****           if (SD_UltraHighSpeed(hsd) != HAL_SD_ERROR_NONE)
2822:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****           {
2823:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****             if (SD_HighSpeed(hsd) != HAL_SD_ERROR_NONE)
ARM GAS  /tmp/ccECQX6D.s 			page 51


2824:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****             {
2825:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****               hsd->ErrorCode |= HAL_SD_ERROR_UNSUPPORTED_FEATURE;
2826:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****               status = HAL_ERROR;
2827:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****             }
2828:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****           }
2829:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****         }
2830:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****         else if (hsd->SdCard.CardSpeed  == CARD_HIGH_SPEED)
2831:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****         {
2832:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****           /* Enable High Speed */
2833:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****           if (SD_HighSpeed(hsd) != HAL_SD_ERROR_NONE)
2834:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****           {
2835:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****             hsd->ErrorCode |= HAL_SD_ERROR_UNSUPPORTED_FEATURE;
2836:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****             status = HAL_ERROR;
2837:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****           }
2838:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****         }
2839:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****         else
2840:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****         {
2841:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****           /*Nothing to do, Use defaultSpeed */
2842:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****         }
2843:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****         break;
2844:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****       }
2845:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c **** 
2846:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****       case SDMMC_SPEED_MODE_ULTRA:
2847:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****       {
2848:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****         if ((hsd->SdCard.CardSpeed  == CARD_ULTRA_HIGH_SPEED) ||
2849:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****             (hsd->SdCard.CardType == CARD_SDHC_SDXC))
2850:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****         {
2851:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****           hsd->Instance->CLKCR |= 0x00100000U;
2852:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****           /* Enable UltraHigh Speed */
2853:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****           if (SD_UltraHighSpeed(hsd) != HAL_SD_ERROR_NONE)
2854:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****           {
2855:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****             hsd->ErrorCode |= HAL_SD_ERROR_UNSUPPORTED_FEATURE;
2856:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****             status = HAL_ERROR;
2857:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****           }
2858:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****         }
2859:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****         else
2860:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****         {
2861:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****           hsd->ErrorCode |= HAL_SD_ERROR_UNSUPPORTED_FEATURE;
2862:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****           status = HAL_ERROR;
2863:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****         }
2864:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****         break;
2865:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****       }
2866:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c **** 
2867:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****       case SDMMC_SPEED_MODE_DDR:
2868:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****       {
2869:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****         if ((hsd->SdCard.CardSpeed  == CARD_ULTRA_HIGH_SPEED) ||
2870:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****             (hsd->SdCard.CardType == CARD_SDHC_SDXC))
2871:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****         {
2872:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****           hsd->Instance->CLKCR |= 0x00100000U;
2873:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****           /* Enable DDR Mode*/
2874:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****           if (SD_DDR_Mode(hsd) != HAL_SD_ERROR_NONE)
2875:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****           {
2876:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****             hsd->ErrorCode |= HAL_SD_ERROR_UNSUPPORTED_FEATURE;
2877:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****             status = HAL_ERROR;
2878:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****           }
2879:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****         }
2880:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****         else
ARM GAS  /tmp/ccECQX6D.s 			page 52


2881:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****         {
2882:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****           hsd->ErrorCode |= HAL_SD_ERROR_UNSUPPORTED_FEATURE;
2883:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****           status = HAL_ERROR;
2884:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****         }
2885:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****         break;
2886:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****       }
2887:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c **** 
2888:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****       case SDMMC_SPEED_MODE_HIGH:
2889:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****       {
2890:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****         if ((hsd->SdCard.CardSpeed  == CARD_ULTRA_HIGH_SPEED) ||
2891:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****             (hsd->SdCard.CardSpeed  == CARD_HIGH_SPEED) ||
2892:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****             (hsd->SdCard.CardType == CARD_SDHC_SDXC))
2893:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****         {
2894:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****           /* Enable High Speed */
2895:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****           if (SD_HighSpeed(hsd) != HAL_SD_ERROR_NONE)
2896:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****           {
2897:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****             hsd->ErrorCode |= HAL_SD_ERROR_UNSUPPORTED_FEATURE;
2898:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****             status = HAL_ERROR;
2899:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****           }
2900:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****         }
2901:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****         else
2902:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****         {
2903:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****           hsd->ErrorCode |= HAL_SD_ERROR_UNSUPPORTED_FEATURE;
2904:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****           status = HAL_ERROR;
2905:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****         }
2906:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****         break;
2907:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****       }
2908:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c **** 
2909:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****       case SDMMC_SPEED_MODE_DEFAULT:
2910:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****         break;
2911:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c **** 
2912:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****       default:
2913:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****         hsd->ErrorCode |= HAL_SD_ERROR_PARAM;
2914:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****         status = HAL_ERROR;
2915:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****         break;
2916:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****     }
2917:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****   }
2918:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****   else
2919:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****   {
2920:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****     switch (SpeedMode)
2921:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****     {
2922:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****       case SDMMC_SPEED_MODE_AUTO:
2923:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****       {
2924:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****         if ((hsd->SdCard.CardSpeed  == CARD_ULTRA_HIGH_SPEED) ||
2925:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****             (hsd->SdCard.CardSpeed  == CARD_HIGH_SPEED) ||
2926:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****             (hsd->SdCard.CardType == CARD_SDHC_SDXC))
2927:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****         {
2928:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****           /* Enable High Speed */
2929:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****           if (SD_HighSpeed(hsd) != HAL_SD_ERROR_NONE)
2930:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****           {
2931:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****             hsd->ErrorCode |= HAL_SD_ERROR_UNSUPPORTED_FEATURE;
2932:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****             status = HAL_ERROR;
2933:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****           }
2934:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****         }
2935:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****         else
2936:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****         {
2937:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****           /*Nothing to do, Use defaultSpeed */
ARM GAS  /tmp/ccECQX6D.s 			page 53


2938:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****         }
2939:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****         break;
2940:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****       }
2941:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c **** 
2942:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****       case SDMMC_SPEED_MODE_HIGH:
2943:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****       {
2944:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****         if ((hsd->SdCard.CardSpeed  == CARD_ULTRA_HIGH_SPEED) ||
2945:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****             (hsd->SdCard.CardSpeed  == CARD_HIGH_SPEED) ||
2946:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****             (hsd->SdCard.CardType == CARD_SDHC_SDXC))
2947:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****         {
2948:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****           /* Enable High Speed */
2949:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****           if (SD_HighSpeed(hsd) != HAL_SD_ERROR_NONE)
2950:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****           {
2951:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****             hsd->ErrorCode |= HAL_SD_ERROR_UNSUPPORTED_FEATURE;
2952:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****             status = HAL_ERROR;
2953:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****           }
2954:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****         }
2955:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****         else
2956:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****         {
2957:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****           hsd->ErrorCode |= HAL_SD_ERROR_UNSUPPORTED_FEATURE;
2958:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****           status = HAL_ERROR;
2959:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****         }
2960:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****         break;
2961:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****       }
2962:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c **** 
2963:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****       case SDMMC_SPEED_MODE_DEFAULT:
2964:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****         break;
2965:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c **** 
2966:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****       case SDMMC_SPEED_MODE_ULTRA: /*not valid without transceiver*/
2967:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****       default:
2968:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****         hsd->ErrorCode |= HAL_SD_ERROR_PARAM;
2969:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****         status = HAL_ERROR;
2970:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****         break;
2971:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****     }
2972:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****   }
2973:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c **** 
2974:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****   /* Verify that SD card is ready to use after Speed mode switch*/
2975:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****   tickstart = HAL_GetTick();
2976:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****   while ((HAL_SD_GetCardState(hsd) != HAL_SD_CARD_TRANSFER))
2977:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****   {
2978:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****     if ((HAL_GetTick() - tickstart) >=  SDMMC_DATATIMEOUT)
2979:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****     {
2980:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****       hsd->ErrorCode = HAL_SD_ERROR_TIMEOUT;
2981:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****       hsd->State = HAL_SD_STATE_READY;
2982:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****       return HAL_TIMEOUT;
2983:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****     }
2984:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****   }
2985:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c **** 
2986:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****   /* Set Block Size for Card */
2987:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****   errorstate = SDMMC_CmdBlockLength(hsd->Instance, BLOCKSIZE);
2988:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****   if(errorstate != HAL_SD_ERROR_NONE)
2989:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****   {
2990:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****     /* Clear all the static flags */
2991:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****     __HAL_SD_CLEAR_FLAG(hsd, SDMMC_STATIC_FLAGS);
2992:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****     hsd->ErrorCode |= errorstate;
2993:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****     status = HAL_ERROR;
2994:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****   }
ARM GAS  /tmp/ccECQX6D.s 			page 54


2995:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c **** 
2996:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****   /* Change State */
2997:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****   hsd->State = HAL_SD_STATE_READY;
2998:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****   return status;
2999:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c **** }
3000:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c **** #endif /* STM32L4P5xx || STM32L4Q5xx || STM32L4R5xx || STM32L4R7xx || STM32L4R9xx || STM32L4S5xx ||
3001:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c **** 
3002:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c **** /**
3003:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****   * @brief  Gets the current sd card data state.
3004:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****   * @param  hsd pointer to SD handle
3005:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****   * @retval Card state
3006:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****   */
3007:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c **** HAL_SD_CardStateTypeDef HAL_SD_GetCardState(SD_HandleTypeDef *hsd)
3008:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c **** {
3009:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****   uint32_t cardstate;
3010:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****   uint32_t errorstate;
3011:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****   uint32_t resp1 = 0;
3012:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c **** 
3013:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****   errorstate = SD_SendStatus(hsd, &resp1);
3014:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****   if(errorstate != HAL_SD_ERROR_NONE)
3015:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****   {
3016:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****     hsd->ErrorCode |= errorstate;
3017:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****   }
3018:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c **** 
3019:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****   cardstate = ((resp1 >> 9U) & 0x0FU);
3020:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c **** 
3021:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****   return (HAL_SD_CardStateTypeDef)cardstate;
3022:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c **** }
3023:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c **** 
3024:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c **** /**
3025:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****   * @brief  Abort the current transfer and disable the SD.
3026:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****   * @param  hsd pointer to a SD_HandleTypeDef structure that contains
3027:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****   *                the configuration information for SD module.
3028:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****   * @retval HAL status
3029:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****   */
3030:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c **** HAL_StatusTypeDef HAL_SD_Abort(SD_HandleTypeDef *hsd)
3031:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c **** {
3032:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****   HAL_SD_CardStateTypeDef CardState;
3033:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c **** #if !defined(STM32L4P5xx) && !defined(STM32L4Q5xx) && !defined(STM32L4R5xx) && !defined(STM32L4R7xx
3034:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****   uint32_t context = hsd->Context;
3035:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c **** #endif
3036:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c **** 
3037:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****   /* DIsable All interrupts */
3038:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****   __HAL_SD_DISABLE_IT(hsd, SDMMC_IT_DATAEND | SDMMC_IT_DCRCFAIL | SDMMC_IT_DTIMEOUT|\
3039:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****                            SDMMC_IT_TXUNDERR| SDMMC_IT_RXOVERR);
3040:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c **** 
3041:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****   /* Clear All flags */
3042:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****   __HAL_SD_CLEAR_FLAG(hsd, SDMMC_STATIC_DATA_FLAGS);
3043:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c **** 
3044:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c **** #if defined(STM32L4P5xx) || defined(STM32L4Q5xx) || defined(STM32L4R5xx) || defined(STM32L4R7xx) ||
3045:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****   /* If IDMA Context, disable Internal DMA */
3046:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****   hsd->Instance->IDMACTRL = SDMMC_DISABLE_IDMA;
3047:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c **** #else
3048:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****   CLEAR_BIT(hsd->Instance->DCTRL, SDMMC_DCTRL_DTEN);
3049:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c **** 
3050:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****   if ((context & SD_CONTEXT_DMA) != 0U)
3051:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****   {
ARM GAS  /tmp/ccECQX6D.s 			page 55


3052:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****     /* Disable the SD DMA request */
3053:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****     hsd->Instance->DCTRL &= (uint32_t)~((uint32_t)SDMMC_DCTRL_DMAEN);
3054:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c **** 
3055:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****     /* Abort the SD DMA Tx channel */
3056:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****     if (((context & SD_CONTEXT_WRITE_SINGLE_BLOCK) != 0U) || ((context & SD_CONTEXT_WRITE_MULTIPLE_
3057:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****     {
3058:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****       if(HAL_DMA_Abort(hsd->hdmatx) != HAL_OK)
3059:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****       {
3060:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****         hsd->ErrorCode |= HAL_SD_ERROR_DMA;
3061:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****       }
3062:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****     }
3063:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****     /* Abort the SD DMA Rx channel */
3064:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****     else if (((context & SD_CONTEXT_READ_SINGLE_BLOCK) != 0U) || ((context & SD_CONTEXT_READ_MULTIP
3065:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****     {
3066:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****       if(HAL_DMA_Abort(hsd->hdmarx) != HAL_OK)
3067:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****       {
3068:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****         hsd->ErrorCode |= HAL_SD_ERROR_DMA;
3069:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****       }
3070:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****     }
3071:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****     else
3072:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****     {
3073:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****       /* Nothing to do */
3074:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****     }
3075:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****   }
3076:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c **** #endif /* STM32L4P5xx || STM32L4Q5xx || STM32L4R5xx || STM32L4R7xx || STM32L4R9xx || STM32L4S5xx ||
3077:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c **** 
3078:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****   hsd->State = HAL_SD_STATE_READY;
3079:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c **** 
3080:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****   /* Initialize the SD operation */
3081:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****   hsd->Context = SD_CONTEXT_NONE;
3082:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c **** 
3083:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****   CardState = HAL_SD_GetCardState(hsd);
3084:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****   if((CardState == HAL_SD_CARD_RECEIVING) || (CardState == HAL_SD_CARD_SENDING))
3085:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****   {
3086:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****     hsd->ErrorCode = SDMMC_CmdStopTransfer(hsd->Instance);
3087:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****   }
3088:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****   if(hsd->ErrorCode != HAL_SD_ERROR_NONE)
3089:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****   {
3090:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****     return HAL_ERROR;
3091:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****   }
3092:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****   return HAL_OK;
3093:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c **** }
3094:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c **** 
3095:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c **** /**
3096:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****   * @brief  Abort the current transfer and disable the SD (IT mode).
3097:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****   * @param  hsd pointer to a SD_HandleTypeDef structure that contains
3098:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****   *                the configuration information for SD module.
3099:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****   * @retval HAL status
3100:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****   */
3101:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c **** HAL_StatusTypeDef HAL_SD_Abort_IT(SD_HandleTypeDef *hsd)
3102:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c **** {
3103:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****   HAL_SD_CardStateTypeDef CardState;
3104:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c **** #if !defined(STM32L4P5xx) && !defined(STM32L4Q5xx) && !defined(STM32L4R5xx) && !defined(STM32L4R7xx
3105:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****   uint32_t context = hsd->Context;
3106:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c **** #endif
3107:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c **** 
3108:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****   /* Disable All interrupts */
ARM GAS  /tmp/ccECQX6D.s 			page 56


3109:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****   __HAL_SD_DISABLE_IT(hsd, SDMMC_IT_DATAEND | SDMMC_IT_DCRCFAIL | SDMMC_IT_DTIMEOUT|\
3110:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****                            SDMMC_IT_TXUNDERR| SDMMC_IT_RXOVERR);
3111:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c **** 
3112:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c **** #if defined(STM32L4P5xx) || defined(STM32L4Q5xx) || defined(STM32L4R5xx) || defined(STM32L4R7xx) ||
3113:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****   /* If IDMA Context, disable Internal DMA */
3114:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****   hsd->Instance->IDMACTRL = SDMMC_DISABLE_IDMA;
3115:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c **** 
3116:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****   /* Clear All flags */
3117:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****   __HAL_SD_CLEAR_FLAG(hsd, SDMMC_STATIC_DATA_FLAGS);
3118:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c **** 
3119:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****   CardState = HAL_SD_GetCardState(hsd);
3120:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****   hsd->State = HAL_SD_STATE_READY;
3121:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c **** 
3122:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****   if((CardState == HAL_SD_CARD_RECEIVING) || (CardState == HAL_SD_CARD_SENDING))
3123:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****   {
3124:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****     hsd->ErrorCode = SDMMC_CmdStopTransfer(hsd->Instance);
3125:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****   }
3126:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c **** 
3127:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****   if(hsd->ErrorCode != HAL_SD_ERROR_NONE)
3128:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****   {
3129:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****     return HAL_ERROR;
3130:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****   }
3131:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****   else
3132:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****   {
3133:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c **** #if defined (USE_HAL_SD_REGISTER_CALLBACKS) && (USE_HAL_SD_REGISTER_CALLBACKS == 1U)
3134:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****     hsd->AbortCpltCallback(hsd);
3135:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c **** #else
3136:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****     HAL_SD_AbortCallback(hsd);
3137:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c **** #endif /* USE_HAL_SD_REGISTER_CALLBACKS */
3138:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****   }
3139:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c **** #else
3140:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****   CLEAR_BIT(hsd->Instance->DCTRL, SDMMC_DCTRL_DTEN);
3141:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c **** 
3142:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****   if ((context & SD_CONTEXT_DMA) != 0U)
3143:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****   {
3144:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****     /* Disable the SD DMA request */
3145:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****     hsd->Instance->DCTRL &= (uint32_t)~((uint32_t)SDMMC_DCTRL_DMAEN);
3146:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c **** 
3147:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****     /* Abort the SD DMA Tx channel */
3148:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****     if (((context & SD_CONTEXT_WRITE_SINGLE_BLOCK) != 0U) || ((context & SD_CONTEXT_WRITE_MULTIPLE_
3149:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****     {
3150:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****       hsd->hdmatx->XferAbortCallback = SD_DMATxAbort;
3151:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****       if(HAL_DMA_Abort_IT(hsd->hdmatx) != HAL_OK)
3152:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****       {
3153:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****         hsd->hdmatx = NULL;
3154:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****       }
3155:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****     }
3156:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****     /* Abort the SD DMA Rx channel */
3157:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****     else if (((context & SD_CONTEXT_READ_SINGLE_BLOCK) != 0U) || ((context & SD_CONTEXT_READ_MULTIP
3158:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****     {
3159:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****       hsd->hdmarx->XferAbortCallback = SD_DMARxAbort;
3160:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****       if(HAL_DMA_Abort_IT(hsd->hdmarx) != HAL_OK)
3161:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****       {
3162:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****         hsd->hdmarx = NULL;
3163:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****       }
3164:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****     }
3165:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****     else
ARM GAS  /tmp/ccECQX6D.s 			page 57


3166:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****     {
3167:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****       /* Nothing to do */
3168:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****     }
3169:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****   }
3170:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****   /* No transfer ongoing on both DMA channels*/
3171:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****   else
3172:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****   {
3173:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****     /* Clear All flags */
3174:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****     __HAL_SD_CLEAR_FLAG(hsd, SDMMC_STATIC_DATA_FLAGS);
3175:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c **** 
3176:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****     CardState = HAL_SD_GetCardState(hsd);
3177:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****     hsd->State = HAL_SD_STATE_READY;
3178:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****     hsd->Context = SD_CONTEXT_NONE;
3179:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****     if((CardState == HAL_SD_CARD_RECEIVING) || (CardState == HAL_SD_CARD_SENDING))
3180:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****     {
3181:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****       hsd->ErrorCode = SDMMC_CmdStopTransfer(hsd->Instance);
3182:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****     }
3183:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****     if(hsd->ErrorCode != HAL_SD_ERROR_NONE)
3184:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****     {
3185:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****       return HAL_ERROR;
3186:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****     }
3187:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****     else
3188:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****     {
3189:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c **** #if defined (USE_HAL_SD_REGISTER_CALLBACKS) && (USE_HAL_SD_REGISTER_CALLBACKS == 1U)
3190:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****       hsd->AbortCpltCallback(hsd);
3191:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c **** #else
3192:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****       HAL_SD_AbortCallback(hsd);
3193:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c **** #endif /* USE_HAL_SD_REGISTER_CALLBACKS */
3194:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****     }
3195:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****   }
3196:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c **** #endif /* STM32L4P5xx || STM32L4Q5xx || STM32L4R5xx || STM32L4R7xx || STM32L4R9xx || STM32L4S5xx ||
3197:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c **** 
3198:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****   return HAL_OK;
3199:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c **** }
3200:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c **** 
3201:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c **** /**
3202:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****   * @}
3203:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****   */
3204:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c **** 
3205:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c **** /**
3206:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****   * @}
3207:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****   */
3208:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c **** 
3209:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c **** /* Private function ----------------------------------------------------------*/
3210:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c **** /** @addtogroup SD_Private_Functions
3211:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****   * @{
3212:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****   */
3213:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c **** 
3214:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c **** #if !defined(STM32L4P5xx) && !defined(STM32L4Q5xx) && !defined(STM32L4R5xx) && !defined(STM32L4R7xx
3215:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c **** /**
3216:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****   * @brief  DMA SD transmit process complete callback
3217:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****   * @param  hdma DMA handle
3218:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****   * @retval None
3219:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****   */
3220:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c **** static void SD_DMATransmitCplt(DMA_HandleTypeDef *hdma)
3221:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c **** {
  29              		.loc 1 3221 1 view -0
ARM GAS  /tmp/ccECQX6D.s 			page 58


  30              		.cfi_startproc
  31              		@ args = 0, pretend = 0, frame = 0
  32              		@ frame_needed = 0, uses_anonymous_args = 0
  33              		@ link register save eliminated.
3222:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****   SD_HandleTypeDef* hsd = (SD_HandleTypeDef* )(hdma->Parent);
  34              		.loc 1 3222 3 view .LVU1
  35              		.loc 1 3222 21 is_stmt 0 view .LVU2
  36 0000 836A     		ldr	r3, [r0, #40]
  37              	.LVL1:
3223:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c **** 
3224:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****   /* Enable DATAEND Interrupt */
3225:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****   __HAL_SD_ENABLE_IT(hsd, (SDMMC_IT_DATAEND));
  38              		.loc 1 3225 3 is_stmt 1 view .LVU3
  39 0002 1A68     		ldr	r2, [r3]
  40 0004 D36B     		ldr	r3, [r2, #60]
  41              	.LVL2:
  42              		.loc 1 3225 3 is_stmt 0 view .LVU4
  43 0006 43F48073 		orr	r3, r3, #256
  44 000a D363     		str	r3, [r2, #60]
  45              	.LVL3:
3226:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c **** }
  46              		.loc 1 3226 1 view .LVU5
  47 000c 7047     		bx	lr
  48              		.cfi_endproc
  49              	.LFE315:
  51              		.section	.text.SD_PowerON,"ax",%progbits
  52              		.align	1
  53              		.syntax unified
  54              		.thumb
  55              		.thumb_func
  57              	SD_PowerON:
  58              	.LVL4:
  59              	.LFB321:
3227:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c **** 
3228:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c **** /**
3229:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****   * @brief  DMA SD receive process complete callback
3230:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****   * @param  hdma DMA handle
3231:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****   * @retval None
3232:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****   */
3233:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c **** static void SD_DMAReceiveCplt(DMA_HandleTypeDef *hdma)
3234:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c **** {
3235:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****   SD_HandleTypeDef* hsd = (SD_HandleTypeDef* )(hdma->Parent);
3236:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****   uint32_t errorstate;
3237:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c **** 
3238:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****   /* Send stop command in multiblock write */
3239:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****   if(hsd->Context == (SD_CONTEXT_READ_MULTIPLE_BLOCK | SD_CONTEXT_DMA))
3240:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****   {
3241:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****     errorstate = SDMMC_CmdStopTransfer(hsd->Instance);
3242:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****     if(errorstate != HAL_SD_ERROR_NONE)
3243:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****     {
3244:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****       hsd->ErrorCode |= errorstate;
3245:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c **** #if (USE_HAL_SD_REGISTER_CALLBACKS == 1)
3246:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****       hsd->ErrorCallback(hsd);
3247:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c **** #else
3248:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****       HAL_SD_ErrorCallback(hsd);
3249:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c **** #endif
3250:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****     }
ARM GAS  /tmp/ccECQX6D.s 			page 59


3251:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****   }
3252:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c **** 
3253:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****   /* Disable the DMA transfer for transmit request by setting the DMAEN bit
3254:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****   in the SD DCTRL register */
3255:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****   hsd->Instance->DCTRL &= (uint32_t)~((uint32_t)SDMMC_DCTRL_DMAEN);
3256:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c **** 
3257:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****   /* Clear all the static flags */
3258:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****   __HAL_SD_CLEAR_FLAG(hsd, SDMMC_STATIC_DATA_FLAGS);
3259:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c **** 
3260:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****   hsd->State = HAL_SD_STATE_READY;
3261:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****   hsd->Context = SD_CONTEXT_NONE;
3262:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c **** 
3263:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c **** #if (USE_HAL_SD_REGISTER_CALLBACKS == 1)
3264:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****   hsd->RxCpltCallback(hsd);
3265:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c **** #else
3266:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****   HAL_SD_RxCpltCallback(hsd);
3267:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c **** #endif
3268:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c **** }
3269:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c **** 
3270:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c **** /**
3271:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****   * @brief  DMA SD communication error callback
3272:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****   * @param  hdma DMA handle
3273:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****   * @retval None
3274:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****   */
3275:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c **** static void SD_DMAError(DMA_HandleTypeDef *hdma)
3276:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c **** {
3277:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****   SD_HandleTypeDef* hsd = (SD_HandleTypeDef* )(hdma->Parent);
3278:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****   HAL_SD_CardStateTypeDef CardState;
3279:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****   uint32_t RxErrorCode, TxErrorCode;
3280:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c **** 
3281:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****   RxErrorCode = hsd->hdmarx->ErrorCode;
3282:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****   TxErrorCode = hsd->hdmatx->ErrorCode;
3283:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****   if((RxErrorCode == HAL_DMA_ERROR_TE) || (TxErrorCode == HAL_DMA_ERROR_TE))
3284:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****   {
3285:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****     /* Clear All flags */
3286:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****     __HAL_SD_CLEAR_FLAG(hsd, SDMMC_STATIC_FLAGS);
3287:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c **** 
3288:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****     /* Disable All interrupts */
3289:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****     __HAL_SD_DISABLE_IT(hsd, SDMMC_IT_DATAEND | SDMMC_IT_DCRCFAIL | SDMMC_IT_DTIMEOUT|\
3290:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****       SDMMC_IT_TXUNDERR| SDMMC_IT_RXOVERR);
3291:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c **** 
3292:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****     hsd->ErrorCode |= HAL_SD_ERROR_DMA;
3293:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****     CardState = HAL_SD_GetCardState(hsd);
3294:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****     if((CardState == HAL_SD_CARD_RECEIVING) || (CardState == HAL_SD_CARD_SENDING))
3295:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****     {
3296:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****       hsd->ErrorCode |= SDMMC_CmdStopTransfer(hsd->Instance);
3297:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****     }
3298:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c **** 
3299:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****     hsd->State= HAL_SD_STATE_READY;
3300:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****     hsd->Context = SD_CONTEXT_NONE;
3301:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****   }
3302:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c **** 
3303:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c **** #if (USE_HAL_SD_REGISTER_CALLBACKS == 1)
3304:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****   hsd->ErrorCallback(hsd);
3305:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c **** #else
3306:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****   HAL_SD_ErrorCallback(hsd);
3307:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c **** #endif
ARM GAS  /tmp/ccECQX6D.s 			page 60


3308:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c **** }
3309:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c **** 
3310:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c **** /**
3311:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****   * @brief  DMA SD Tx Abort callback
3312:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****   * @param  hdma DMA handle
3313:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****   * @retval None
3314:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****   */
3315:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c **** static void SD_DMATxAbort(DMA_HandleTypeDef *hdma)
3316:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c **** {
3317:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****   SD_HandleTypeDef* hsd = (SD_HandleTypeDef* )(hdma->Parent);
3318:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****   HAL_SD_CardStateTypeDef CardState;
3319:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c **** 
3320:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****   /* Clear All flags */
3321:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****   __HAL_SD_CLEAR_FLAG(hsd, SDMMC_STATIC_DATA_FLAGS);
3322:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c **** 
3323:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****   CardState = HAL_SD_GetCardState(hsd);
3324:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****   hsd->State = HAL_SD_STATE_READY;
3325:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****   hsd->Context = SD_CONTEXT_NONE;
3326:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****   if((CardState == HAL_SD_CARD_RECEIVING) || (CardState == HAL_SD_CARD_SENDING))
3327:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****   {
3328:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****     hsd->ErrorCode |= SDMMC_CmdStopTransfer(hsd->Instance);
3329:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****   }
3330:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c **** 
3331:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****   if(hsd->ErrorCode == HAL_SD_ERROR_NONE)
3332:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****   {
3333:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c **** #if (USE_HAL_SD_REGISTER_CALLBACKS == 1)
3334:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****     hsd->AbortCpltCallback(hsd);
3335:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c **** #else
3336:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****     HAL_SD_AbortCallback(hsd);
3337:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c **** #endif
3338:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****   }
3339:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****   else
3340:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****   {
3341:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c **** #if (USE_HAL_SD_REGISTER_CALLBACKS == 1)
3342:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****     hsd->ErrorCallback(hsd);
3343:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c **** #else
3344:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****     HAL_SD_ErrorCallback(hsd);
3345:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c **** #endif
3346:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****   }
3347:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c **** }
3348:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c **** 
3349:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c **** /**
3350:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****   * @brief  DMA SD Rx Abort callback
3351:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****   * @param  hdma DMA handle
3352:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****   * @retval None
3353:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****   */
3354:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c **** static void SD_DMARxAbort(DMA_HandleTypeDef *hdma)
3355:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c **** {
3356:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****   SD_HandleTypeDef* hsd = (SD_HandleTypeDef* )(hdma->Parent);
3357:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****   HAL_SD_CardStateTypeDef CardState;
3358:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c **** 
3359:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****   /* Clear All flags */
3360:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****   __HAL_SD_CLEAR_FLAG(hsd, SDMMC_STATIC_DATA_FLAGS);
3361:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c **** 
3362:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****   CardState = HAL_SD_GetCardState(hsd);
3363:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****   hsd->State = HAL_SD_STATE_READY;
3364:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****   hsd->Context = SD_CONTEXT_NONE;
ARM GAS  /tmp/ccECQX6D.s 			page 61


3365:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****   if((CardState == HAL_SD_CARD_RECEIVING) || (CardState == HAL_SD_CARD_SENDING))
3366:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****   {
3367:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****     hsd->ErrorCode |= SDMMC_CmdStopTransfer(hsd->Instance);
3368:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****   }
3369:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c **** 
3370:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****   if(hsd->ErrorCode == HAL_SD_ERROR_NONE)
3371:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****   {
3372:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c **** #if (USE_HAL_SD_REGISTER_CALLBACKS == 1)
3373:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****     hsd->AbortCpltCallback(hsd);
3374:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c **** #else
3375:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****     HAL_SD_AbortCallback(hsd);
3376:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c **** #endif
3377:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****   }
3378:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****   else
3379:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****   {
3380:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c **** #if (USE_HAL_SD_REGISTER_CALLBACKS == 1)
3381:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****     hsd->ErrorCallback(hsd);
3382:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c **** #else
3383:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****     HAL_SD_ErrorCallback(hsd);
3384:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c **** #endif
3385:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****   }
3386:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c **** }
3387:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c **** #endif /* !STM32L4P5xx && !STM32L4Q5xx && !STM32L4R5xx && !STM32L4R7xx && !STM32L4R9xx && !STM32L4S
3388:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c **** 
3389:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c **** /**
3390:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****   * @brief  Initializes the sd card.
3391:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****   * @param  hsd Pointer to SD handle
3392:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****   * @retval SD Card error state
3393:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****   */
3394:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c **** static uint32_t SD_InitCard(SD_HandleTypeDef *hsd)
3395:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c **** {
3396:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****   HAL_SD_CardCSDTypeDef CSD;
3397:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****   uint32_t errorstate;
3398:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****   uint16_t sd_rca = 1U;
3399:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c **** 
3400:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****   /* Check the power State */
3401:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****   if(SDMMC_GetPowerState(hsd->Instance) == 0U)
3402:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****   {
3403:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****     /* Power off */
3404:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****     return HAL_SD_ERROR_REQUEST_NOT_APPLICABLE;
3405:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****   }
3406:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c **** 
3407:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****   if(hsd->SdCard.CardType != CARD_SECURED)
3408:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****   {
3409:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****     /* Send CMD2 ALL_SEND_CID */
3410:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****     errorstate = SDMMC_CmdSendCID(hsd->Instance);
3411:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****     if(errorstate != HAL_SD_ERROR_NONE)
3412:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****     {
3413:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****       return errorstate;
3414:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****     }
3415:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****     else
3416:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****     {
3417:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****       /* Get Card identification number data */
3418:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****       hsd->CID[0U] = SDMMC_GetResponse(hsd->Instance, SDMMC_RESP1);
3419:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****       hsd->CID[1U] = SDMMC_GetResponse(hsd->Instance, SDMMC_RESP2);
3420:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****       hsd->CID[2U] = SDMMC_GetResponse(hsd->Instance, SDMMC_RESP3);
3421:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****       hsd->CID[3U] = SDMMC_GetResponse(hsd->Instance, SDMMC_RESP4);
ARM GAS  /tmp/ccECQX6D.s 			page 62


3422:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****     }
3423:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****   }
3424:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c **** 
3425:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****   if(hsd->SdCard.CardType != CARD_SECURED)
3426:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****   {
3427:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****     /* Send CMD3 SET_REL_ADDR with argument 0 */
3428:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****     /* SD Card publishes its RCA. */
3429:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****     errorstate = SDMMC_CmdSetRelAdd(hsd->Instance, &sd_rca);
3430:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****     if(errorstate != HAL_SD_ERROR_NONE)
3431:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****     {
3432:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****       return errorstate;
3433:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****     }
3434:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****   }
3435:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****   if(hsd->SdCard.CardType != CARD_SECURED)
3436:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****   {
3437:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****     /* Get the SD card RCA */
3438:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****     hsd->SdCard.RelCardAdd = sd_rca;
3439:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c **** 
3440:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****     /* Send CMD9 SEND_CSD with argument as card's RCA */
3441:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****     errorstate = SDMMC_CmdSendCSD(hsd->Instance, (uint32_t)(hsd->SdCard.RelCardAdd << 16U));
3442:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****     if(errorstate != HAL_SD_ERROR_NONE)
3443:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****     {
3444:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****       return errorstate;
3445:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****     }
3446:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****     else
3447:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****     {
3448:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****       /* Get Card Specific Data */
3449:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****       hsd->CSD[0U] = SDMMC_GetResponse(hsd->Instance, SDMMC_RESP1);
3450:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****       hsd->CSD[1U] = SDMMC_GetResponse(hsd->Instance, SDMMC_RESP2);
3451:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****       hsd->CSD[2U] = SDMMC_GetResponse(hsd->Instance, SDMMC_RESP3);
3452:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****       hsd->CSD[3U] = SDMMC_GetResponse(hsd->Instance, SDMMC_RESP4);
3453:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****     }
3454:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****   }
3455:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c **** 
3456:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****   /* Get the Card Class */
3457:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****   hsd->SdCard.Class = (SDMMC_GetResponse(hsd->Instance, SDMMC_RESP2) >> 20U);
3458:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c **** 
3459:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****   /* Get CSD parameters */
3460:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****   if (HAL_SD_GetCardCSD(hsd, &CSD) != HAL_OK)
3461:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****   {
3462:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****     return HAL_SD_ERROR_UNSUPPORTED_FEATURE;
3463:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****   }
3464:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c **** 
3465:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****   /* Select the Card */
3466:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****   errorstate = SDMMC_CmdSelDesel(hsd->Instance, (uint32_t)(((uint32_t)hsd->SdCard.RelCardAdd) << 16
3467:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****   if(errorstate != HAL_SD_ERROR_NONE)
3468:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****   {
3469:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****     return errorstate;
3470:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****   }
3471:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c **** 
3472:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c **** #if !defined(STM32L4P5xx) && !defined(STM32L4Q5xx) && !defined(STM32L4R5xx) && !defined(STM32L4R7xx
3473:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****   /* Configure SDMMC peripheral interface */
3474:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****   (void)SDMMC_Init(hsd->Instance, hsd->Init);
3475:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c **** #endif /* !STM32L4P5xx && !STM32L4Q5xx && !STM32L4R5xx && !STM32L4R7xx && !STM32L4R9xx && !STM32L4S
3476:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c **** 
3477:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****   /* All cards are initialized */
3478:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****   return HAL_SD_ERROR_NONE;
ARM GAS  /tmp/ccECQX6D.s 			page 63


3479:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c **** }
3480:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c **** 
3481:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c **** /**
3482:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****   * @brief  Enquires cards about their operating voltage and configures clock
3483:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****   *         controls and stores SD information that will be needed in future
3484:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****   *         in the SD handle.
3485:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****   * @param  hsd Pointer to SD handle
3486:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****   * @retval error state
3487:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****   */
3488:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c **** static uint32_t SD_PowerON(SD_HandleTypeDef *hsd)
3489:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c **** {
  60              		.loc 1 3489 1 is_stmt 1 view -0
  61              		.cfi_startproc
  62              		@ args = 0, pretend = 0, frame = 8
  63              		@ frame_needed = 0, uses_anonymous_args = 0
  64              		.loc 1 3489 1 is_stmt 0 view .LVU7
  65 0000 70B5     		push	{r4, r5, r6, lr}
  66              		.cfi_def_cfa_offset 16
  67              		.cfi_offset 4, -16
  68              		.cfi_offset 5, -12
  69              		.cfi_offset 6, -8
  70              		.cfi_offset 14, -4
  71 0002 82B0     		sub	sp, sp, #8
  72              		.cfi_def_cfa_offset 24
  73 0004 0446     		mov	r4, r0
3490:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****   __IO uint32_t count = 0U;
  74              		.loc 1 3490 3 is_stmt 1 view .LVU8
  75              		.loc 1 3490 17 is_stmt 0 view .LVU9
  76 0006 0023     		movs	r3, #0
  77 0008 0193     		str	r3, [sp, #4]
3491:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****   uint32_t response = 0U, validvoltage = 0U;
  78              		.loc 1 3491 3 is_stmt 1 view .LVU10
  79              	.LVL5:
3492:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****   uint32_t errorstate;
  80              		.loc 1 3492 3 view .LVU11
3493:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c **** #if defined(STM32L4P5xx) || defined(STM32L4Q5xx) || defined(STM32L4R5xx) || defined(STM32L4R7xx) ||
3494:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****   uint32_t tickstart = HAL_GetTick();
3495:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c **** #endif /* STM32L4P5xx || STM32L4Q5xx || STM32L4R5xx || STM32L4R7xx || STM32L4R9xx || STM32L4S5xx ||
3496:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c **** 
3497:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****   /* CMD0: GO_IDLE_STATE */
3498:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****   errorstate = SDMMC_CmdGoIdleState(hsd->Instance);
  81              		.loc 1 3498 3 view .LVU12
  82              		.loc 1 3498 16 is_stmt 0 view .LVU13
  83 000a 0068     		ldr	r0, [r0]
  84              	.LVL6:
  85              		.loc 1 3498 16 view .LVU14
  86 000c FFF7FEFF 		bl	SDMMC_CmdGoIdleState
  87              	.LVL7:
3499:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****   if(errorstate != HAL_SD_ERROR_NONE)
  88              		.loc 1 3499 3 is_stmt 1 view .LVU15
  89              		.loc 1 3499 5 is_stmt 0 view .LVU16
  90 0010 0546     		mov	r5, r0
  91 0012 10B1     		cbz	r0, .L19
  92              	.LVL8:
  93              	.L2:
3500:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****   {
3501:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****     return errorstate;
ARM GAS  /tmp/ccECQX6D.s 			page 64


3502:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****   }
3503:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c **** 
3504:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****   /* CMD8: SEND_IF_COND: Command available only on V2.0 cards */
3505:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****   errorstate = SDMMC_CmdOperCond(hsd->Instance);
3506:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****   if(errorstate != HAL_SD_ERROR_NONE)
3507:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****   {
3508:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****     hsd->SdCard.CardVersion = CARD_V1_X;
3509:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****     /* CMD0: GO_IDLE_STATE */
3510:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****     errorstate = SDMMC_CmdGoIdleState(hsd->Instance);
3511:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****     if(errorstate != HAL_SD_ERROR_NONE)
3512:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****     {
3513:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****       return errorstate;
3514:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****     }
3515:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c **** 
3516:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****   }
3517:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****   else
3518:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****   {
3519:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****     hsd->SdCard.CardVersion = CARD_V2_X;
3520:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****   }
3521:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c **** 
3522:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****   if( hsd->SdCard.CardVersion == CARD_V2_X)
3523:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****   {
3524:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****     /* SEND CMD55 APP_CMD with RCA as 0 */
3525:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****     errorstate = SDMMC_CmdAppCommand(hsd->Instance, 0);
3526:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****     if(errorstate != HAL_SD_ERROR_NONE)
3527:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****     {
3528:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****       return HAL_SD_ERROR_UNSUPPORTED_FEATURE;
3529:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****     }
3530:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****   }
3531:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****   /* SD CARD */
3532:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****   /* Send ACMD41 SD_APP_OP_COND with Argument 0x80100000 */
3533:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****   while((count < SDMMC_MAX_VOLT_TRIAL) && (validvoltage == 0U))
3534:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****   {
3535:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****     /* SEND CMD55 APP_CMD with RCA as 0 */
3536:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****     errorstate = SDMMC_CmdAppCommand(hsd->Instance, 0);
3537:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****     if(errorstate != HAL_SD_ERROR_NONE)
3538:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****     {
3539:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****       return errorstate;
3540:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****     }
3541:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c **** 
3542:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****     /* Send CMD41 */
3543:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****     errorstate = SDMMC_CmdAppOperCommand(hsd->Instance, SDMMC_VOLTAGE_WINDOW_SD | SDMMC_HIGH_CAPACI
3544:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****     if(errorstate != HAL_SD_ERROR_NONE)
3545:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****     {
3546:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****       return HAL_SD_ERROR_UNSUPPORTED_FEATURE;
3547:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****     }
3548:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c **** 
3549:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****     /* Get command response */
3550:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****     response = SDMMC_GetResponse(hsd->Instance, SDMMC_RESP1);
3551:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c **** 
3552:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****     /* Get operating voltage*/
3553:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****     validvoltage = (((response >> 31U) == 1U) ? 1U : 0U);
3554:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c **** 
3555:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****     count++;
3556:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****   }
3557:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c **** 
3558:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****   if(count >= SDMMC_MAX_VOLT_TRIAL)
ARM GAS  /tmp/ccECQX6D.s 			page 65


3559:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****   {
3560:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****     return HAL_SD_ERROR_INVALID_VOLTRANGE;
3561:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****   }
3562:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c **** 
3563:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****   if((response & SDMMC_HIGH_CAPACITY) == SDMMC_HIGH_CAPACITY) /* (response &= SD_HIGH_CAPACITY) */
3564:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****   {
3565:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****     hsd->SdCard.CardType = CARD_SDHC_SDXC;
3566:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c **** #if defined(STM32L4P5xx) || defined(STM32L4Q5xx) || defined(STM32L4R5xx) || defined(STM32L4R7xx) ||
3567:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****     if(hsd->Init.Transceiver == SDMMC_TRANSCEIVER_ENABLE)
3568:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****     {
3569:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****       if((response & SD_SWITCH_1_8V_CAPACITY) == SD_SWITCH_1_8V_CAPACITY)
3570:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****       {
3571:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****         hsd->SdCard.CardSpeed = CARD_ULTRA_HIGH_SPEED;
3572:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c **** 
3573:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****         /* Start switching procedue */
3574:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****         hsd->Instance->POWER |= SDMMC_POWER_VSWITCHEN;
3575:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c **** 
3576:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****         /* Send CMD11 to switch 1.8V mode */
3577:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****         errorstate = SDMMC_CmdVoltageSwitch(hsd->Instance);
3578:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****         if(errorstate != HAL_SD_ERROR_NONE)
3579:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****         {
3580:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****           return errorstate;
3581:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****         }
3582:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c **** 
3583:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****         /* Check to CKSTOP */
3584:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****         while(( hsd->Instance->STA & SDMMC_FLAG_CKSTOP) != SDMMC_FLAG_CKSTOP)
3585:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****         {
3586:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****           if((HAL_GetTick() - tickstart) >=  SDMMC_DATATIMEOUT)
3587:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****           {
3588:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****             return HAL_SD_ERROR_TIMEOUT;
3589:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****           }
3590:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****         }
3591:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c **** 
3592:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****         /* Clear CKSTOP Flag */
3593:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****         hsd->Instance->ICR = SDMMC_FLAG_CKSTOP;
3594:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c **** 
3595:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****         /* Check to BusyD0 */
3596:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****         if(( hsd->Instance->STA & SDMMC_FLAG_BUSYD0) != SDMMC_FLAG_BUSYD0)
3597:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****         {
3598:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****           /* Error when activate Voltage Switch in SDMMC Peripheral */
3599:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****           return SDMMC_ERROR_UNSUPPORTED_FEATURE;
3600:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****         }
3601:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****         else
3602:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****         {
3603:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****           /* Enable Transceiver Switch PIN */
3604:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c **** #if defined (USE_HAL_SD_REGISTER_CALLBACKS) && (USE_HAL_SD_REGISTER_CALLBACKS == 1U)
3605:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****           hsd->DriveTransceiver_1_8V_Callback(SET);
3606:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c **** #else
3607:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****           HAL_SDEx_DriveTransceiver_1_8V_Callback(SET);
3608:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c **** #endif
3609:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c **** 
3610:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****           /* Switch ready */
3611:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****           hsd->Instance->POWER |= SDMMC_POWER_VSWITCH;
3612:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c **** 
3613:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****           /* Check VSWEND Flag */
3614:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****           while(( hsd->Instance->STA & SDMMC_FLAG_VSWEND) != SDMMC_FLAG_VSWEND)
3615:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****           {
ARM GAS  /tmp/ccECQX6D.s 			page 66


3616:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****             if((HAL_GetTick() - tickstart) >=  SDMMC_DATATIMEOUT)
3617:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****             {
3618:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****               return HAL_SD_ERROR_TIMEOUT;
3619:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****             }
3620:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****           }
3621:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c **** 
3622:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****           /* Clear VSWEND Flag */
3623:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****           hsd->Instance->ICR = SDMMC_FLAG_VSWEND;
3624:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c **** 
3625:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****           /* Check BusyD0 status */
3626:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****           if(( hsd->Instance->STA & SDMMC_FLAG_BUSYD0) == SDMMC_FLAG_BUSYD0)
3627:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****           {
3628:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****             /* Error when enabling 1.8V mode */
3629:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****             return HAL_SD_ERROR_INVALID_VOLTRANGE;
3630:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****           }
3631:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****           /* Switch to 1.8V OK */
3632:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c **** 
3633:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****           /* Disable VSWITCH FLAG from SDMMC Peripheral */
3634:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****           hsd->Instance->POWER = 0x13U;
3635:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c **** 
3636:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****           /* Clean Status flags */
3637:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****           hsd->Instance->ICR = 0xFFFFFFFFU;
3638:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****         }
3639:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****       }
3640:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****     }
3641:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c **** #endif /* STM32L4P5xx || STM32L4Q5xx || STM32L4R5xx || STM32L4R7xx || STM32L4R9xx || STM32L4S5xx ||
3642:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****   }
3643:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****   else
3644:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****   {
3645:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****     hsd->SdCard.CardType = CARD_SDSC;
3646:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****   }
3647:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c **** 
3648:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c **** 
3649:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****   return HAL_SD_ERROR_NONE;
3650:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c **** }
  94              		.loc 1 3650 1 view .LVU17
  95 0014 2846     		mov	r0, r5
  96 0016 02B0     		add	sp, sp, #8
  97              		.cfi_remember_state
  98              		.cfi_def_cfa_offset 16
  99              		@ sp needed
 100 0018 70BD     		pop	{r4, r5, r6, pc}
 101              	.LVL9:
 102              	.L19:
 103              		.cfi_restore_state
3505:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****   if(errorstate != HAL_SD_ERROR_NONE)
 104              		.loc 1 3505 3 is_stmt 1 view .LVU18
3505:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****   if(errorstate != HAL_SD_ERROR_NONE)
 105              		.loc 1 3505 16 is_stmt 0 view .LVU19
 106 001a 2068     		ldr	r0, [r4]
 107              	.LVL10:
3505:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****   if(errorstate != HAL_SD_ERROR_NONE)
 108              		.loc 1 3505 16 view .LVU20
 109 001c FFF7FEFF 		bl	SDMMC_CmdOperCond
 110              	.LVL11:
3506:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****   {
 111              		.loc 1 3506 3 is_stmt 1 view .LVU21
ARM GAS  /tmp/ccECQX6D.s 			page 67


3506:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****   {
 112              		.loc 1 3506 5 is_stmt 0 view .LVU22
 113 0020 38B9     		cbnz	r0, .L20
3519:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****   }
 114              		.loc 1 3519 5 is_stmt 1 view .LVU23
3519:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****   }
 115              		.loc 1 3519 29 is_stmt 0 view .LVU24
 116 0022 0123     		movs	r3, #1
 117 0024 A364     		str	r3, [r4, #72]
 118              	.L5:
3522:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****   {
 119              		.loc 1 3522 3 is_stmt 1 view .LVU25
3522:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****   {
 120              		.loc 1 3522 18 is_stmt 0 view .LVU26
 121 0026 A36C     		ldr	r3, [r4, #72]
3522:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****   {
 122              		.loc 1 3522 5 view .LVU27
 123 0028 012B     		cmp	r3, #1
 124 002a 0BD0     		beq	.L6
 125              	.L8:
3553:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c **** 
 126              		.loc 1 3553 52 view .LVU28
 127 002c 2E46     		mov	r6, r5
 128 002e 2846     		mov	r0, r5
 129              	.LVL12:
3553:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c **** 
 130              		.loc 1 3553 52 view .LVU29
 131 0030 14E0     		b	.L7
 132              	.LVL13:
 133              	.L20:
3508:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****     /* CMD0: GO_IDLE_STATE */
 134              		.loc 1 3508 5 is_stmt 1 view .LVU30
3508:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****     /* CMD0: GO_IDLE_STATE */
 135              		.loc 1 3508 29 is_stmt 0 view .LVU31
 136 0032 0023     		movs	r3, #0
 137 0034 A364     		str	r3, [r4, #72]
3510:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****     if(errorstate != HAL_SD_ERROR_NONE)
 138              		.loc 1 3510 5 is_stmt 1 view .LVU32
3510:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****     if(errorstate != HAL_SD_ERROR_NONE)
 139              		.loc 1 3510 18 is_stmt 0 view .LVU33
 140 0036 2068     		ldr	r0, [r4]
 141              	.LVL14:
3510:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****     if(errorstate != HAL_SD_ERROR_NONE)
 142              		.loc 1 3510 18 view .LVU34
 143 0038 FFF7FEFF 		bl	SDMMC_CmdGoIdleState
 144              	.LVL15:
3511:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****     {
 145              		.loc 1 3511 5 is_stmt 1 view .LVU35
3511:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****     {
 146              		.loc 1 3511 7 is_stmt 0 view .LVU36
 147 003c 0028     		cmp	r0, #0
 148 003e F2D0     		beq	.L5
3513:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****     }
 149              		.loc 1 3513 14 view .LVU37
 150 0040 0546     		mov	r5, r0
 151 0042 E7E7     		b	.L2
 152              	.L6:
ARM GAS  /tmp/ccECQX6D.s 			page 68


3525:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****     if(errorstate != HAL_SD_ERROR_NONE)
 153              		.loc 1 3525 5 is_stmt 1 view .LVU38
3525:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****     if(errorstate != HAL_SD_ERROR_NONE)
 154              		.loc 1 3525 18 is_stmt 0 view .LVU39
 155 0044 0021     		movs	r1, #0
 156 0046 2068     		ldr	r0, [r4]
 157              	.LVL16:
3525:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****     if(errorstate != HAL_SD_ERROR_NONE)
 158              		.loc 1 3525 18 view .LVU40
 159 0048 FFF7FEFF 		bl	SDMMC_CmdAppCommand
 160              	.LVL17:
3526:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****     {
 161              		.loc 1 3526 5 is_stmt 1 view .LVU41
3526:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****     {
 162              		.loc 1 3526 7 is_stmt 0 view .LVU42
 163 004c 0028     		cmp	r0, #0
 164 004e EDD0     		beq	.L8
3528:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****     }
 165              		.loc 1 3528 14 view .LVU43
 166 0050 4FF08055 		mov	r5, #268435456
 167 0054 DEE7     		b	.L2
 168              	.LVL18:
 169              	.L9:
3555:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****   }
 170              		.loc 1 3555 5 is_stmt 1 discriminator 4 view .LVU44
3555:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****   }
 171              		.loc 1 3555 10 is_stmt 0 discriminator 4 view .LVU45
 172 0056 019B     		ldr	r3, [sp, #4]
 173 0058 0133     		adds	r3, r3, #1
 174 005a 0193     		str	r3, [sp, #4]
 175              	.LVL19:
 176              	.L7:
3533:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****   {
 177              		.loc 1 3533 40 is_stmt 1 view .LVU46
3533:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****   {
 178              		.loc 1 3533 16 is_stmt 0 view .LVU47
 179 005c 019A     		ldr	r2, [sp, #4]
3533:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****   {
 180              		.loc 1 3533 40 view .LVU48
 181 005e 4FF6FE73 		movw	r3, #65534
 182 0062 9A42     		cmp	r2, r3
 183 0064 13D8     		bhi	.L10
3533:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****   {
 184              		.loc 1 3533 40 discriminator 1 view .LVU49
 185 0066 96B9     		cbnz	r6, .L10
3536:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****     if(errorstate != HAL_SD_ERROR_NONE)
 186              		.loc 1 3536 5 is_stmt 1 view .LVU50
3536:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****     if(errorstate != HAL_SD_ERROR_NONE)
 187              		.loc 1 3536 18 is_stmt 0 view .LVU51
 188 0068 0021     		movs	r1, #0
 189 006a 2068     		ldr	r0, [r4]
 190              	.LVL20:
3536:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****     if(errorstate != HAL_SD_ERROR_NONE)
 191              		.loc 1 3536 18 view .LVU52
 192 006c FFF7FEFF 		bl	SDMMC_CmdAppCommand
 193              	.LVL21:
3537:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****     {
ARM GAS  /tmp/ccECQX6D.s 			page 69


 194              		.loc 1 3537 5 is_stmt 1 view .LVU53
3537:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****     {
 195              		.loc 1 3537 7 is_stmt 0 view .LVU54
 196 0070 E0B9     		cbnz	r0, .L15
3543:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****     if(errorstate != HAL_SD_ERROR_NONE)
 197              		.loc 1 3543 5 is_stmt 1 view .LVU55
3543:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****     if(errorstate != HAL_SD_ERROR_NONE)
 198              		.loc 1 3543 18 is_stmt 0 view .LVU56
 199 0072 1249     		ldr	r1, .L21
 200 0074 2068     		ldr	r0, [r4]
 201              	.LVL22:
3543:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****     if(errorstate != HAL_SD_ERROR_NONE)
 202              		.loc 1 3543 18 view .LVU57
 203 0076 FFF7FEFF 		bl	SDMMC_CmdAppOperCommand
 204              	.LVL23:
3544:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****     {
 205              		.loc 1 3544 5 is_stmt 1 view .LVU58
3544:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****     {
 206              		.loc 1 3544 7 is_stmt 0 view .LVU59
 207 007a 0646     		mov	r6, r0
 208              	.LVL24:
3544:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****     {
 209              		.loc 1 3544 7 view .LVU60
 210 007c C0B9     		cbnz	r0, .L16
3550:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c **** 
 211              		.loc 1 3550 5 is_stmt 1 view .LVU61
3550:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c **** 
 212              		.loc 1 3550 16 is_stmt 0 view .LVU62
 213 007e 0021     		movs	r1, #0
 214 0080 2068     		ldr	r0, [r4]
 215              	.LVL25:
3550:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c **** 
 216              		.loc 1 3550 16 view .LVU63
 217 0082 FFF7FEFF 		bl	SDMMC_GetResponse
 218              	.LVL26:
3553:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c **** 
 219              		.loc 1 3553 5 is_stmt 1 view .LVU64
3553:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c **** 
 220              		.loc 1 3553 52 is_stmt 0 view .LVU65
 221 0086 C30F     		lsrs	r3, r0, #31
 222 0088 E5D0     		beq	.L9
 223 008a 1E46     		mov	r6, r3
 224              	.LVL27:
3553:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c **** 
 225              		.loc 1 3553 52 view .LVU66
 226 008c E3E7     		b	.L9
 227              	.LVL28:
 228              	.L10:
3558:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****   {
 229              		.loc 1 3558 3 is_stmt 1 view .LVU67
3558:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****   {
 230              		.loc 1 3558 12 is_stmt 0 view .LVU68
 231 008e 019A     		ldr	r2, [sp, #4]
3558:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****   {
 232              		.loc 1 3558 5 view .LVU69
 233 0090 4FF6FE73 		movw	r3, #65534
 234 0094 9A42     		cmp	r2, r3
ARM GAS  /tmp/ccECQX6D.s 			page 70


 235 0096 0ED8     		bhi	.L17
3563:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****   {
 236              		.loc 1 3563 3 is_stmt 1 view .LVU70
3563:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****   {
 237              		.loc 1 3563 5 is_stmt 0 view .LVU71
 238 0098 10F08043 		ands	r3, r0, #1073741824
 239 009c 02D0     		beq	.L12
3565:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c **** #if defined(STM32L4P5xx) || defined(STM32L4Q5xx) || defined(STM32L4R5xx) || defined(STM32L4R7xx) ||
 240              		.loc 1 3565 5 is_stmt 1 view .LVU72
3565:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c **** #if defined(STM32L4P5xx) || defined(STM32L4Q5xx) || defined(STM32L4R5xx) || defined(STM32L4R7xx) ||
 241              		.loc 1 3565 26 is_stmt 0 view .LVU73
 242 009e 0123     		movs	r3, #1
 243 00a0 6364     		str	r3, [r4, #68]
 244 00a2 B7E7     		b	.L2
 245              	.L12:
3645:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****   }
 246              		.loc 1 3645 5 is_stmt 1 view .LVU74
3645:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****   }
 247              		.loc 1 3645 26 is_stmt 0 view .LVU75
 248 00a4 0022     		movs	r2, #0
 249 00a6 6264     		str	r2, [r4, #68]
3649:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c **** }
 250              		.loc 1 3649 10 view .LVU76
 251 00a8 1D46     		mov	r5, r3
 252 00aa B3E7     		b	.L2
 253              	.LVL29:
 254              	.L15:
3539:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****     }
 255              		.loc 1 3539 14 view .LVU77
 256 00ac 0546     		mov	r5, r0
 257 00ae B1E7     		b	.L2
 258              	.LVL30:
 259              	.L16:
3546:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****     }
 260              		.loc 1 3546 14 view .LVU78
 261 00b0 4FF08055 		mov	r5, #268435456
 262 00b4 AEE7     		b	.L2
 263              	.LVL31:
 264              	.L17:
3560:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****   }
 265              		.loc 1 3560 12 view .LVU79
 266 00b6 4FF08075 		mov	r5, #16777216
 267 00ba ABE7     		b	.L2
 268              	.L22:
 269              		.align	2
 270              	.L21:
 271 00bc 000010C1 		.word	-1055916032
 272              		.cfi_endproc
 273              	.LFE321:
 275              		.section	.text.SD_PowerOFF,"ax",%progbits
 276              		.align	1
 277              		.syntax unified
 278              		.thumb
 279              		.thumb_func
 281              	SD_PowerOFF:
 282              	.LVL32:
 283              	.LFB322:
ARM GAS  /tmp/ccECQX6D.s 			page 71


3651:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c **** 
3652:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c **** /**
3653:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****   * @brief  Turns the SDMMC output signals off.
3654:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****   * @param  hsd Pointer to SD handle
3655:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****   * @retval None
3656:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****   */
3657:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c **** static void SD_PowerOFF(SD_HandleTypeDef *hsd)
3658:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c **** {
 284              		.loc 1 3658 1 is_stmt 1 view -0
 285              		.cfi_startproc
 286              		@ args = 0, pretend = 0, frame = 0
 287              		@ frame_needed = 0, uses_anonymous_args = 0
 288              		.loc 1 3658 1 is_stmt 0 view .LVU81
 289 0000 08B5     		push	{r3, lr}
 290              		.cfi_def_cfa_offset 8
 291              		.cfi_offset 3, -8
 292              		.cfi_offset 14, -4
3659:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****   /* Set Power State to OFF */
3660:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****   (void)SDMMC_PowerState_OFF(hsd->Instance);
 293              		.loc 1 3660 3 is_stmt 1 view .LVU82
 294              		.loc 1 3660 9 is_stmt 0 view .LVU83
 295 0002 0068     		ldr	r0, [r0]
 296              	.LVL33:
 297              		.loc 1 3660 9 view .LVU84
 298 0004 FFF7FEFF 		bl	SDMMC_PowerState_OFF
 299              	.LVL34:
3661:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c **** }
 300              		.loc 1 3661 1 view .LVU85
 301 0008 08BD     		pop	{r3, pc}
 302              		.cfi_endproc
 303              	.LFE322:
 305              		.section	.text.SD_Read_IT,"ax",%progbits
 306              		.align	1
 307              		.syntax unified
 308              		.thumb
 309              		.thumb_func
 311              	SD_Read_IT:
 312              	.LVL35:
 313              	.LFB328:
3662:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c **** 
3663:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c **** /**
3664:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****   * @brief  Send Status info command.
3665:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****   * @param  hsd pointer to SD handle
3666:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****   * @param  pSDstatus Pointer to the buffer that will contain the SD card status
3667:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****   *         SD Status register)
3668:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****   * @retval error state
3669:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****   */
3670:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c **** static uint32_t SD_SendSDStatus(SD_HandleTypeDef *hsd, uint32_t *pSDstatus)
3671:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c **** {
3672:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****   SDMMC_DataInitTypeDef config;
3673:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****   uint32_t errorstate;
3674:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****   uint32_t tickstart = HAL_GetTick();
3675:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****   uint32_t count;
3676:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****   uint32_t *pData = pSDstatus;
3677:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c **** 
3678:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****   /* Check SD response */
3679:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****   if((SDMMC_GetResponse(hsd->Instance, SDMMC_RESP1) & SDMMC_CARD_LOCKED) == SDMMC_CARD_LOCKED)
ARM GAS  /tmp/ccECQX6D.s 			page 72


3680:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****   {
3681:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****     return HAL_SD_ERROR_LOCK_UNLOCK_FAILED;
3682:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****   }
3683:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c **** 
3684:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****   /* Set block size for card if it is not equal to current block size for card */
3685:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****   errorstate = SDMMC_CmdBlockLength(hsd->Instance, 64U);
3686:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****   if(errorstate != HAL_SD_ERROR_NONE)
3687:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****   {
3688:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****     hsd->ErrorCode |= HAL_SD_ERROR_NONE;
3689:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****     return errorstate;
3690:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****   }
3691:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c **** 
3692:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****   /* Send CMD55 */
3693:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****   errorstate = SDMMC_CmdAppCommand(hsd->Instance, (uint32_t)(hsd->SdCard.RelCardAdd << 16U));
3694:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****   if(errorstate != HAL_SD_ERROR_NONE)
3695:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****   {
3696:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****     hsd->ErrorCode |= HAL_SD_ERROR_NONE;
3697:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****     return errorstate;
3698:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****   }
3699:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c **** 
3700:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****   /* Configure the SD DPSM (Data Path State Machine) */
3701:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****   config.DataTimeOut   = SDMMC_DATATIMEOUT;
3702:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****   config.DataLength    = 64U;
3703:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****   config.DataBlockSize = SDMMC_DATABLOCK_SIZE_64B;
3704:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****   config.TransferDir   = SDMMC_TRANSFER_DIR_TO_SDMMC;
3705:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****   config.TransferMode  = SDMMC_TRANSFER_MODE_BLOCK;
3706:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****   config.DPSM          = SDMMC_DPSM_ENABLE;
3707:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****   (void)SDMMC_ConfigData(hsd->Instance, &config);
3708:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c **** 
3709:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****   /* Send ACMD13 (SD_APP_STAUS)  with argument as card's RCA */
3710:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****   errorstate = SDMMC_CmdStatusRegister(hsd->Instance);
3711:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****   if(errorstate != HAL_SD_ERROR_NONE)
3712:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****   {
3713:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****     hsd->ErrorCode |= HAL_SD_ERROR_NONE;
3714:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****     return errorstate;
3715:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****   }
3716:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c **** 
3717:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****   /* Get status data */
3718:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c **** #if defined(STM32L4P5xx) || defined(STM32L4Q5xx) || defined(STM32L4R5xx) || defined(STM32L4R7xx) ||
3719:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****   while(!__HAL_SD_GET_FLAG(hsd, SDMMC_FLAG_RXOVERR | SDMMC_FLAG_DCRCFAIL | SDMMC_FLAG_DTIMEOUT | SD
3720:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c **** #else
3721:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****   while(!__HAL_SD_GET_FLAG(hsd, SDMMC_FLAG_RXOVERR | SDMMC_FLAG_DCRCFAIL | SDMMC_FLAG_DTIMEOUT | SD
3722:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c **** #endif /* STM32L4P5xx || STM32L4Q5xx || STM32L4R5xx || STM32L4R7xx || STM32L4R9xx || STM32L4S5xx ||
3723:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****   {
3724:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****     if(__HAL_SD_GET_FLAG(hsd, SDMMC_FLAG_RXFIFOHF))
3725:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****     {
3726:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****       for(count = 0U; count < 8U; count++)
3727:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****       {
3728:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****         *pData = SDMMC_ReadFIFO(hsd->Instance);
3729:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****         pData++;
3730:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****       }
3731:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****     }
3732:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c **** 
3733:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****     if((HAL_GetTick() - tickstart) >=  SDMMC_DATATIMEOUT)
3734:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****     {
3735:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****       return HAL_SD_ERROR_TIMEOUT;
3736:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****     }
ARM GAS  /tmp/ccECQX6D.s 			page 73


3737:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****   }
3738:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c **** 
3739:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****   if(__HAL_SD_GET_FLAG(hsd, SDMMC_FLAG_DTIMEOUT))
3740:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****   {
3741:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****     return HAL_SD_ERROR_DATA_TIMEOUT;
3742:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****   }
3743:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****   else if(__HAL_SD_GET_FLAG(hsd, SDMMC_FLAG_DCRCFAIL))
3744:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****   {
3745:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****     return HAL_SD_ERROR_DATA_CRC_FAIL;
3746:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****   }
3747:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****   else if(__HAL_SD_GET_FLAG(hsd, SDMMC_FLAG_RXOVERR))
3748:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****   {
3749:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****     return HAL_SD_ERROR_RX_OVERRUN;
3750:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****   }
3751:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****   else
3752:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****   {
3753:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****     /* Nothing to do */
3754:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****   }
3755:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c **** 
3756:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c **** #if defined(STM32L4P5xx) || defined(STM32L4Q5xx) || defined(STM32L4R5xx) || defined(STM32L4R7xx) ||
3757:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****   while ((__HAL_SD_GET_FLAG(hsd, SDMMC_FLAG_DPSMACT)))
3758:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c **** #else
3759:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****   while ((__HAL_SD_GET_FLAG(hsd, SDMMC_FLAG_RXDAVL)))
3760:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c **** #endif /* STM32L4P5xx || STM32L4Q5xx || STM32L4R5xx || STM32L4R7xx || STM32L4R9xx || STM32L4S5xx ||
3761:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****   {
3762:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****     *pData = SDMMC_ReadFIFO(hsd->Instance);
3763:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****     pData++;
3764:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c **** 
3765:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****     if((HAL_GetTick() - tickstart) >=  SDMMC_DATATIMEOUT)
3766:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****     {
3767:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****       return HAL_SD_ERROR_TIMEOUT;
3768:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****     }
3769:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****   }
3770:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c **** 
3771:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****   /* Clear all the static status flags*/
3772:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****   __HAL_SD_CLEAR_FLAG(hsd, SDMMC_STATIC_DATA_FLAGS);
3773:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c **** 
3774:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****   return HAL_SD_ERROR_NONE;
3775:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c **** }
3776:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c **** 
3777:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c **** /**
3778:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****   * @brief  Returns the current card's status.
3779:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****   * @param  hsd Pointer to SD handle
3780:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****   * @param  pCardStatus pointer to the buffer that will contain the SD card
3781:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****   *         status (Card Status register)
3782:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****   * @retval error state
3783:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****   */
3784:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c **** static uint32_t SD_SendStatus(SD_HandleTypeDef *hsd, uint32_t *pCardStatus)
3785:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c **** {
3786:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****   uint32_t errorstate;
3787:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c **** 
3788:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****   if(pCardStatus == NULL)
3789:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****   {
3790:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****     return HAL_SD_ERROR_PARAM;
3791:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****   }
3792:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c **** 
3793:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****   /* Send Status command */
ARM GAS  /tmp/ccECQX6D.s 			page 74


3794:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****   errorstate = SDMMC_CmdSendStatus(hsd->Instance, (uint32_t)(hsd->SdCard.RelCardAdd << 16U));
3795:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****   if(errorstate != HAL_SD_ERROR_NONE)
3796:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****   {
3797:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****     return errorstate;
3798:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****   }
3799:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c **** 
3800:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****   /* Get SD card status */
3801:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****   *pCardStatus = SDMMC_GetResponse(hsd->Instance, SDMMC_RESP1);
3802:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c **** 
3803:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****   return HAL_SD_ERROR_NONE;
3804:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c **** }
3805:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c **** 
3806:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c **** /**
3807:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****   * @brief  Enables the SDMMC wide bus mode.
3808:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****   * @param  hsd pointer to SD handle
3809:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****   * @retval error state
3810:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****   */
3811:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c **** static uint32_t SD_WideBus_Enable(SD_HandleTypeDef *hsd)
3812:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c **** {
3813:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****   uint32_t scr[2U] = {0UL, 0UL};
3814:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****   uint32_t errorstate;
3815:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c **** 
3816:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****   if((SDMMC_GetResponse(hsd->Instance, SDMMC_RESP1) & SDMMC_CARD_LOCKED) == SDMMC_CARD_LOCKED)
3817:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****   {
3818:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****     return HAL_SD_ERROR_LOCK_UNLOCK_FAILED;
3819:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****   }
3820:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c **** 
3821:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****   /* Get SCR Register */
3822:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****   errorstate = SD_FindSCR(hsd, scr);
3823:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****   if(errorstate != HAL_SD_ERROR_NONE)
3824:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****   {
3825:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****     return errorstate;
3826:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****   }
3827:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c **** 
3828:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****   /* If requested card supports wide bus operation */
3829:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****   if((scr[1U] & SDMMC_WIDE_BUS_SUPPORT) != SDMMC_ALLZERO)
3830:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****   {
3831:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****     /* Send CMD55 APP_CMD with argument as card's RCA.*/
3832:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****     errorstate = SDMMC_CmdAppCommand(hsd->Instance, (uint32_t)(hsd->SdCard.RelCardAdd << 16U));
3833:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****     if(errorstate != HAL_SD_ERROR_NONE)
3834:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****     {
3835:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****       return errorstate;
3836:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****     }
3837:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c **** 
3838:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****     /* Send ACMD6 APP_CMD with argument as 2 for wide bus mode */
3839:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****     errorstate = SDMMC_CmdBusWidth(hsd->Instance, 2U);
3840:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****     if(errorstate != HAL_SD_ERROR_NONE)
3841:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****     {
3842:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****       return errorstate;
3843:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****     }
3844:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c **** 
3845:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****     return HAL_SD_ERROR_NONE;
3846:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****   }
3847:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****   else
3848:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****   {
3849:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****     return HAL_SD_ERROR_REQUEST_NOT_APPLICABLE;
3850:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****   }
ARM GAS  /tmp/ccECQX6D.s 			page 75


3851:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c **** }
3852:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c **** 
3853:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c **** /**
3854:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****   * @brief  Disables the SDMMC wide bus mode.
3855:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****   * @param  hsd Pointer to SD handle
3856:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****   * @retval error state
3857:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****   */
3858:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c **** static uint32_t SD_WideBus_Disable(SD_HandleTypeDef *hsd)
3859:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c **** {
3860:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****   uint32_t scr[2U] = {0UL, 0UL};
3861:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****   uint32_t errorstate;
3862:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c **** 
3863:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****   if((SDMMC_GetResponse(hsd->Instance, SDMMC_RESP1) & SDMMC_CARD_LOCKED) == SDMMC_CARD_LOCKED)
3864:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****   {
3865:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****     return HAL_SD_ERROR_LOCK_UNLOCK_FAILED;
3866:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****   }
3867:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c **** 
3868:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****   /* Get SCR Register */
3869:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****   errorstate = SD_FindSCR(hsd, scr);
3870:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****   if(errorstate != HAL_SD_ERROR_NONE)
3871:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****   {
3872:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****     return errorstate;
3873:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****   }
3874:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c **** 
3875:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****   /* If requested card supports 1 bit mode operation */
3876:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****   if((scr[1U] & SDMMC_SINGLE_BUS_SUPPORT) != SDMMC_ALLZERO)
3877:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****   {
3878:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****     /* Send CMD55 APP_CMD with argument as card's RCA */
3879:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****     errorstate = SDMMC_CmdAppCommand(hsd->Instance, (uint32_t)(hsd->SdCard.RelCardAdd << 16U));
3880:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****     if(errorstate != HAL_SD_ERROR_NONE)
3881:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****     {
3882:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****       return errorstate;
3883:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****     }
3884:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c **** 
3885:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****     /* Send ACMD6 APP_CMD with argument as 0 for single bus mode */
3886:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****     errorstate = SDMMC_CmdBusWidth(hsd->Instance, 0U);
3887:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****     if(errorstate != HAL_SD_ERROR_NONE)
3888:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****     {
3889:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****       return errorstate;
3890:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****     }
3891:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c **** 
3892:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****     return HAL_SD_ERROR_NONE;
3893:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****   }
3894:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****   else
3895:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****   {
3896:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****     return HAL_SD_ERROR_REQUEST_NOT_APPLICABLE;
3897:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****   }
3898:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c **** }
3899:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c **** 
3900:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c **** 
3901:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c **** /**
3902:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****   * @brief  Finds the SD card SCR register value.
3903:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****   * @param  hsd Pointer to SD handle
3904:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****   * @param  pSCR pointer to the buffer that will contain the SCR value
3905:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****   * @retval error state
3906:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****   */
3907:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c **** static uint32_t SD_FindSCR(SD_HandleTypeDef *hsd, uint32_t *pSCR)
ARM GAS  /tmp/ccECQX6D.s 			page 76


3908:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c **** {
3909:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****   SDMMC_DataInitTypeDef config;
3910:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****   uint32_t errorstate;
3911:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****   uint32_t tickstart = HAL_GetTick();
3912:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****   uint32_t index = 0U;
3913:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****   uint32_t tempscr[2U] = {0UL, 0UL};
3914:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****   uint32_t *scr = pSCR;
3915:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c **** 
3916:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****   /* Set Block Size To 8 Bytes */
3917:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****   errorstate = SDMMC_CmdBlockLength(hsd->Instance, 8U);
3918:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****   if(errorstate != HAL_SD_ERROR_NONE)
3919:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****   {
3920:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****     return errorstate;
3921:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****   }
3922:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c **** 
3923:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****   /* Send CMD55 APP_CMD with argument as card's RCA */
3924:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****   errorstate = SDMMC_CmdAppCommand(hsd->Instance, (uint32_t)((hsd->SdCard.RelCardAdd) << 16U));
3925:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****   if(errorstate != HAL_SD_ERROR_NONE)
3926:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****   {
3927:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****     return errorstate;
3928:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****   }
3929:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c **** 
3930:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****   config.DataTimeOut   = SDMMC_DATATIMEOUT;
3931:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****   config.DataLength    = 8U;
3932:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****   config.DataBlockSize = SDMMC_DATABLOCK_SIZE_8B;
3933:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****   config.TransferDir   = SDMMC_TRANSFER_DIR_TO_SDMMC;
3934:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****   config.TransferMode  = SDMMC_TRANSFER_MODE_BLOCK;
3935:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****   config.DPSM          = SDMMC_DPSM_ENABLE;
3936:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****   (void)SDMMC_ConfigData(hsd->Instance, &config);
3937:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c **** 
3938:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****   /* Send ACMD51 SD_APP_SEND_SCR with argument as 0 */
3939:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****   errorstate = SDMMC_CmdSendSCR(hsd->Instance);
3940:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****   if(errorstate != HAL_SD_ERROR_NONE)
3941:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****   {
3942:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****     return errorstate;
3943:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****   }
3944:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c **** 
3945:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c **** #if defined(STM32L4P5xx) || defined(STM32L4Q5xx) || defined(STM32L4R5xx) || defined(STM32L4R7xx) ||
3946:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****   while(!__HAL_SD_GET_FLAG(hsd, SDMMC_FLAG_RXOVERR | SDMMC_FLAG_DCRCFAIL | SDMMC_FLAG_DTIMEOUT | SD
3947:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****   {
3948:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****     if((!__HAL_SD_GET_FLAG(hsd, SDMMC_FLAG_RXFIFOE)) && (index == 0U))
3949:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****     {
3950:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****       tempscr[0] = SDMMC_ReadFIFO(hsd->Instance);
3951:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****       tempscr[1] = SDMMC_ReadFIFO(hsd->Instance);
3952:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****       index++;
3953:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****     }
3954:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c **** 
3955:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c **** 
3956:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****     if((HAL_GetTick() - tickstart) >=  SDMMC_DATATIMEOUT)
3957:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****     {
3958:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****       return HAL_SD_ERROR_TIMEOUT;
3959:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****     }
3960:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****   }
3961:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c **** #else
3962:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****   while(!__HAL_SD_GET_FLAG(hsd, SDMMC_FLAG_RXOVERR | SDMMC_FLAG_DCRCFAIL | SDMMC_FLAG_DTIMEOUT | SD
3963:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****   {
3964:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****     if(__HAL_SD_GET_FLAG(hsd, SDMMC_FLAG_RXDAVL))
ARM GAS  /tmp/ccECQX6D.s 			page 77


3965:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****     {
3966:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****       *(tempscr + index) = SDMMC_ReadFIFO(hsd->Instance);
3967:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****       index++;
3968:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****     }
3969:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c **** 
3970:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****     if((HAL_GetTick() - tickstart) >=  SDMMC_DATATIMEOUT)
3971:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****     {
3972:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****       return HAL_SD_ERROR_TIMEOUT;
3973:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****     }
3974:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****   }
3975:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c **** #endif /* STM32L4P5xx || STM32L4Q5xx || STM32L4R5xx || STM32L4R7xx || STM32L4R9xx || STM32L4S5xx ||
3976:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c **** 
3977:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****   if(__HAL_SD_GET_FLAG(hsd, SDMMC_FLAG_DTIMEOUT))
3978:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****   {
3979:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****     __HAL_SD_CLEAR_FLAG(hsd, SDMMC_FLAG_DTIMEOUT);
3980:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c **** 
3981:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****     return HAL_SD_ERROR_DATA_TIMEOUT;
3982:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****   }
3983:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****   else if(__HAL_SD_GET_FLAG(hsd, SDMMC_FLAG_DCRCFAIL))
3984:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****   {
3985:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****     __HAL_SD_CLEAR_FLAG(hsd, SDMMC_FLAG_DCRCFAIL);
3986:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c **** 
3987:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****     return HAL_SD_ERROR_DATA_CRC_FAIL;
3988:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****   }
3989:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****   else if(__HAL_SD_GET_FLAG(hsd, SDMMC_FLAG_RXOVERR))
3990:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****   {
3991:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****     __HAL_SD_CLEAR_FLAG(hsd, SDMMC_FLAG_RXOVERR);
3992:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c **** 
3993:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****     return HAL_SD_ERROR_RX_OVERRUN;
3994:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****   }
3995:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****   else
3996:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****   {
3997:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****     /* No error flag set */
3998:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****     /* Clear all the static flags */
3999:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****     __HAL_SD_CLEAR_FLAG(hsd, SDMMC_STATIC_DATA_FLAGS);
4000:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c **** 
4001:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****     *scr = (((tempscr[1] & SDMMC_0TO7BITS) << 24)  | ((tempscr[1] & SDMMC_8TO15BITS) << 8) |\
4002:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****             ((tempscr[1] & SDMMC_16TO23BITS) >> 8) | ((tempscr[1] & SDMMC_24TO31BITS) >> 24));
4003:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****     scr++;
4004:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****     *scr = (((tempscr[0] & SDMMC_0TO7BITS) << 24)  | ((tempscr[0] & SDMMC_8TO15BITS) << 8) |\
4005:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****             ((tempscr[0] & SDMMC_16TO23BITS) >> 8) | ((tempscr[0] & SDMMC_24TO31BITS) >> 24));
4006:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c **** 
4007:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****   }
4008:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c **** 
4009:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****   return HAL_SD_ERROR_NONE;
4010:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c **** }
4011:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c **** 
4012:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c **** /**
4013:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****   * @brief  Wrap up reading in non-blocking mode.
4014:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****   * @param  hsd pointer to a SD_HandleTypeDef structure that contains
4015:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****   *              the configuration information.
4016:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****   * @retval None
4017:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****   */
4018:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c **** static void SD_Read_IT(SD_HandleTypeDef *hsd)
4019:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c **** {
 314              		.loc 1 4019 1 is_stmt 1 view -0
 315              		.cfi_startproc
ARM GAS  /tmp/ccECQX6D.s 			page 78


 316              		@ args = 0, pretend = 0, frame = 0
 317              		@ frame_needed = 0, uses_anonymous_args = 0
 318              		.loc 1 4019 1 is_stmt 0 view .LVU87
 319 0000 F8B5     		push	{r3, r4, r5, r6, r7, lr}
 320              		.cfi_def_cfa_offset 24
 321              		.cfi_offset 3, -24
 322              		.cfi_offset 4, -20
 323              		.cfi_offset 5, -16
 324              		.cfi_offset 6, -12
 325              		.cfi_offset 7, -8
 326              		.cfi_offset 14, -4
4020:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****   uint32_t count, data, dataremaining;
 327              		.loc 1 4020 3 is_stmt 1 view .LVU88
4021:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****   uint8_t* tmp;
 328              		.loc 1 4021 3 view .LVU89
4022:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c **** 
4023:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****   tmp = hsd->pRxBuffPtr;
 329              		.loc 1 4023 3 view .LVU90
 330              		.loc 1 4023 7 is_stmt 0 view .LVU91
 331 0002 846A     		ldr	r4, [r0, #40]
 332              	.LVL36:
4024:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****   dataremaining = hsd->RxXferSize;
 333              		.loc 1 4024 3 is_stmt 1 view .LVU92
 334              		.loc 1 4024 17 is_stmt 0 view .LVU93
 335 0004 C66A     		ldr	r6, [r0, #44]
 336              	.LVL37:
4025:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c **** 
4026:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****   if (dataremaining > 0U)
 337              		.loc 1 4026 3 is_stmt 1 view .LVU94
 338              		.loc 1 4026 6 is_stmt 0 view .LVU95
 339 0006 A6B9     		cbnz	r6, .L29
 340              	.LVL38:
 341              	.L25:
4027:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****   {
4028:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****     /* Read data from SDMMC Rx FIFO */
4029:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****     for(count = 0U; count < 8U; count++)
4030:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****     {
4031:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****       data = SDMMC_ReadFIFO(hsd->Instance);
4032:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****       *tmp = (uint8_t)(data & 0xFFU);
4033:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****       tmp++;
4034:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****       dataremaining--;
4035:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****       *tmp = (uint8_t)((data >> 8U) & 0xFFU);
4036:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****       tmp++;
4037:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****       dataremaining--;
4038:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****       *tmp = (uint8_t)((data >> 16U) & 0xFFU);
4039:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****       tmp++;
4040:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****       dataremaining--;
4041:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****       *tmp = (uint8_t)((data >> 24U) & 0xFFU);
4042:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****       tmp++;
4043:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****       dataremaining--;
4044:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****     }
4045:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c **** 
4046:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****     hsd->pRxBuffPtr = tmp;
4047:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****     hsd->RxXferSize = dataremaining;
4048:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****   }
4049:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c **** }
 342              		.loc 1 4049 1 view .LVU96
ARM GAS  /tmp/ccECQX6D.s 			page 79


 343 0008 F8BD     		pop	{r3, r4, r5, r6, r7, pc}
 344              	.LVL39:
 345              	.L28:
4031:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****       *tmp = (uint8_t)(data & 0xFFU);
 346              		.loc 1 4031 7 is_stmt 1 discriminator 3 view .LVU97
4031:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****       *tmp = (uint8_t)(data & 0xFFU);
 347              		.loc 1 4031 14 is_stmt 0 discriminator 3 view .LVU98
 348 000a 3868     		ldr	r0, [r7]
 349 000c FFF7FEFF 		bl	SDMMC_ReadFIFO
 350              	.LVL40:
4032:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****       tmp++;
 351              		.loc 1 4032 7 is_stmt 1 discriminator 3 view .LVU99
4032:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****       tmp++;
 352              		.loc 1 4032 12 is_stmt 0 discriminator 3 view .LVU100
 353 0010 2070     		strb	r0, [r4]
4033:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****       dataremaining--;
 354              		.loc 1 4033 7 is_stmt 1 discriminator 3 view .LVU101
 355              	.LVL41:
4034:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****       *tmp = (uint8_t)((data >> 8U) & 0xFFU);
 356              		.loc 1 4034 7 discriminator 3 view .LVU102
4035:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****       tmp++;
 357              		.loc 1 4035 7 discriminator 3 view .LVU103
4035:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****       tmp++;
 358              		.loc 1 4035 14 is_stmt 0 discriminator 3 view .LVU104
 359 0012 C0F30723 		ubfx	r3, r0, #8, #8
4035:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****       tmp++;
 360              		.loc 1 4035 12 discriminator 3 view .LVU105
 361 0016 6370     		strb	r3, [r4, #1]
4036:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****       dataremaining--;
 362              		.loc 1 4036 7 is_stmt 1 discriminator 3 view .LVU106
 363              	.LVL42:
4037:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****       *tmp = (uint8_t)((data >> 16U) & 0xFFU);
 364              		.loc 1 4037 7 discriminator 3 view .LVU107
4038:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****       tmp++;
 365              		.loc 1 4038 7 discriminator 3 view .LVU108
4038:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****       tmp++;
 366              		.loc 1 4038 14 is_stmt 0 discriminator 3 view .LVU109
 367 0018 C0F30743 		ubfx	r3, r0, #16, #8
4038:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****       tmp++;
 368              		.loc 1 4038 12 discriminator 3 view .LVU110
 369 001c A370     		strb	r3, [r4, #2]
4039:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****       dataremaining--;
 370              		.loc 1 4039 7 is_stmt 1 discriminator 3 view .LVU111
 371              	.LVL43:
4040:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****       *tmp = (uint8_t)((data >> 24U) & 0xFFU);
 372              		.loc 1 4040 7 discriminator 3 view .LVU112
4041:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****       tmp++;
 373              		.loc 1 4041 7 discriminator 3 view .LVU113
4041:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****       tmp++;
 374              		.loc 1 4041 14 is_stmt 0 discriminator 3 view .LVU114
 375 001e 000E     		lsrs	r0, r0, #24
 376              	.LVL44:
4041:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****       tmp++;
 377              		.loc 1 4041 12 discriminator 3 view .LVU115
 378 0020 E070     		strb	r0, [r4, #3]
4042:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****       dataremaining--;
 379              		.loc 1 4042 7 is_stmt 1 discriminator 3 view .LVU116
ARM GAS  /tmp/ccECQX6D.s 			page 80


4042:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****       dataremaining--;
 380              		.loc 1 4042 10 is_stmt 0 discriminator 3 view .LVU117
 381 0022 0434     		adds	r4, r4, #4
 382              	.LVL45:
4043:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****     }
 383              		.loc 1 4043 7 is_stmt 1 discriminator 3 view .LVU118
4043:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****     }
 384              		.loc 1 4043 20 is_stmt 0 discriminator 3 view .LVU119
 385 0024 043E     		subs	r6, r6, #4
 386              	.LVL46:
4029:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****     {
 387              		.loc 1 4029 38 is_stmt 1 discriminator 3 view .LVU120
 388 0026 0135     		adds	r5, r5, #1
 389              	.LVL47:
 390              	.L26:
4029:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****     {
 391              		.loc 1 4029 27 discriminator 1 view .LVU121
 392 0028 072D     		cmp	r5, #7
 393 002a EED9     		bls	.L28
4046:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****     hsd->RxXferSize = dataremaining;
 394              		.loc 1 4046 5 view .LVU122
4046:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****     hsd->RxXferSize = dataremaining;
 395              		.loc 1 4046 21 is_stmt 0 view .LVU123
 396 002c BC62     		str	r4, [r7, #40]
4047:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****   }
 397              		.loc 1 4047 5 is_stmt 1 view .LVU124
4047:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****   }
 398              		.loc 1 4047 21 is_stmt 0 view .LVU125
 399 002e FE62     		str	r6, [r7, #44]
 400              		.loc 1 4049 1 view .LVU126
 401 0030 EAE7     		b	.L25
 402              	.LVL48:
 403              	.L29:
 404              		.loc 1 4049 1 view .LVU127
 405 0032 0746     		mov	r7, r0
4029:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****     {
 406              		.loc 1 4029 15 view .LVU128
 407 0034 0025     		movs	r5, #0
 408 0036 F7E7     		b	.L26
 409              		.cfi_endproc
 410              	.LFE328:
 412              		.section	.text.SD_Write_IT,"ax",%progbits
 413              		.align	1
 414              		.syntax unified
 415              		.thumb
 416              		.thumb_func
 418              	SD_Write_IT:
 419              	.LVL49:
 420              	.LFB329:
4050:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c **** 
4051:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c **** /**
4052:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****   * @brief  Wrap up writing in non-blocking mode.
4053:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****   * @param  hsd pointer to a SD_HandleTypeDef structure that contains
4054:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****   *              the configuration information.
4055:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****   * @retval None
4056:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****   */
4057:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c **** static void SD_Write_IT(SD_HandleTypeDef *hsd)
ARM GAS  /tmp/ccECQX6D.s 			page 81


4058:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c **** {
 421              		.loc 1 4058 1 is_stmt 1 view -0
 422              		.cfi_startproc
 423              		@ args = 0, pretend = 0, frame = 8
 424              		@ frame_needed = 0, uses_anonymous_args = 0
 425              		.loc 1 4058 1 is_stmt 0 view .LVU130
 426 0000 F0B5     		push	{r4, r5, r6, r7, lr}
 427              		.cfi_def_cfa_offset 20
 428              		.cfi_offset 4, -20
 429              		.cfi_offset 5, -16
 430              		.cfi_offset 6, -12
 431              		.cfi_offset 7, -8
 432              		.cfi_offset 14, -4
 433 0002 83B0     		sub	sp, sp, #12
 434              		.cfi_def_cfa_offset 32
4059:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****   uint32_t count, data, dataremaining;
 435              		.loc 1 4059 3 is_stmt 1 view .LVU131
4060:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****   uint8_t* tmp;
 436              		.loc 1 4060 3 view .LVU132
4061:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c **** 
4062:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****   tmp = hsd->pTxBuffPtr;
 437              		.loc 1 4062 3 view .LVU133
 438              		.loc 1 4062 7 is_stmt 0 view .LVU134
 439 0004 046A     		ldr	r4, [r0, #32]
 440              	.LVL50:
4063:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****   dataremaining = hsd->TxXferSize;
 441              		.loc 1 4063 3 is_stmt 1 view .LVU135
 442              		.loc 1 4063 17 is_stmt 0 view .LVU136
 443 0006 466A     		ldr	r6, [r0, #36]
 444              	.LVL51:
4064:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c **** 
4065:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****   if (dataremaining > 0U)
 445              		.loc 1 4065 3 is_stmt 1 view .LVU137
 446              		.loc 1 4065 6 is_stmt 0 view .LVU138
 447 0008 DEB9     		cbnz	r6, .L35
 448              	.LVL52:
 449              	.L31:
4066:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****   {
4067:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****     /* Write data to SDMMC Tx FIFO */
4068:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****     for(count = 0U; count < 8U; count++)
4069:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****     {
4070:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****       data = (uint32_t)(*tmp);
4071:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****       tmp++;
4072:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****       dataremaining--;
4073:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****       data |= ((uint32_t)(*tmp) << 8U);
4074:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****       tmp++;
4075:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****       dataremaining--;
4076:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****       data |= ((uint32_t)(*tmp) << 16U);
4077:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****       tmp++;
4078:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****       dataremaining--;
4079:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****       data |= ((uint32_t)(*tmp) << 24U);
4080:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****       tmp++;
4081:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****       dataremaining--;
4082:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****       (void)SDMMC_WriteFIFO(hsd->Instance, &data);
4083:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****     }
4084:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c **** 
4085:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****     hsd->pTxBuffPtr = tmp;
ARM GAS  /tmp/ccECQX6D.s 			page 82


4086:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****     hsd->TxXferSize = dataremaining;
4087:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****   }
4088:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c **** }
 450              		.loc 1 4088 1 view .LVU139
 451 000a 03B0     		add	sp, sp, #12
 452              		.cfi_remember_state
 453              		.cfi_def_cfa_offset 20
 454              		@ sp needed
 455 000c F0BD     		pop	{r4, r5, r6, r7, pc}
 456              	.LVL53:
 457              	.L34:
 458              		.cfi_restore_state
4070:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****       tmp++;
 459              		.loc 1 4070 7 is_stmt 1 discriminator 3 view .LVU140
4070:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****       tmp++;
 460              		.loc 1 4070 25 is_stmt 0 discriminator 3 view .LVU141
 461 000e 2378     		ldrb	r3, [r4]	@ zero_extendqisi2
4070:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****       tmp++;
 462              		.loc 1 4070 12 discriminator 3 view .LVU142
 463 0010 0193     		str	r3, [sp, #4]
4071:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****       dataremaining--;
 464              		.loc 1 4071 7 is_stmt 1 discriminator 3 view .LVU143
 465              	.LVL54:
4072:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****       data |= ((uint32_t)(*tmp) << 8U);
 466              		.loc 1 4072 7 discriminator 3 view .LVU144
4073:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****       tmp++;
 467              		.loc 1 4073 7 discriminator 3 view .LVU145
4073:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****       tmp++;
 468              		.loc 1 4073 27 is_stmt 0 discriminator 3 view .LVU146
 469 0012 6278     		ldrb	r2, [r4, #1]	@ zero_extendqisi2
4073:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****       tmp++;
 470              		.loc 1 4073 12 discriminator 3 view .LVU147
 471 0014 43EA0223 		orr	r3, r3, r2, lsl #8
 472 0018 0193     		str	r3, [sp, #4]
4074:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****       dataremaining--;
 473              		.loc 1 4074 7 is_stmt 1 discriminator 3 view .LVU148
 474              	.LVL55:
4075:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****       data |= ((uint32_t)(*tmp) << 16U);
 475              		.loc 1 4075 7 discriminator 3 view .LVU149
4076:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****       tmp++;
 476              		.loc 1 4076 7 discriminator 3 view .LVU150
4076:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****       tmp++;
 477              		.loc 1 4076 27 is_stmt 0 discriminator 3 view .LVU151
 478 001a A278     		ldrb	r2, [r4, #2]	@ zero_extendqisi2
4076:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****       tmp++;
 479              		.loc 1 4076 12 discriminator 3 view .LVU152
 480 001c 43EA0243 		orr	r3, r3, r2, lsl #16
 481 0020 0193     		str	r3, [sp, #4]
4077:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****       dataremaining--;
 482              		.loc 1 4077 7 is_stmt 1 discriminator 3 view .LVU153
 483              	.LVL56:
4078:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****       data |= ((uint32_t)(*tmp) << 24U);
 484              		.loc 1 4078 7 discriminator 3 view .LVU154
4079:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****       tmp++;
 485              		.loc 1 4079 7 discriminator 3 view .LVU155
4079:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****       tmp++;
 486              		.loc 1 4079 27 is_stmt 0 discriminator 3 view .LVU156
ARM GAS  /tmp/ccECQX6D.s 			page 83


 487 0022 E278     		ldrb	r2, [r4, #3]	@ zero_extendqisi2
4079:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****       tmp++;
 488              		.loc 1 4079 12 discriminator 3 view .LVU157
 489 0024 43EA0263 		orr	r3, r3, r2, lsl #24
 490 0028 0193     		str	r3, [sp, #4]
4080:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****       dataremaining--;
 491              		.loc 1 4080 7 is_stmt 1 discriminator 3 view .LVU158
4080:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****       dataremaining--;
 492              		.loc 1 4080 10 is_stmt 0 discriminator 3 view .LVU159
 493 002a 0434     		adds	r4, r4, #4
 494              	.LVL57:
4081:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****       (void)SDMMC_WriteFIFO(hsd->Instance, &data);
 495              		.loc 1 4081 7 is_stmt 1 discriminator 3 view .LVU160
4081:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****       (void)SDMMC_WriteFIFO(hsd->Instance, &data);
 496              		.loc 1 4081 20 is_stmt 0 discriminator 3 view .LVU161
 497 002c 043E     		subs	r6, r6, #4
 498              	.LVL58:
4082:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****     }
 499              		.loc 1 4082 7 is_stmt 1 discriminator 3 view .LVU162
4082:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****     }
 500              		.loc 1 4082 13 is_stmt 0 discriminator 3 view .LVU163
 501 002e 01A9     		add	r1, sp, #4
 502 0030 3868     		ldr	r0, [r7]
 503 0032 FFF7FEFF 		bl	SDMMC_WriteFIFO
 504              	.LVL59:
4068:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****     {
 505              		.loc 1 4068 38 is_stmt 1 discriminator 3 view .LVU164
 506 0036 0135     		adds	r5, r5, #1
 507              	.LVL60:
 508              	.L32:
4068:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****     {
 509              		.loc 1 4068 27 discriminator 1 view .LVU165
 510 0038 072D     		cmp	r5, #7
 511 003a E8D9     		bls	.L34
4085:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****     hsd->TxXferSize = dataremaining;
 512              		.loc 1 4085 5 view .LVU166
4085:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****     hsd->TxXferSize = dataremaining;
 513              		.loc 1 4085 21 is_stmt 0 view .LVU167
 514 003c 3C62     		str	r4, [r7, #32]
4086:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****   }
 515              		.loc 1 4086 5 is_stmt 1 view .LVU168
4086:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****   }
 516              		.loc 1 4086 21 is_stmt 0 view .LVU169
 517 003e 7E62     		str	r6, [r7, #36]
 518              		.loc 1 4088 1 view .LVU170
 519 0040 E3E7     		b	.L31
 520              	.LVL61:
 521              	.L35:
 522              		.loc 1 4088 1 view .LVU171
 523 0042 0746     		mov	r7, r0
4068:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****     {
 524              		.loc 1 4068 15 view .LVU172
 525 0044 0025     		movs	r5, #0
 526 0046 F7E7     		b	.L32
 527              		.cfi_endproc
 528              	.LFE329:
 530              		.section	.text.SD_SendSDStatus,"ax",%progbits
ARM GAS  /tmp/ccECQX6D.s 			page 84


 531              		.align	1
 532              		.syntax unified
 533              		.thumb
 534              		.thumb_func
 536              	SD_SendSDStatus:
 537              	.LVL62:
 538              	.LFB323:
3671:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****   SDMMC_DataInitTypeDef config;
 539              		.loc 1 3671 1 is_stmt 1 view -0
 540              		.cfi_startproc
 541              		@ args = 0, pretend = 0, frame = 24
 542              		@ frame_needed = 0, uses_anonymous_args = 0
3671:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****   SDMMC_DataInitTypeDef config;
 543              		.loc 1 3671 1 is_stmt 0 view .LVU174
 544 0000 F0B5     		push	{r4, r5, r6, r7, lr}
 545              		.cfi_def_cfa_offset 20
 546              		.cfi_offset 4, -20
 547              		.cfi_offset 5, -16
 548              		.cfi_offset 6, -12
 549              		.cfi_offset 7, -8
 550              		.cfi_offset 14, -4
 551 0002 87B0     		sub	sp, sp, #28
 552              		.cfi_def_cfa_offset 48
 553 0004 0546     		mov	r5, r0
 554 0006 0E46     		mov	r6, r1
3672:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****   uint32_t errorstate;
 555              		.loc 1 3672 3 is_stmt 1 view .LVU175
3673:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****   uint32_t tickstart = HAL_GetTick();
 556              		.loc 1 3673 3 view .LVU176
3674:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****   uint32_t count;
 557              		.loc 1 3674 3 view .LVU177
3674:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****   uint32_t count;
 558              		.loc 1 3674 24 is_stmt 0 view .LVU178
 559 0008 FFF7FEFF 		bl	HAL_GetTick
 560              	.LVL63:
3674:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****   uint32_t count;
 561              		.loc 1 3674 24 view .LVU179
 562 000c 0746     		mov	r7, r0
 563              	.LVL64:
3675:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****   uint32_t *pData = pSDstatus;
 564              		.loc 1 3675 3 is_stmt 1 view .LVU180
3676:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c **** 
 565              		.loc 1 3676 3 view .LVU181
3679:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****   {
 566              		.loc 1 3679 3 view .LVU182
3679:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****   {
 567              		.loc 1 3679 7 is_stmt 0 view .LVU183
 568 000e 0021     		movs	r1, #0
 569 0010 2868     		ldr	r0, [r5]
 570              	.LVL65:
3679:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****   {
 571              		.loc 1 3679 7 view .LVU184
 572 0012 FFF7FEFF 		bl	SDMMC_GetResponse
 573              	.LVL66:
3679:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****   {
 574              		.loc 1 3679 5 view .LVU185
 575 0016 10F0007F 		tst	r0, #33554432
ARM GAS  /tmp/ccECQX6D.s 			page 85


 576 001a 66D1     		bne	.L48
3685:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****   if(errorstate != HAL_SD_ERROR_NONE)
 577              		.loc 1 3685 3 is_stmt 1 view .LVU186
3685:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****   if(errorstate != HAL_SD_ERROR_NONE)
 578              		.loc 1 3685 16 is_stmt 0 view .LVU187
 579 001c 4021     		movs	r1, #64
 580 001e 2868     		ldr	r0, [r5]
 581 0020 FFF7FEFF 		bl	SDMMC_CmdBlockLength
 582              	.LVL67:
3686:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****   {
 583              		.loc 1 3686 3 is_stmt 1 view .LVU188
3686:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****   {
 584              		.loc 1 3686 5 is_stmt 0 view .LVU189
 585 0024 0346     		mov	r3, r0
 586 0026 10B1     		cbz	r0, .L39
3688:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****     return errorstate;
 587              		.loc 1 3688 5 is_stmt 1 view .LVU190
3688:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****     return errorstate;
 588              		.loc 1 3688 20 is_stmt 0 view .LVU191
 589 0028 AA6B     		ldr	r2, [r5, #56]
 590 002a AA63     		str	r2, [r5, #56]
3689:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****   }
 591              		.loc 1 3689 5 is_stmt 1 view .LVU192
3689:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****   }
 592              		.loc 1 3689 12 is_stmt 0 view .LVU193
 593 002c 5FE0     		b	.L37
 594              	.L39:
3693:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****   if(errorstate != HAL_SD_ERROR_NONE)
 595              		.loc 1 3693 3 is_stmt 1 view .LVU194
3693:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****   if(errorstate != HAL_SD_ERROR_NONE)
 596              		.loc 1 3693 73 is_stmt 0 view .LVU195
 597 002e 296D     		ldr	r1, [r5, #80]
3693:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****   if(errorstate != HAL_SD_ERROR_NONE)
 598              		.loc 1 3693 16 view .LVU196
 599 0030 0904     		lsls	r1, r1, #16
 600 0032 2868     		ldr	r0, [r5]
 601              	.LVL68:
3693:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****   if(errorstate != HAL_SD_ERROR_NONE)
 602              		.loc 1 3693 16 view .LVU197
 603 0034 FFF7FEFF 		bl	SDMMC_CmdAppCommand
 604              	.LVL69:
3694:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****   {
 605              		.loc 1 3694 3 is_stmt 1 view .LVU198
3694:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****   {
 606              		.loc 1 3694 5 is_stmt 0 view .LVU199
 607 0038 0346     		mov	r3, r0
 608 003a 10B1     		cbz	r0, .L40
3696:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****     return errorstate;
 609              		.loc 1 3696 5 is_stmt 1 view .LVU200
3696:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****     return errorstate;
 610              		.loc 1 3696 20 is_stmt 0 view .LVU201
 611 003c AA6B     		ldr	r2, [r5, #56]
 612 003e AA63     		str	r2, [r5, #56]
3697:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****   }
 613              		.loc 1 3697 5 is_stmt 1 view .LVU202
3697:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****   }
 614              		.loc 1 3697 12 is_stmt 0 view .LVU203
ARM GAS  /tmp/ccECQX6D.s 			page 86


 615 0040 55E0     		b	.L37
 616              	.L40:
3701:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****   config.DataLength    = 64U;
 617              		.loc 1 3701 3 is_stmt 1 view .LVU204
3701:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****   config.DataLength    = 64U;
 618              		.loc 1 3701 24 is_stmt 0 view .LVU205
 619 0042 4FF0FF33 		mov	r3, #-1
 620 0046 0093     		str	r3, [sp]
3702:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****   config.DataBlockSize = SDMMC_DATABLOCK_SIZE_64B;
 621              		.loc 1 3702 3 is_stmt 1 view .LVU206
3702:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****   config.DataBlockSize = SDMMC_DATABLOCK_SIZE_64B;
 622              		.loc 1 3702 24 is_stmt 0 view .LVU207
 623 0048 4023     		movs	r3, #64
 624 004a 0193     		str	r3, [sp, #4]
3703:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****   config.TransferDir   = SDMMC_TRANSFER_DIR_TO_SDMMC;
 625              		.loc 1 3703 3 is_stmt 1 view .LVU208
3703:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****   config.TransferDir   = SDMMC_TRANSFER_DIR_TO_SDMMC;
 626              		.loc 1 3703 24 is_stmt 0 view .LVU209
 627 004c 6023     		movs	r3, #96
 628 004e 0293     		str	r3, [sp, #8]
3704:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****   config.TransferMode  = SDMMC_TRANSFER_MODE_BLOCK;
 629              		.loc 1 3704 3 is_stmt 1 view .LVU210
3704:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****   config.TransferMode  = SDMMC_TRANSFER_MODE_BLOCK;
 630              		.loc 1 3704 24 is_stmt 0 view .LVU211
 631 0050 0223     		movs	r3, #2
 632 0052 0393     		str	r3, [sp, #12]
3705:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****   config.DPSM          = SDMMC_DPSM_ENABLE;
 633              		.loc 1 3705 3 is_stmt 1 view .LVU212
3705:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****   config.DPSM          = SDMMC_DPSM_ENABLE;
 634              		.loc 1 3705 24 is_stmt 0 view .LVU213
 635 0054 0023     		movs	r3, #0
 636 0056 0493     		str	r3, [sp, #16]
3706:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****   (void)SDMMC_ConfigData(hsd->Instance, &config);
 637              		.loc 1 3706 3 is_stmt 1 view .LVU214
3706:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****   (void)SDMMC_ConfigData(hsd->Instance, &config);
 638              		.loc 1 3706 24 is_stmt 0 view .LVU215
 639 0058 0123     		movs	r3, #1
 640 005a 0593     		str	r3, [sp, #20]
3707:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c **** 
 641              		.loc 1 3707 3 is_stmt 1 view .LVU216
3707:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c **** 
 642              		.loc 1 3707 9 is_stmt 0 view .LVU217
 643 005c 6946     		mov	r1, sp
 644 005e 2868     		ldr	r0, [r5]
 645              	.LVL70:
3707:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c **** 
 646              		.loc 1 3707 9 view .LVU218
 647 0060 FFF7FEFF 		bl	SDMMC_ConfigData
 648              	.LVL71:
3710:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****   if(errorstate != HAL_SD_ERROR_NONE)
 649              		.loc 1 3710 3 is_stmt 1 view .LVU219
3710:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****   if(errorstate != HAL_SD_ERROR_NONE)
 650              		.loc 1 3710 16 is_stmt 0 view .LVU220
 651 0064 2868     		ldr	r0, [r5]
 652 0066 FFF7FEFF 		bl	SDMMC_CmdStatusRegister
 653              	.LVL72:
3711:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****   {
ARM GAS  /tmp/ccECQX6D.s 			page 87


 654              		.loc 1 3711 3 is_stmt 1 view .LVU221
3711:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****   {
 655              		.loc 1 3711 5 is_stmt 0 view .LVU222
 656 006a 0346     		mov	r3, r0
 657 006c 80B1     		cbz	r0, .L41
3713:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****     return errorstate;
 658              		.loc 1 3713 5 is_stmt 1 view .LVU223
3713:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****     return errorstate;
 659              		.loc 1 3713 20 is_stmt 0 view .LVU224
 660 006e AA6B     		ldr	r2, [r5, #56]
 661 0070 AA63     		str	r2, [r5, #56]
3714:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****   }
 662              		.loc 1 3714 5 is_stmt 1 view .LVU225
3714:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****   }
 663              		.loc 1 3714 12 is_stmt 0 view .LVU226
 664 0072 3CE0     		b	.L37
 665              	.LVL73:
 666              	.L44:
3728:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****         pData++;
 667              		.loc 1 3728 9 is_stmt 1 discriminator 3 view .LVU227
3728:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****         pData++;
 668              		.loc 1 3728 18 is_stmt 0 discriminator 3 view .LVU228
 669 0074 2868     		ldr	r0, [r5]
 670 0076 FFF7FEFF 		bl	SDMMC_ReadFIFO
 671              	.LVL74:
3728:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****         pData++;
 672              		.loc 1 3728 16 discriminator 3 view .LVU229
 673 007a 46F8040B 		str	r0, [r6], #4
 674              	.LVL75:
3729:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****       }
 675              		.loc 1 3729 9 is_stmt 1 discriminator 3 view .LVU230
3726:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****       {
 676              		.loc 1 3726 40 discriminator 3 view .LVU231
 677 007e 0134     		adds	r4, r4, #1
 678              	.LVL76:
 679              	.L42:
3726:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****       {
 680              		.loc 1 3726 29 discriminator 1 view .LVU232
 681 0080 072C     		cmp	r4, #7
 682 0082 F7D9     		bls	.L44
 683              	.LVL77:
 684              	.L43:
3733:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****     {
 685              		.loc 1 3733 5 view .LVU233
3733:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****     {
 686              		.loc 1 3733 9 is_stmt 0 view .LVU234
 687 0084 FFF7FEFF 		bl	HAL_GetTick
 688              	.LVL78:
3733:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****     {
 689              		.loc 1 3733 23 view .LVU235
 690 0088 C01B     		subs	r0, r0, r7
3733:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****     {
 691              		.loc 1 3733 7 view .LVU236
 692 008a B0F1FF3F 		cmp	r0, #-1
 693 008e 31D0     		beq	.L49
 694              	.L41:
3721:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c **** #endif /* STM32L4P5xx || STM32L4Q5xx || STM32L4R5xx || STM32L4R7xx || STM32L4R9xx || STM32L4S5xx ||
ARM GAS  /tmp/ccECQX6D.s 			page 88


 695              		.loc 1 3721 9 is_stmt 1 view .LVU237
3721:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c **** #endif /* STM32L4P5xx || STM32L4Q5xx || STM32L4R5xx || STM32L4R7xx || STM32L4R9xx || STM32L4S5xx ||
 696              		.loc 1 3721 10 is_stmt 0 view .LVU238
 697 0090 2B68     		ldr	r3, [r5]
 698 0092 5C6B     		ldr	r4, [r3, #52]
 699 0094 40F22A42 		movw	r2, #1066
3721:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c **** #endif /* STM32L4P5xx || STM32L4Q5xx || STM32L4R5xx || STM32L4R7xx || STM32L4R9xx || STM32L4S5xx ||
 700              		.loc 1 3721 9 view .LVU239
 701 0098 1440     		ands	r4, r4, r2
 702 009a 04D1     		bne	.L55
3724:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****     {
 703              		.loc 1 3724 5 is_stmt 1 view .LVU240
3724:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****     {
 704              		.loc 1 3724 8 is_stmt 0 view .LVU241
 705 009c 5B6B     		ldr	r3, [r3, #52]
3724:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****     {
 706              		.loc 1 3724 7 view .LVU242
 707 009e 13F4004F 		tst	r3, #32768
 708 00a2 EFD0     		beq	.L43
 709 00a4 ECE7     		b	.L42
 710              	.L55:
3739:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****   {
 711              		.loc 1 3739 3 is_stmt 1 view .LVU243
3739:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****   {
 712              		.loc 1 3739 6 is_stmt 0 view .LVU244
 713 00a6 5A6B     		ldr	r2, [r3, #52]
3739:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****   {
 714              		.loc 1 3739 5 view .LVU245
 715 00a8 12F0080F 		tst	r2, #8
 716 00ac 25D1     		bne	.L50
3743:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****   {
 717              		.loc 1 3743 8 is_stmt 1 view .LVU246
3743:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****   {
 718              		.loc 1 3743 11 is_stmt 0 view .LVU247
 719 00ae 5A6B     		ldr	r2, [r3, #52]
3743:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****   {
 720              		.loc 1 3743 10 view .LVU248
 721 00b0 12F0020F 		tst	r2, #2
 722 00b4 23D1     		bne	.L51
3747:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****   {
 723              		.loc 1 3747 8 is_stmt 1 view .LVU249
3747:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****   {
 724              		.loc 1 3747 11 is_stmt 0 view .LVU250
 725 00b6 5B6B     		ldr	r3, [r3, #52]
3747:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****   {
 726              		.loc 1 3747 10 view .LVU251
 727 00b8 13F0200F 		tst	r3, #32
 728 00bc 21D1     		bne	.L56
 729              	.L46:
3759:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c **** #endif /* STM32L4P5xx || STM32L4Q5xx || STM32L4R5xx || STM32L4R7xx || STM32L4R9xx || STM32L4S5xx ||
 730              		.loc 1 3759 11 is_stmt 1 view .LVU252
 731 00be 2868     		ldr	r0, [r5]
 732 00c0 436B     		ldr	r3, [r0, #52]
 733 00c2 13F40013 		ands	r3, r3, #2097152
 734 00c6 0CD0     		beq	.L57
3762:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****     pData++;
 735              		.loc 1 3762 5 view .LVU253
ARM GAS  /tmp/ccECQX6D.s 			page 89


3762:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****     pData++;
 736              		.loc 1 3762 14 is_stmt 0 view .LVU254
 737 00c8 FFF7FEFF 		bl	SDMMC_ReadFIFO
 738              	.LVL79:
3762:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****     pData++;
 739              		.loc 1 3762 12 view .LVU255
 740 00cc 46F8040B 		str	r0, [r6], #4
 741              	.LVL80:
3763:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c **** 
 742              		.loc 1 3763 5 is_stmt 1 view .LVU256
3765:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****     {
 743              		.loc 1 3765 5 view .LVU257
3765:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****     {
 744              		.loc 1 3765 9 is_stmt 0 view .LVU258
 745 00d0 FFF7FEFF 		bl	HAL_GetTick
 746              	.LVL81:
3765:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****     {
 747              		.loc 1 3765 23 view .LVU259
 748 00d4 C01B     		subs	r0, r0, r7
3765:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****     {
 749              		.loc 1 3765 7 view .LVU260
 750 00d6 B0F1FF3F 		cmp	r0, #-1
 751 00da F0D1     		bne	.L46
3767:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****     }
 752              		.loc 1 3767 14 view .LVU261
 753 00dc 4FF00043 		mov	r3, #-2147483648
 754 00e0 05E0     		b	.L37
 755              	.L57:
3772:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c **** 
 756              		.loc 1 3772 3 is_stmt 1 view .LVU262
 757 00e2 40F23A52 		movw	r2, #1338
 758 00e6 8263     		str	r2, [r0, #56]
3774:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c **** }
 759              		.loc 1 3774 3 view .LVU263
3774:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c **** }
 760              		.loc 1 3774 10 is_stmt 0 view .LVU264
 761 00e8 01E0     		b	.L37
 762              	.LVL82:
 763              	.L48:
3681:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****   }
 764              		.loc 1 3681 12 view .LVU265
 765 00ea 4FF40063 		mov	r3, #2048
 766              	.LVL83:
 767              	.L37:
3775:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c **** 
 768              		.loc 1 3775 1 view .LVU266
 769 00ee 1846     		mov	r0, r3
 770 00f0 07B0     		add	sp, sp, #28
 771              		.cfi_remember_state
 772              		.cfi_def_cfa_offset 20
 773              		@ sp needed
 774 00f2 F0BD     		pop	{r4, r5, r6, r7, pc}
 775              	.LVL84:
 776              	.L49:
 777              		.cfi_restore_state
3735:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****     }
 778              		.loc 1 3735 14 view .LVU267
ARM GAS  /tmp/ccECQX6D.s 			page 90


 779 00f4 4FF00043 		mov	r3, #-2147483648
 780 00f8 F9E7     		b	.L37
 781              	.L50:
3741:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****   }
 782              		.loc 1 3741 12 view .LVU268
 783 00fa 0823     		movs	r3, #8
 784 00fc F7E7     		b	.L37
 785              	.L51:
3745:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****   }
 786              		.loc 1 3745 12 view .LVU269
 787 00fe 0223     		movs	r3, #2
 788 0100 F5E7     		b	.L37
 789              	.L56:
3749:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****   }
 790              		.loc 1 3749 12 view .LVU270
 791 0102 2023     		movs	r3, #32
 792 0104 F3E7     		b	.L37
 793              		.cfi_endproc
 794              	.LFE323:
 796              		.section	.text.SD_FindSCR,"ax",%progbits
 797              		.align	1
 798              		.syntax unified
 799              		.thumb
 800              		.thumb_func
 802              	SD_FindSCR:
 803              	.LVL85:
 804              	.LFB327:
3908:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****   SDMMC_DataInitTypeDef config;
 805              		.loc 1 3908 1 is_stmt 1 view -0
 806              		.cfi_startproc
 807              		@ args = 0, pretend = 0, frame = 32
 808              		@ frame_needed = 0, uses_anonymous_args = 0
3908:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****   SDMMC_DataInitTypeDef config;
 809              		.loc 1 3908 1 is_stmt 0 view .LVU272
 810 0000 F0B5     		push	{r4, r5, r6, r7, lr}
 811              		.cfi_def_cfa_offset 20
 812              		.cfi_offset 4, -20
 813              		.cfi_offset 5, -16
 814              		.cfi_offset 6, -12
 815              		.cfi_offset 7, -8
 816              		.cfi_offset 14, -4
 817 0002 89B0     		sub	sp, sp, #36
 818              		.cfi_def_cfa_offset 56
 819 0004 0446     		mov	r4, r0
 820 0006 0F46     		mov	r7, r1
3909:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****   uint32_t errorstate;
 821              		.loc 1 3909 3 is_stmt 1 view .LVU273
3910:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****   uint32_t tickstart = HAL_GetTick();
 822              		.loc 1 3910 3 view .LVU274
3911:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****   uint32_t index = 0U;
 823              		.loc 1 3911 3 view .LVU275
3911:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****   uint32_t index = 0U;
 824              		.loc 1 3911 24 is_stmt 0 view .LVU276
 825 0008 FFF7FEFF 		bl	HAL_GetTick
 826              	.LVL86:
3911:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****   uint32_t index = 0U;
 827              		.loc 1 3911 24 view .LVU277
ARM GAS  /tmp/ccECQX6D.s 			page 91


 828 000c 0646     		mov	r6, r0
 829              	.LVL87:
3912:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****   uint32_t tempscr[2U] = {0UL, 0UL};
 830              		.loc 1 3912 3 is_stmt 1 view .LVU278
3913:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****   uint32_t *scr = pSCR;
 831              		.loc 1 3913 3 view .LVU279
3913:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****   uint32_t *scr = pSCR;
 832              		.loc 1 3913 12 is_stmt 0 view .LVU280
 833 000e 0023     		movs	r3, #0
 834 0010 0093     		str	r3, [sp]
 835 0012 0193     		str	r3, [sp, #4]
3914:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c **** 
 836              		.loc 1 3914 3 is_stmt 1 view .LVU281
 837              	.LVL88:
3917:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****   if(errorstate != HAL_SD_ERROR_NONE)
 838              		.loc 1 3917 3 view .LVU282
3917:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****   if(errorstate != HAL_SD_ERROR_NONE)
 839              		.loc 1 3917 16 is_stmt 0 view .LVU283
 840 0014 0821     		movs	r1, #8
 841 0016 2068     		ldr	r0, [r4]
 842              	.LVL89:
3917:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****   if(errorstate != HAL_SD_ERROR_NONE)
 843              		.loc 1 3917 16 view .LVU284
 844 0018 FFF7FEFF 		bl	SDMMC_CmdBlockLength
 845              	.LVL90:
3918:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****   {
 846              		.loc 1 3918 3 is_stmt 1 view .LVU285
3918:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****   {
 847              		.loc 1 3918 5 is_stmt 0 view .LVU286
 848 001c 0546     		mov	r5, r0
 849 001e 10B1     		cbz	r0, .L68
 850              	.LVL91:
 851              	.L58:
4010:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c **** 
 852              		.loc 1 4010 1 view .LVU287
 853 0020 2846     		mov	r0, r5
 854 0022 09B0     		add	sp, sp, #36
 855              		.cfi_remember_state
 856              		.cfi_def_cfa_offset 20
 857              		@ sp needed
 858 0024 F0BD     		pop	{r4, r5, r6, r7, pc}
 859              	.LVL92:
 860              	.L68:
 861              		.cfi_restore_state
3924:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****   if(errorstate != HAL_SD_ERROR_NONE)
 862              		.loc 1 3924 3 is_stmt 1 view .LVU288
3924:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****   if(errorstate != HAL_SD_ERROR_NONE)
 863              		.loc 1 3924 74 is_stmt 0 view .LVU289
 864 0026 216D     		ldr	r1, [r4, #80]
3924:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****   if(errorstate != HAL_SD_ERROR_NONE)
 865              		.loc 1 3924 16 view .LVU290
 866 0028 0904     		lsls	r1, r1, #16
 867 002a 2068     		ldr	r0, [r4]
 868              	.LVL93:
3924:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****   if(errorstate != HAL_SD_ERROR_NONE)
 869              		.loc 1 3924 16 view .LVU291
 870 002c FFF7FEFF 		bl	SDMMC_CmdAppCommand
ARM GAS  /tmp/ccECQX6D.s 			page 92


 871              	.LVL94:
3925:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****   {
 872              		.loc 1 3925 3 is_stmt 1 view .LVU292
3925:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****   {
 873              		.loc 1 3925 5 is_stmt 0 view .LVU293
 874 0030 0546     		mov	r5, r0
 875 0032 0028     		cmp	r0, #0
 876 0034 F4D1     		bne	.L58
3930:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****   config.DataLength    = 8U;
 877              		.loc 1 3930 3 is_stmt 1 view .LVU294
3930:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****   config.DataLength    = 8U;
 878              		.loc 1 3930 24 is_stmt 0 view .LVU295
 879 0036 4FF0FF33 		mov	r3, #-1
 880 003a 0293     		str	r3, [sp, #8]
3931:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****   config.DataBlockSize = SDMMC_DATABLOCK_SIZE_8B;
 881              		.loc 1 3931 3 is_stmt 1 view .LVU296
3931:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****   config.DataBlockSize = SDMMC_DATABLOCK_SIZE_8B;
 882              		.loc 1 3931 24 is_stmt 0 view .LVU297
 883 003c 0823     		movs	r3, #8
 884 003e 0393     		str	r3, [sp, #12]
3932:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****   config.TransferDir   = SDMMC_TRANSFER_DIR_TO_SDMMC;
 885              		.loc 1 3932 3 is_stmt 1 view .LVU298
3932:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****   config.TransferDir   = SDMMC_TRANSFER_DIR_TO_SDMMC;
 886              		.loc 1 3932 24 is_stmt 0 view .LVU299
 887 0040 3023     		movs	r3, #48
 888 0042 0493     		str	r3, [sp, #16]
3933:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****   config.TransferMode  = SDMMC_TRANSFER_MODE_BLOCK;
 889              		.loc 1 3933 3 is_stmt 1 view .LVU300
3933:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****   config.TransferMode  = SDMMC_TRANSFER_MODE_BLOCK;
 890              		.loc 1 3933 24 is_stmt 0 view .LVU301
 891 0044 0223     		movs	r3, #2
 892 0046 0593     		str	r3, [sp, #20]
3934:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****   config.DPSM          = SDMMC_DPSM_ENABLE;
 893              		.loc 1 3934 3 is_stmt 1 view .LVU302
3934:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****   config.DPSM          = SDMMC_DPSM_ENABLE;
 894              		.loc 1 3934 24 is_stmt 0 view .LVU303
 895 0048 0023     		movs	r3, #0
 896 004a 0693     		str	r3, [sp, #24]
3935:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****   (void)SDMMC_ConfigData(hsd->Instance, &config);
 897              		.loc 1 3935 3 is_stmt 1 view .LVU304
3935:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****   (void)SDMMC_ConfigData(hsd->Instance, &config);
 898              		.loc 1 3935 24 is_stmt 0 view .LVU305
 899 004c 0123     		movs	r3, #1
 900 004e 0793     		str	r3, [sp, #28]
3936:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c **** 
 901              		.loc 1 3936 3 is_stmt 1 view .LVU306
3936:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c **** 
 902              		.loc 1 3936 9 is_stmt 0 view .LVU307
 903 0050 02A9     		add	r1, sp, #8
 904 0052 2068     		ldr	r0, [r4]
 905              	.LVL95:
3936:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c **** 
 906              		.loc 1 3936 9 view .LVU308
 907 0054 FFF7FEFF 		bl	SDMMC_ConfigData
 908              	.LVL96:
3939:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****   if(errorstate != HAL_SD_ERROR_NONE)
 909              		.loc 1 3939 3 is_stmt 1 view .LVU309
ARM GAS  /tmp/ccECQX6D.s 			page 93


3939:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****   if(errorstate != HAL_SD_ERROR_NONE)
 910              		.loc 1 3939 16 is_stmt 0 view .LVU310
 911 0058 2068     		ldr	r0, [r4]
 912 005a FFF7FEFF 		bl	SDMMC_CmdSendSCR
 913              	.LVL97:
3940:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****   {
 914              		.loc 1 3940 3 is_stmt 1 view .LVU311
3940:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****   {
 915              		.loc 1 3940 5 is_stmt 0 view .LVU312
 916 005e 0546     		mov	r5, r0
 917 0060 30B1     		cbz	r0, .L60
 918 0062 DDE7     		b	.L58
 919              	.LVL98:
 920              	.L61:
3970:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****     {
 921              		.loc 1 3970 5 is_stmt 1 view .LVU313
3970:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****     {
 922              		.loc 1 3970 9 is_stmt 0 view .LVU314
 923 0064 FFF7FEFF 		bl	HAL_GetTick
 924              	.LVL99:
3970:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****     {
 925              		.loc 1 3970 23 view .LVU315
 926 0068 831B     		subs	r3, r0, r6
3970:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****     {
 927              		.loc 1 3970 7 view .LVU316
 928 006a B3F1FF3F 		cmp	r3, #-1
 929 006e 42D0     		beq	.L66
 930              	.LVL100:
 931              	.L60:
3962:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****   {
 932              		.loc 1 3962 9 is_stmt 1 view .LVU317
3962:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****   {
 933              		.loc 1 3962 10 is_stmt 0 view .LVU318
 934 0070 2068     		ldr	r0, [r4]
 935 0072 426B     		ldr	r2, [r0, #52]
3962:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****   {
 936              		.loc 1 3962 9 view .LVU319
 937 0074 40F22A43 		movw	r3, #1066
 938 0078 1A42     		tst	r2, r3
 939 007a 09D1     		bne	.L69
3964:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****     {
 940              		.loc 1 3964 5 is_stmt 1 view .LVU320
3964:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****     {
 941              		.loc 1 3964 8 is_stmt 0 view .LVU321
 942 007c 436B     		ldr	r3, [r0, #52]
3964:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****     {
 943              		.loc 1 3964 7 view .LVU322
 944 007e 13F4001F 		tst	r3, #2097152
 945 0082 EFD0     		beq	.L61
3966:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****       index++;
 946              		.loc 1 3966 7 is_stmt 1 view .LVU323
3966:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****       index++;
 947              		.loc 1 3966 28 is_stmt 0 view .LVU324
 948 0084 FFF7FEFF 		bl	SDMMC_ReadFIFO
 949              	.LVL101:
3966:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****       index++;
 950              		.loc 1 3966 26 view .LVU325
ARM GAS  /tmp/ccECQX6D.s 			page 94


 951 0088 4DF82500 		str	r0, [sp, r5, lsl #2]
3967:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****     }
 952              		.loc 1 3967 7 is_stmt 1 view .LVU326
3967:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****     }
 953              		.loc 1 3967 12 is_stmt 0 view .LVU327
 954 008c 0135     		adds	r5, r5, #1
 955              	.LVL102:
3967:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****     }
 956              		.loc 1 3967 12 view .LVU328
 957 008e E9E7     		b	.L61
 958              	.L69:
3977:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****   {
 959              		.loc 1 3977 3 is_stmt 1 view .LVU329
3977:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****   {
 960              		.loc 1 3977 6 is_stmt 0 view .LVU330
 961 0090 436B     		ldr	r3, [r0, #52]
3977:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****   {
 962              		.loc 1 3977 5 view .LVU331
 963 0092 13F0080F 		tst	r3, #8
 964 0096 25D1     		bne	.L70
3983:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****   {
 965              		.loc 1 3983 8 is_stmt 1 view .LVU332
3983:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****   {
 966              		.loc 1 3983 11 is_stmt 0 view .LVU333
 967 0098 436B     		ldr	r3, [r0, #52]
3983:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****   {
 968              		.loc 1 3983 10 view .LVU334
 969 009a 13F0020F 		tst	r3, #2
 970 009e 24D1     		bne	.L71
3989:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****   {
 971              		.loc 1 3989 8 is_stmt 1 view .LVU335
3989:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****   {
 972              		.loc 1 3989 11 is_stmt 0 view .LVU336
 973 00a0 456B     		ldr	r5, [r0, #52]
 974              	.LVL103:
3989:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****   {
 975              		.loc 1 3989 10 view .LVU337
 976 00a2 15F02005 		ands	r5, r5, #32
 977 00a6 23D1     		bne	.L72
3999:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c **** 
 978              		.loc 1 3999 5 is_stmt 1 view .LVU338
 979 00a8 40F23A53 		movw	r3, #1338
 980 00ac 8363     		str	r3, [r0, #56]
4001:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****             ((tempscr[1] & SDMMC_16TO23BITS) >> 8) | ((tempscr[1] & SDMMC_24TO31BITS) >> 24));
 981              		.loc 1 4001 5 view .LVU339
4001:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****             ((tempscr[1] & SDMMC_16TO23BITS) >> 8) | ((tempscr[1] & SDMMC_24TO31BITS) >> 24));
 982              		.loc 1 4001 22 is_stmt 0 view .LVU340
 983 00ae 019A     		ldr	r2, [sp, #4]
4001:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****             ((tempscr[1] & SDMMC_16TO23BITS) >> 8) | ((tempscr[1] & SDMMC_24TO31BITS) >> 24));
 984              		.loc 1 4001 86 view .LVU341
 985 00b0 1302     		lsls	r3, r2, #8
 986 00b2 03F47F03 		and	r3, r3, #16711680
4001:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****             ((tempscr[1] & SDMMC_16TO23BITS) >> 8) | ((tempscr[1] & SDMMC_24TO31BITS) >> 24));
 987              		.loc 1 4001 52 view .LVU342
 988 00b6 43EA0263 		orr	r3, r3, r2, lsl #24
4002:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****     scr++;
 989              		.loc 1 4002 46 view .LVU343
ARM GAS  /tmp/ccECQX6D.s 			page 95


 990 00ba 110A     		lsrs	r1, r2, #8
 991 00bc 01F47F41 		and	r1, r1, #65280
4001:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****             ((tempscr[1] & SDMMC_16TO23BITS) >> 8) | ((tempscr[1] & SDMMC_24TO31BITS) >> 24));
 992              		.loc 1 4001 92 view .LVU344
 993 00c0 0B43     		orrs	r3, r3, r1
4002:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****     scr++;
 994              		.loc 1 4002 52 view .LVU345
 995 00c2 43EA1263 		orr	r3, r3, r2, lsr #24
4001:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****             ((tempscr[1] & SDMMC_16TO23BITS) >> 8) | ((tempscr[1] & SDMMC_24TO31BITS) >> 24));
 996              		.loc 1 4001 10 view .LVU346
 997 00c6 3B60     		str	r3, [r7]
4003:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****     *scr = (((tempscr[0] & SDMMC_0TO7BITS) << 24)  | ((tempscr[0] & SDMMC_8TO15BITS) << 8) |\
 998              		.loc 1 4003 5 is_stmt 1 view .LVU347
 999              	.LVL104:
4004:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****             ((tempscr[0] & SDMMC_16TO23BITS) >> 8) | ((tempscr[0] & SDMMC_24TO31BITS) >> 24));
 1000              		.loc 1 4004 5 view .LVU348
4004:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****             ((tempscr[0] & SDMMC_16TO23BITS) >> 8) | ((tempscr[0] & SDMMC_24TO31BITS) >> 24));
 1001              		.loc 1 4004 22 is_stmt 0 view .LVU349
 1002 00c8 009A     		ldr	r2, [sp]
4004:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****             ((tempscr[0] & SDMMC_16TO23BITS) >> 8) | ((tempscr[0] & SDMMC_24TO31BITS) >> 24));
 1003              		.loc 1 4004 86 view .LVU350
 1004 00ca 1302     		lsls	r3, r2, #8
 1005 00cc 03F47F03 		and	r3, r3, #16711680
4004:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****             ((tempscr[0] & SDMMC_16TO23BITS) >> 8) | ((tempscr[0] & SDMMC_24TO31BITS) >> 24));
 1006              		.loc 1 4004 52 view .LVU351
 1007 00d0 43EA0263 		orr	r3, r3, r2, lsl #24
4005:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c **** 
 1008              		.loc 1 4005 46 view .LVU352
 1009 00d4 110A     		lsrs	r1, r2, #8
 1010 00d6 01F47F41 		and	r1, r1, #65280
4004:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****             ((tempscr[0] & SDMMC_16TO23BITS) >> 8) | ((tempscr[0] & SDMMC_24TO31BITS) >> 24));
 1011              		.loc 1 4004 92 view .LVU353
 1012 00da 0B43     		orrs	r3, r3, r1
4005:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c **** 
 1013              		.loc 1 4005 52 view .LVU354
 1014 00dc 43EA1263 		orr	r3, r3, r2, lsr #24
4004:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****             ((tempscr[0] & SDMMC_16TO23BITS) >> 8) | ((tempscr[0] & SDMMC_24TO31BITS) >> 24));
 1015              		.loc 1 4004 10 view .LVU355
 1016 00e0 7B60     		str	r3, [r7, #4]
4009:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c **** }
 1017              		.loc 1 4009 3 is_stmt 1 view .LVU356
4009:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c **** }
 1018              		.loc 1 4009 10 is_stmt 0 view .LVU357
 1019 00e2 9DE7     		b	.L58
 1020              	.LVL105:
 1021              	.L70:
3979:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c **** 
 1022              		.loc 1 3979 5 is_stmt 1 view .LVU358
 1023 00e4 0825     		movs	r5, #8
 1024              	.LVL106:
3979:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c **** 
 1025              		.loc 1 3979 5 is_stmt 0 view .LVU359
 1026 00e6 8563     		str	r5, [r0, #56]
3981:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****   }
 1027              		.loc 1 3981 5 is_stmt 1 view .LVU360
3981:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****   }
 1028              		.loc 1 3981 12 is_stmt 0 view .LVU361
ARM GAS  /tmp/ccECQX6D.s 			page 96


 1029 00e8 9AE7     		b	.L58
 1030              	.LVL107:
 1031              	.L71:
3985:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c **** 
 1032              		.loc 1 3985 5 is_stmt 1 view .LVU362
 1033 00ea 0225     		movs	r5, #2
 1034              	.LVL108:
3985:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c **** 
 1035              		.loc 1 3985 5 is_stmt 0 view .LVU363
 1036 00ec 8563     		str	r5, [r0, #56]
3987:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****   }
 1037              		.loc 1 3987 5 is_stmt 1 view .LVU364
3987:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****   }
 1038              		.loc 1 3987 12 is_stmt 0 view .LVU365
 1039 00ee 97E7     		b	.L58
 1040              	.L72:
3991:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c **** 
 1041              		.loc 1 3991 5 is_stmt 1 view .LVU366
 1042 00f0 2025     		movs	r5, #32
 1043 00f2 8563     		str	r5, [r0, #56]
3993:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****   }
 1044              		.loc 1 3993 5 view .LVU367
3993:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****   }
 1045              		.loc 1 3993 12 is_stmt 0 view .LVU368
 1046 00f4 94E7     		b	.L58
 1047              	.LVL109:
 1048              	.L66:
3972:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****     }
 1049              		.loc 1 3972 14 view .LVU369
 1050 00f6 4FF00045 		mov	r5, #-2147483648
 1051              	.LVL110:
3972:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****     }
 1052              		.loc 1 3972 14 view .LVU370
 1053 00fa 91E7     		b	.L58
 1054              		.cfi_endproc
 1055              	.LFE327:
 1057              		.section	.text.SD_WideBus_Enable,"ax",%progbits
 1058              		.align	1
 1059              		.syntax unified
 1060              		.thumb
 1061              		.thumb_func
 1063              	SD_WideBus_Enable:
 1064              	.LVL111:
 1065              	.LFB325:
3812:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****   uint32_t scr[2U] = {0UL, 0UL};
 1066              		.loc 1 3812 1 is_stmt 1 view -0
 1067              		.cfi_startproc
 1068              		@ args = 0, pretend = 0, frame = 8
 1069              		@ frame_needed = 0, uses_anonymous_args = 0
3812:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****   uint32_t scr[2U] = {0UL, 0UL};
 1070              		.loc 1 3812 1 is_stmt 0 view .LVU372
 1071 0000 10B5     		push	{r4, lr}
 1072              		.cfi_def_cfa_offset 8
 1073              		.cfi_offset 4, -8
 1074              		.cfi_offset 14, -4
 1075 0002 82B0     		sub	sp, sp, #8
 1076              		.cfi_def_cfa_offset 16
ARM GAS  /tmp/ccECQX6D.s 			page 97


 1077 0004 0446     		mov	r4, r0
3813:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****   uint32_t errorstate;
 1078              		.loc 1 3813 3 is_stmt 1 view .LVU373
3813:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****   uint32_t errorstate;
 1079              		.loc 1 3813 12 is_stmt 0 view .LVU374
 1080 0006 0021     		movs	r1, #0
 1081 0008 0091     		str	r1, [sp]
 1082 000a 0191     		str	r1, [sp, #4]
3814:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c **** 
 1083              		.loc 1 3814 3 is_stmt 1 view .LVU375
3816:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****   {
 1084              		.loc 1 3816 3 view .LVU376
3816:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****   {
 1085              		.loc 1 3816 7 is_stmt 0 view .LVU377
 1086 000c 0068     		ldr	r0, [r0]
 1087              	.LVL112:
3816:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****   {
 1088              		.loc 1 3816 7 view .LVU378
 1089 000e FFF7FEFF 		bl	SDMMC_GetResponse
 1090              	.LVL113:
3816:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****   {
 1091              		.loc 1 3816 5 view .LVU379
 1092 0012 10F0007F 		tst	r0, #33554432
 1093 0016 13D1     		bne	.L75
3822:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****   if(errorstate != HAL_SD_ERROR_NONE)
 1094              		.loc 1 3822 3 is_stmt 1 view .LVU380
3822:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****   if(errorstate != HAL_SD_ERROR_NONE)
 1095              		.loc 1 3822 16 is_stmt 0 view .LVU381
 1096 0018 6946     		mov	r1, sp
 1097 001a 2046     		mov	r0, r4
 1098 001c FFF7FEFF 		bl	SD_FindSCR
 1099              	.LVL114:
3823:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****   {
 1100              		.loc 1 3823 3 is_stmt 1 view .LVU382
3823:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****   {
 1101              		.loc 1 3823 5 is_stmt 0 view .LVU383
 1102 0020 80B9     		cbnz	r0, .L73
3829:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****   {
 1103              		.loc 1 3829 3 is_stmt 1 view .LVU384
3829:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****   {
 1104              		.loc 1 3829 5 is_stmt 0 view .LVU385
 1105 0022 019B     		ldr	r3, [sp, #4]
 1106 0024 13F4802F 		tst	r3, #262144
 1107 0028 0ED0     		beq	.L76
3832:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****     if(errorstate != HAL_SD_ERROR_NONE)
 1108              		.loc 1 3832 5 is_stmt 1 view .LVU386
3832:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****     if(errorstate != HAL_SD_ERROR_NONE)
 1109              		.loc 1 3832 75 is_stmt 0 view .LVU387
 1110 002a 216D     		ldr	r1, [r4, #80]
3832:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****     if(errorstate != HAL_SD_ERROR_NONE)
 1111              		.loc 1 3832 18 view .LVU388
 1112 002c 0904     		lsls	r1, r1, #16
 1113 002e 2068     		ldr	r0, [r4]
 1114              	.LVL115:
3832:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****     if(errorstate != HAL_SD_ERROR_NONE)
 1115              		.loc 1 3832 18 view .LVU389
 1116 0030 FFF7FEFF 		bl	SDMMC_CmdAppCommand
ARM GAS  /tmp/ccECQX6D.s 			page 98


 1117              	.LVL116:
3833:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****     {
 1118              		.loc 1 3833 5 is_stmt 1 view .LVU390
3833:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****     {
 1119              		.loc 1 3833 7 is_stmt 0 view .LVU391
 1120 0034 30B9     		cbnz	r0, .L73
3839:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****     if(errorstate != HAL_SD_ERROR_NONE)
 1121              		.loc 1 3839 5 is_stmt 1 view .LVU392
3839:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****     if(errorstate != HAL_SD_ERROR_NONE)
 1122              		.loc 1 3839 18 is_stmt 0 view .LVU393
 1123 0036 0221     		movs	r1, #2
 1124 0038 2068     		ldr	r0, [r4]
 1125              	.LVL117:
3839:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****     if(errorstate != HAL_SD_ERROR_NONE)
 1126              		.loc 1 3839 18 view .LVU394
 1127 003a FFF7FEFF 		bl	SDMMC_CmdBusWidth
 1128              	.LVL118:
3840:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****     {
 1129              		.loc 1 3840 5 is_stmt 1 view .LVU395
 1130 003e 01E0     		b	.L73
 1131              	.LVL119:
 1132              	.L75:
3818:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****   }
 1133              		.loc 1 3818 12 is_stmt 0 view .LVU396
 1134 0040 4FF40060 		mov	r0, #2048
 1135              	.L73:
3851:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c **** 
 1136              		.loc 1 3851 1 view .LVU397
 1137 0044 02B0     		add	sp, sp, #8
 1138              		.cfi_remember_state
 1139              		.cfi_def_cfa_offset 8
 1140              		@ sp needed
 1141 0046 10BD     		pop	{r4, pc}
 1142              	.LVL120:
 1143              	.L76:
 1144              		.cfi_restore_state
3849:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****   }
 1145              		.loc 1 3849 12 view .LVU398
 1146 0048 4FF08060 		mov	r0, #67108864
 1147              	.LVL121:
3849:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****   }
 1148              		.loc 1 3849 12 view .LVU399
 1149 004c FAE7     		b	.L73
 1150              		.cfi_endproc
 1151              	.LFE325:
 1153              		.section	.text.SD_WideBus_Disable,"ax",%progbits
 1154              		.align	1
 1155              		.syntax unified
 1156              		.thumb
 1157              		.thumb_func
 1159              	SD_WideBus_Disable:
 1160              	.LVL122:
 1161              	.LFB326:
3859:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****   uint32_t scr[2U] = {0UL, 0UL};
 1162              		.loc 1 3859 1 is_stmt 1 view -0
 1163              		.cfi_startproc
 1164              		@ args = 0, pretend = 0, frame = 8
ARM GAS  /tmp/ccECQX6D.s 			page 99


 1165              		@ frame_needed = 0, uses_anonymous_args = 0
3859:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****   uint32_t scr[2U] = {0UL, 0UL};
 1166              		.loc 1 3859 1 is_stmt 0 view .LVU401
 1167 0000 10B5     		push	{r4, lr}
 1168              		.cfi_def_cfa_offset 8
 1169              		.cfi_offset 4, -8
 1170              		.cfi_offset 14, -4
 1171 0002 82B0     		sub	sp, sp, #8
 1172              		.cfi_def_cfa_offset 16
 1173 0004 0446     		mov	r4, r0
3860:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****   uint32_t errorstate;
 1174              		.loc 1 3860 3 is_stmt 1 view .LVU402
3860:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****   uint32_t errorstate;
 1175              		.loc 1 3860 12 is_stmt 0 view .LVU403
 1176 0006 0021     		movs	r1, #0
 1177 0008 0091     		str	r1, [sp]
 1178 000a 0191     		str	r1, [sp, #4]
3861:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c **** 
 1179              		.loc 1 3861 3 is_stmt 1 view .LVU404
3863:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****   {
 1180              		.loc 1 3863 3 view .LVU405
3863:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****   {
 1181              		.loc 1 3863 7 is_stmt 0 view .LVU406
 1182 000c 0068     		ldr	r0, [r0]
 1183              	.LVL123:
3863:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****   {
 1184              		.loc 1 3863 7 view .LVU407
 1185 000e FFF7FEFF 		bl	SDMMC_GetResponse
 1186              	.LVL124:
3863:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****   {
 1187              		.loc 1 3863 5 view .LVU408
 1188 0012 10F0007F 		tst	r0, #33554432
 1189 0016 13D1     		bne	.L80
3869:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****   if(errorstate != HAL_SD_ERROR_NONE)
 1190              		.loc 1 3869 3 is_stmt 1 view .LVU409
3869:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****   if(errorstate != HAL_SD_ERROR_NONE)
 1191              		.loc 1 3869 16 is_stmt 0 view .LVU410
 1192 0018 6946     		mov	r1, sp
 1193 001a 2046     		mov	r0, r4
 1194 001c FFF7FEFF 		bl	SD_FindSCR
 1195              	.LVL125:
3870:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****   {
 1196              		.loc 1 3870 3 is_stmt 1 view .LVU411
3870:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****   {
 1197              		.loc 1 3870 5 is_stmt 0 view .LVU412
 1198 0020 80B9     		cbnz	r0, .L78
3876:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****   {
 1199              		.loc 1 3876 3 is_stmt 1 view .LVU413
3876:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****   {
 1200              		.loc 1 3876 5 is_stmt 0 view .LVU414
 1201 0022 019B     		ldr	r3, [sp, #4]
 1202 0024 13F4803F 		tst	r3, #65536
 1203 0028 0ED0     		beq	.L81
3879:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****     if(errorstate != HAL_SD_ERROR_NONE)
 1204              		.loc 1 3879 5 is_stmt 1 view .LVU415
3879:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****     if(errorstate != HAL_SD_ERROR_NONE)
 1205              		.loc 1 3879 75 is_stmt 0 view .LVU416
ARM GAS  /tmp/ccECQX6D.s 			page 100


 1206 002a 216D     		ldr	r1, [r4, #80]
3879:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****     if(errorstate != HAL_SD_ERROR_NONE)
 1207              		.loc 1 3879 18 view .LVU417
 1208 002c 0904     		lsls	r1, r1, #16
 1209 002e 2068     		ldr	r0, [r4]
 1210              	.LVL126:
3879:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****     if(errorstate != HAL_SD_ERROR_NONE)
 1211              		.loc 1 3879 18 view .LVU418
 1212 0030 FFF7FEFF 		bl	SDMMC_CmdAppCommand
 1213              	.LVL127:
3880:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****     {
 1214              		.loc 1 3880 5 is_stmt 1 view .LVU419
3880:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****     {
 1215              		.loc 1 3880 7 is_stmt 0 view .LVU420
 1216 0034 30B9     		cbnz	r0, .L78
3886:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****     if(errorstate != HAL_SD_ERROR_NONE)
 1217              		.loc 1 3886 5 is_stmt 1 view .LVU421
3886:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****     if(errorstate != HAL_SD_ERROR_NONE)
 1218              		.loc 1 3886 18 is_stmt 0 view .LVU422
 1219 0036 0021     		movs	r1, #0
 1220 0038 2068     		ldr	r0, [r4]
 1221              	.LVL128:
3886:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****     if(errorstate != HAL_SD_ERROR_NONE)
 1222              		.loc 1 3886 18 view .LVU423
 1223 003a FFF7FEFF 		bl	SDMMC_CmdBusWidth
 1224              	.LVL129:
3887:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****     {
 1225              		.loc 1 3887 5 is_stmt 1 view .LVU424
 1226 003e 01E0     		b	.L78
 1227              	.LVL130:
 1228              	.L80:
3865:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****   }
 1229              		.loc 1 3865 12 is_stmt 0 view .LVU425
 1230 0040 4FF40060 		mov	r0, #2048
 1231              	.L78:
3898:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c **** 
 1232              		.loc 1 3898 1 view .LVU426
 1233 0044 02B0     		add	sp, sp, #8
 1234              		.cfi_remember_state
 1235              		.cfi_def_cfa_offset 8
 1236              		@ sp needed
 1237 0046 10BD     		pop	{r4, pc}
 1238              	.LVL131:
 1239              	.L81:
 1240              		.cfi_restore_state
3896:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****   }
 1241              		.loc 1 3896 12 view .LVU427
 1242 0048 4FF08060 		mov	r0, #67108864
 1243              	.LVL132:
3896:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****   }
 1244              		.loc 1 3896 12 view .LVU428
 1245 004c FAE7     		b	.L78
 1246              		.cfi_endproc
 1247              	.LFE326:
 1249              		.section	.text.SD_SendStatus,"ax",%progbits
 1250              		.align	1
 1251              		.syntax unified
ARM GAS  /tmp/ccECQX6D.s 			page 101


 1252              		.thumb
 1253              		.thumb_func
 1255              	SD_SendStatus:
 1256              	.LVL133:
 1257              	.LFB324:
3785:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****   uint32_t errorstate;
 1258              		.loc 1 3785 1 is_stmt 1 view -0
 1259              		.cfi_startproc
 1260              		@ args = 0, pretend = 0, frame = 0
 1261              		@ frame_needed = 0, uses_anonymous_args = 0
3785:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****   uint32_t errorstate;
 1262              		.loc 1 3785 1 is_stmt 0 view .LVU430
 1263 0000 70B5     		push	{r4, r5, r6, lr}
 1264              		.cfi_def_cfa_offset 16
 1265              		.cfi_offset 4, -16
 1266              		.cfi_offset 5, -12
 1267              		.cfi_offset 6, -8
 1268              		.cfi_offset 14, -4
3786:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c **** 
 1269              		.loc 1 3786 3 is_stmt 1 view .LVU431
3788:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****   {
 1270              		.loc 1 3788 3 view .LVU432
3788:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****   {
 1271              		.loc 1 3788 5 is_stmt 0 view .LVU433
 1272 0002 81B1     		cbz	r1, .L85
 1273 0004 0446     		mov	r4, r0
 1274 0006 0E46     		mov	r6, r1
3794:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****   if(errorstate != HAL_SD_ERROR_NONE)
 1275              		.loc 1 3794 3 is_stmt 1 view .LVU434
3794:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****   if(errorstate != HAL_SD_ERROR_NONE)
 1276              		.loc 1 3794 73 is_stmt 0 view .LVU435
 1277 0008 016D     		ldr	r1, [r0, #80]
 1278              	.LVL134:
3794:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****   if(errorstate != HAL_SD_ERROR_NONE)
 1279              		.loc 1 3794 16 view .LVU436
 1280 000a 0904     		lsls	r1, r1, #16
 1281 000c 0068     		ldr	r0, [r0]
 1282              	.LVL135:
3794:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****   if(errorstate != HAL_SD_ERROR_NONE)
 1283              		.loc 1 3794 16 view .LVU437
 1284 000e FFF7FEFF 		bl	SDMMC_CmdSendStatus
 1285              	.LVL136:
3795:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****   {
 1286              		.loc 1 3795 3 is_stmt 1 view .LVU438
3795:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****   {
 1287              		.loc 1 3795 5 is_stmt 0 view .LVU439
 1288 0012 0546     		mov	r5, r0
 1289 0014 08B1     		cbz	r0, .L87
 1290              	.LVL137:
 1291              	.L83:
3804:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c **** 
 1292              		.loc 1 3804 1 view .LVU440
 1293 0016 2846     		mov	r0, r5
 1294 0018 70BD     		pop	{r4, r5, r6, pc}
 1295              	.LVL138:
 1296              	.L87:
3801:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c **** 
ARM GAS  /tmp/ccECQX6D.s 			page 102


 1297              		.loc 1 3801 3 is_stmt 1 view .LVU441
3801:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c **** 
 1298              		.loc 1 3801 18 is_stmt 0 view .LVU442
 1299 001a 0021     		movs	r1, #0
 1300 001c 2068     		ldr	r0, [r4]
 1301              	.LVL139:
3801:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c **** 
 1302              		.loc 1 3801 18 view .LVU443
 1303 001e FFF7FEFF 		bl	SDMMC_GetResponse
 1304              	.LVL140:
3801:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c **** 
 1305              		.loc 1 3801 16 view .LVU444
 1306 0022 3060     		str	r0, [r6]
3803:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c **** }
 1307              		.loc 1 3803 3 is_stmt 1 view .LVU445
3803:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c **** }
 1308              		.loc 1 3803 10 is_stmt 0 view .LVU446
 1309 0024 F7E7     		b	.L83
 1310              	.LVL141:
 1311              	.L85:
3790:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****   }
 1312              		.loc 1 3790 12 view .LVU447
 1313 0026 4FF00065 		mov	r5, #134217728
 1314 002a F4E7     		b	.L83
 1315              		.cfi_endproc
 1316              	.LFE324:
 1318              		.section	.text.HAL_SD_MspInit,"ax",%progbits
 1319              		.align	1
 1320              		.weak	HAL_SD_MspInit
 1321              		.syntax unified
 1322              		.thumb
 1323              		.thumb_func
 1325              	HAL_SD_MspInit:
 1326              	.LVL142:
 1327              	.LFB291:
 642:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****   /* Prevent unused argument(s) compilation warning */
 1328              		.loc 1 642 1 is_stmt 1 view -0
 1329              		.cfi_startproc
 1330              		@ args = 0, pretend = 0, frame = 0
 1331              		@ frame_needed = 0, uses_anonymous_args = 0
 1332              		@ link register save eliminated.
 644:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c **** 
 1333              		.loc 1 644 3 view .LVU449
 649:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c **** 
 1334              		.loc 1 649 1 is_stmt 0 view .LVU450
 1335 0000 7047     		bx	lr
 1336              		.cfi_endproc
 1337              	.LFE291:
 1339              		.section	.text.HAL_SD_MspDeInit,"ax",%progbits
 1340              		.align	1
 1341              		.weak	HAL_SD_MspDeInit
 1342              		.syntax unified
 1343              		.thumb
 1344              		.thumb_func
 1346              	HAL_SD_MspDeInit:
 1347              	.LVL143:
 1348              	.LFB292:
ARM GAS  /tmp/ccECQX6D.s 			page 103


 657:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****   /* Prevent unused argument(s) compilation warning */
 1349              		.loc 1 657 1 is_stmt 1 view -0
 1350              		.cfi_startproc
 1351              		@ args = 0, pretend = 0, frame = 0
 1352              		@ frame_needed = 0, uses_anonymous_args = 0
 1353              		@ link register save eliminated.
 659:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c **** 
 1354              		.loc 1 659 3 view .LVU452
 664:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c **** 
 1355              		.loc 1 664 1 is_stmt 0 view .LVU453
 1356 0000 7047     		bx	lr
 1357              		.cfi_endproc
 1358              	.LFE292:
 1360              		.section	.text.HAL_SD_DeInit,"ax",%progbits
 1361              		.align	1
 1362              		.global	HAL_SD_DeInit
 1363              		.syntax unified
 1364              		.thumb
 1365              		.thumb_func
 1367              	HAL_SD_DeInit:
 1368              	.LVL144:
 1369              	.LFB290:
 585:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****   /* Check the SD handle allocation */
 1370              		.loc 1 585 1 is_stmt 1 view -0
 1371              		.cfi_startproc
 1372              		@ args = 0, pretend = 0, frame = 0
 1373              		@ frame_needed = 0, uses_anonymous_args = 0
 587:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****   {
 1374              		.loc 1 587 3 view .LVU455
 587:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****   {
 1375              		.loc 1 587 5 is_stmt 0 view .LVU456
 1376 0000 70B1     		cbz	r0, .L92
 585:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****   /* Check the SD handle allocation */
 1377              		.loc 1 585 1 view .LVU457
 1378 0002 10B5     		push	{r4, lr}
 1379              		.cfi_def_cfa_offset 8
 1380              		.cfi_offset 4, -8
 1381              		.cfi_offset 14, -4
 1382 0004 0446     		mov	r4, r0
 593:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c **** 
 1383              		.loc 1 593 3 is_stmt 1 view .LVU458
 595:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c **** 
 1384              		.loc 1 595 3 view .LVU459
 595:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c **** 
 1385              		.loc 1 595 14 is_stmt 0 view .LVU460
 1386 0006 0323     		movs	r3, #3
 1387 0008 80F83430 		strb	r3, [r0, #52]
 614:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c **** 
 1388              		.loc 1 614 3 is_stmt 1 view .LVU461
 1389 000c FFF7FEFF 		bl	SD_PowerOFF
 1390              	.LVL145:
 626:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c **** #endif /* USE_HAL_SD_REGISTER_CALLBACKS */
 1391              		.loc 1 626 3 view .LVU462
 1392 0010 2046     		mov	r0, r4
 1393 0012 FFF7FEFF 		bl	HAL_SD_MspDeInit
 1394              	.LVL146:
 629:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****   hsd->State = HAL_SD_STATE_RESET;
ARM GAS  /tmp/ccECQX6D.s 			page 104


 1395              		.loc 1 629 3 view .LVU463
 629:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****   hsd->State = HAL_SD_STATE_RESET;
 1396              		.loc 1 629 18 is_stmt 0 view .LVU464
 1397 0016 0020     		movs	r0, #0
 1398 0018 A063     		str	r0, [r4, #56]
 630:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c **** 
 1399              		.loc 1 630 3 is_stmt 1 view .LVU465
 630:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c **** 
 1400              		.loc 1 630 14 is_stmt 0 view .LVU466
 1401 001a 84F83400 		strb	r0, [r4, #52]
 632:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c **** }
 1402              		.loc 1 632 3 is_stmt 1 view .LVU467
 633:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c **** 
 1403              		.loc 1 633 1 is_stmt 0 view .LVU468
 1404 001e 10BD     		pop	{r4, pc}
 1405              	.LVL147:
 1406              	.L92:
 1407              		.cfi_def_cfa_offset 0
 1408              		.cfi_restore 4
 1409              		.cfi_restore 14
 589:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****   }
 1410              		.loc 1 589 12 view .LVU469
 1411 0020 0120     		movs	r0, #1
 1412              	.LVL148:
 633:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c **** 
 1413              		.loc 1 633 1 view .LVU470
 1414 0022 7047     		bx	lr
 1415              		.cfi_endproc
 1416              	.LFE290:
 1418              		.section	.text.HAL_SD_ReadBlocks,"ax",%progbits
 1419              		.align	1
 1420              		.global	HAL_SD_ReadBlocks
 1421              		.syntax unified
 1422              		.thumb
 1423              		.thumb_func
 1425              	HAL_SD_ReadBlocks:
 1426              	.LVL149:
 1427              	.LFB293:
 698:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****   SDMMC_DataInitTypeDef config;
 1428              		.loc 1 698 1 is_stmt 1 view -0
 1429              		.cfi_startproc
 1430              		@ args = 4, pretend = 0, frame = 24
 1431              		@ frame_needed = 0, uses_anonymous_args = 0
 698:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****   SDMMC_DataInitTypeDef config;
 1432              		.loc 1 698 1 is_stmt 0 view .LVU472
 1433 0000 2DE9F04F 		push	{r4, r5, r6, r7, r8, r9, r10, fp, lr}
 1434              		.cfi_def_cfa_offset 36
 1435              		.cfi_offset 4, -36
 1436              		.cfi_offset 5, -32
 1437              		.cfi_offset 6, -28
 1438              		.cfi_offset 7, -24
 1439              		.cfi_offset 8, -20
 1440              		.cfi_offset 9, -16
 1441              		.cfi_offset 10, -12
 1442              		.cfi_offset 11, -8
 1443              		.cfi_offset 14, -4
 1444 0004 87B0     		sub	sp, sp, #28
ARM GAS  /tmp/ccECQX6D.s 			page 105


 1445              		.cfi_def_cfa_offset 64
 1446 0006 0546     		mov	r5, r0
 1447 0008 0C46     		mov	r4, r1
 1448 000a 1646     		mov	r6, r2
 1449 000c 9B46     		mov	fp, r3
 1450 000e DDF840A0 		ldr	r10, [sp, #64]
 699:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****   uint32_t errorstate;
 1451              		.loc 1 699 3 is_stmt 1 view .LVU473
 700:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****   uint32_t tickstart = HAL_GetTick();
 1452              		.loc 1 700 3 view .LVU474
 701:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****   uint32_t count, data, dataremaining;
 1453              		.loc 1 701 3 view .LVU475
 701:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****   uint32_t count, data, dataremaining;
 1454              		.loc 1 701 24 is_stmt 0 view .LVU476
 1455 0012 FFF7FEFF 		bl	HAL_GetTick
 1456              	.LVL150:
 702:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****   uint32_t add = BlockAdd;
 1457              		.loc 1 702 3 is_stmt 1 view .LVU477
 703:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****   uint8_t *tempbuff = pData;
 1458              		.loc 1 703 3 view .LVU478
 704:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c **** 
 1459              		.loc 1 704 3 view .LVU479
 706:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****   {
 1460              		.loc 1 706 3 view .LVU480
 706:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****   {
 1461              		.loc 1 706 5 is_stmt 0 view .LVU481
 1462 0016 002C     		cmp	r4, #0
 1463 0018 36D0     		beq	.L120
 1464 001a 8146     		mov	r9, r0
 712:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****   {
 1465              		.loc 1 712 3 is_stmt 1 view .LVU482
 712:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****   {
 1466              		.loc 1 712 9 is_stmt 0 view .LVU483
 1467 001c 95F83470 		ldrb	r7, [r5, #52]	@ zero_extendqisi2
 1468 0020 FFB2     		uxtb	r7, r7
 712:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****   {
 1469              		.loc 1 712 5 view .LVU484
 1470 0022 012F     		cmp	r7, #1
 1471 0024 40F00481 		bne	.L100
 714:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c **** 
 1472              		.loc 1 714 5 is_stmt 1 view .LVU485
 714:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c **** 
 1473              		.loc 1 714 20 is_stmt 0 view .LVU486
 1474 0028 0023     		movs	r3, #0
 1475 002a AB63     		str	r3, [r5, #56]
 716:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****     {
 1476              		.loc 1 716 5 is_stmt 1 view .LVU487
 716:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****     {
 1477              		.loc 1 716 13 is_stmt 0 view .LVU488
 1478 002c 06EB0B03 		add	r3, r6, fp
 716:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****     {
 1479              		.loc 1 716 45 view .LVU489
 1480 0030 EA6D     		ldr	r2, [r5, #92]
 716:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****     {
 1481              		.loc 1 716 7 view .LVU490
 1482 0032 9342     		cmp	r3, r2
 1483 0034 2ED8     		bhi	.L121
ARM GAS  /tmp/ccECQX6D.s 			page 106


 722:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c **** 
 1484              		.loc 1 722 5 is_stmt 1 view .LVU491
 722:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c **** 
 1485              		.loc 1 722 16 is_stmt 0 view .LVU492
 1486 0036 0323     		movs	r3, #3
 1487 0038 85F83430 		strb	r3, [r5, #52]
 725:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c **** 
 1488              		.loc 1 725 5 is_stmt 1 view .LVU493
 725:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c **** 
 1489              		.loc 1 725 8 is_stmt 0 view .LVU494
 1490 003c 2B68     		ldr	r3, [r5]
 725:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c **** 
 1491              		.loc 1 725 26 view .LVU495
 1492 003e 0022     		movs	r2, #0
 1493 0040 DA62     		str	r2, [r3, #44]
 727:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****     {
 1494              		.loc 1 727 5 is_stmt 1 view .LVU496
 727:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****     {
 1495              		.loc 1 727 19 is_stmt 0 view .LVU497
 1496 0042 6B6C     		ldr	r3, [r5, #68]
 727:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****     {
 1497              		.loc 1 727 7 view .LVU498
 1498 0044 012B     		cmp	r3, #1
 1499 0046 00D0     		beq	.L102
 729:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****     }
 1500              		.loc 1 729 7 is_stmt 1 view .LVU499
 729:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****     }
 1501              		.loc 1 729 11 is_stmt 0 view .LVU500
 1502 0048 7602     		lsls	r6, r6, #9
 1503              	.LVL151:
 1504              	.L102:
 733:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****     config.DataLength    = NumberOfBlocks * BLOCKSIZE;
 1505              		.loc 1 733 5 is_stmt 1 view .LVU501
 733:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****     config.DataLength    = NumberOfBlocks * BLOCKSIZE;
 1506              		.loc 1 733 26 is_stmt 0 view .LVU502
 1507 004a 4FF0FF33 		mov	r3, #-1
 1508 004e 0093     		str	r3, [sp]
 734:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****     config.DataBlockSize = SDMMC_DATABLOCK_SIZE_512B;
 1509              		.loc 1 734 5 is_stmt 1 view .LVU503
 734:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****     config.DataBlockSize = SDMMC_DATABLOCK_SIZE_512B;
 1510              		.loc 1 734 43 is_stmt 0 view .LVU504
 1511 0050 4FEA4B23 		lsl	r3, fp, #9
 734:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****     config.DataBlockSize = SDMMC_DATABLOCK_SIZE_512B;
 1512              		.loc 1 734 26 view .LVU505
 1513 0054 0193     		str	r3, [sp, #4]
 735:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****     config.TransferDir   = SDMMC_TRANSFER_DIR_TO_SDMMC;
 1514              		.loc 1 735 5 is_stmt 1 view .LVU506
 735:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****     config.TransferDir   = SDMMC_TRANSFER_DIR_TO_SDMMC;
 1515              		.loc 1 735 26 is_stmt 0 view .LVU507
 1516 0056 9023     		movs	r3, #144
 1517 0058 0293     		str	r3, [sp, #8]
 736:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****     config.TransferMode  = SDMMC_TRANSFER_MODE_BLOCK;
 1518              		.loc 1 736 5 is_stmt 1 view .LVU508
 736:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****     config.TransferMode  = SDMMC_TRANSFER_MODE_BLOCK;
 1519              		.loc 1 736 26 is_stmt 0 view .LVU509
 1520 005a 0223     		movs	r3, #2
 1521 005c 0393     		str	r3, [sp, #12]
ARM GAS  /tmp/ccECQX6D.s 			page 107


 737:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c **** #if defined(STM32L4P5xx) || defined(STM32L4Q5xx) || defined(STM32L4R5xx) || defined(STM32L4R7xx) ||
 1522              		.loc 1 737 5 is_stmt 1 view .LVU510
 737:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c **** #if defined(STM32L4P5xx) || defined(STM32L4Q5xx) || defined(STM32L4R5xx) || defined(STM32L4R7xx) ||
 1523              		.loc 1 737 26 is_stmt 0 view .LVU511
 1524 005e 0023     		movs	r3, #0
 1525 0060 0493     		str	r3, [sp, #16]
 741:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c **** #endif /* STM32L4P5xx || STM32L4Q5xx || STM32L4R5xx || STM32L4R7xx || STM32L4R9xx || STM32L4S5xx ||
 1526              		.loc 1 741 5 is_stmt 1 view .LVU512
 741:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c **** #endif /* STM32L4P5xx || STM32L4Q5xx || STM32L4R5xx || STM32L4R7xx || STM32L4R9xx || STM32L4S5xx ||
 1527              		.loc 1 741 26 is_stmt 0 view .LVU513
 1528 0062 0123     		movs	r3, #1
 1529 0064 0593     		str	r3, [sp, #20]
 743:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c **** #if defined(STM32L4P5xx) || defined(STM32L4Q5xx) || defined(STM32L4R5xx) || defined(STM32L4R7xx) ||
 1530              		.loc 1 743 5 is_stmt 1 view .LVU514
 743:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c **** #if defined(STM32L4P5xx) || defined(STM32L4Q5xx) || defined(STM32L4R5xx) || defined(STM32L4R7xx) ||
 1531              		.loc 1 743 11 is_stmt 0 view .LVU515
 1532 0066 6946     		mov	r1, sp
 1533 0068 2868     		ldr	r0, [r5]
 1534              	.LVL152:
 743:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c **** #if defined(STM32L4P5xx) || defined(STM32L4Q5xx) || defined(STM32L4R5xx) || defined(STM32L4R7xx) ||
 1535              		.loc 1 743 11 view .LVU516
 1536 006a FFF7FEFF 		bl	SDMMC_ConfigData
 1537              	.LVL153:
 749:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****     {
 1538              		.loc 1 749 5 is_stmt 1 view .LVU517
 749:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****     {
 1539              		.loc 1 749 7 is_stmt 0 view .LVU518
 1540 006e BBF1010F 		cmp	fp, #1
 1541 0072 14D9     		bls	.L103
 751:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c **** 
 1542              		.loc 1 751 7 is_stmt 1 view .LVU519
 751:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c **** 
 1543              		.loc 1 751 20 is_stmt 0 view .LVU520
 1544 0074 0223     		movs	r3, #2
 1545 0076 2B63     		str	r3, [r5, #48]
 754:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****     }
 1546              		.loc 1 754 7 is_stmt 1 view .LVU521
 754:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****     }
 1547              		.loc 1 754 20 is_stmt 0 view .LVU522
 1548 0078 3146     		mov	r1, r6
 1549 007a 2868     		ldr	r0, [r5]
 1550 007c FFF7FEFF 		bl	SDMMC_CmdReadMultiBlock
 1551              	.LVL154:
 1552              	.L104:
 763:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****     {
 1553              		.loc 1 763 5 is_stmt 1 view .LVU523
 763:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****     {
 1554              		.loc 1 763 7 is_stmt 0 view .LVU524
 1555 0080 A0B9     		cbnz	r0, .L122
 774:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****     while(!__HAL_SD_GET_FLAG(hsd, SDMMC_FLAG_RXOVERR | SDMMC_FLAG_DCRCFAIL | SDMMC_FLAG_DTIMEOUT | 
 1556              		.loc 1 774 5 is_stmt 1 view .LVU525
 774:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****     while(!__HAL_SD_GET_FLAG(hsd, SDMMC_FLAG_RXOVERR | SDMMC_FLAG_DCRCFAIL | SDMMC_FLAG_DTIMEOUT | 
 1557              		.loc 1 774 19 is_stmt 0 view .LVU526
 1558 0082 DDF80480 		ldr	r8, [sp, #4]
 1559              	.LVL155:
 775:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****     {
 1560              		.loc 1 775 5 is_stmt 1 view .LVU527
ARM GAS  /tmp/ccECQX6D.s 			page 108


 775:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****     {
 1561              		.loc 1 775 10 is_stmt 0 view .LVU528
 1562 0086 38E0     		b	.L106
 1563              	.LVL156:
 1564              	.L120:
 708:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****     return HAL_ERROR;
 1565              		.loc 1 708 5 is_stmt 1 view .LVU529
 708:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****     return HAL_ERROR;
 1566              		.loc 1 708 20 is_stmt 0 view .LVU530
 1567 0088 AB6B     		ldr	r3, [r5, #56]
 1568 008a 43F00063 		orr	r3, r3, #134217728
 1569 008e AB63     		str	r3, [r5, #56]
 709:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****   }
 1570              		.loc 1 709 5 is_stmt 1 view .LVU531
 709:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****   }
 1571              		.loc 1 709 12 is_stmt 0 view .LVU532
 1572 0090 0127     		movs	r7, #1
 1573 0092 D2E0     		b	.L99
 1574              	.L121:
 718:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****       return HAL_ERROR;
 1575              		.loc 1 718 7 is_stmt 1 view .LVU533
 718:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****       return HAL_ERROR;
 1576              		.loc 1 718 22 is_stmt 0 view .LVU534
 1577 0094 AB6B     		ldr	r3, [r5, #56]
 1578 0096 43F00073 		orr	r3, r3, #33554432
 1579 009a AB63     		str	r3, [r5, #56]
 719:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****     }
 1580              		.loc 1 719 7 is_stmt 1 view .LVU535
 719:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****     }
 1581              		.loc 1 719 14 is_stmt 0 view .LVU536
 1582 009c CDE0     		b	.L99
 1583              	.LVL157:
 1584              	.L103:
 758:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c **** 
 1585              		.loc 1 758 7 is_stmt 1 view .LVU537
 758:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c **** 
 1586              		.loc 1 758 20 is_stmt 0 view .LVU538
 1587 009e 0123     		movs	r3, #1
 1588 00a0 2B63     		str	r3, [r5, #48]
 761:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****     }
 1589              		.loc 1 761 7 is_stmt 1 view .LVU539
 761:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****     }
 1590              		.loc 1 761 20 is_stmt 0 view .LVU540
 1591 00a2 3146     		mov	r1, r6
 1592 00a4 2868     		ldr	r0, [r5]
 1593 00a6 FFF7FEFF 		bl	SDMMC_CmdReadSingleBlock
 1594              	.LVL158:
 761:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****     }
 1595              		.loc 1 761 20 view .LVU541
 1596 00aa E9E7     		b	.L104
 1597              	.L122:
 766:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****       hsd->ErrorCode |= errorstate;
 1598              		.loc 1 766 7 is_stmt 1 view .LVU542
 1599 00ac 2B68     		ldr	r3, [r5]
 1600 00ae 654A     		ldr	r2, .L128
 1601 00b0 9A63     		str	r2, [r3, #56]
 767:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****       hsd->State = HAL_SD_STATE_READY;
ARM GAS  /tmp/ccECQX6D.s 			page 109


 1602              		.loc 1 767 7 view .LVU543
 767:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****       hsd->State = HAL_SD_STATE_READY;
 1603              		.loc 1 767 22 is_stmt 0 view .LVU544
 1604 00b2 AB6B     		ldr	r3, [r5, #56]
 1605 00b4 0343     		orrs	r3, r3, r0
 1606 00b6 AB63     		str	r3, [r5, #56]
 768:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****       hsd->Context = SD_CONTEXT_NONE;
 1607              		.loc 1 768 7 is_stmt 1 view .LVU545
 768:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****       hsd->Context = SD_CONTEXT_NONE;
 1608              		.loc 1 768 18 is_stmt 0 view .LVU546
 1609 00b8 0123     		movs	r3, #1
 1610 00ba 85F83430 		strb	r3, [r5, #52]
 769:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****       return HAL_ERROR;
 1611              		.loc 1 769 7 is_stmt 1 view .LVU547
 769:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****       return HAL_ERROR;
 1612              		.loc 1 769 20 is_stmt 0 view .LVU548
 1613 00be 0023     		movs	r3, #0
 1614 00c0 2B63     		str	r3, [r5, #48]
 770:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****     }
 1615              		.loc 1 770 7 is_stmt 1 view .LVU549
 770:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****     }
 1616              		.loc 1 770 14 is_stmt 0 view .LVU550
 1617 00c2 BAE0     		b	.L99
 1618              	.LVL159:
 1619              	.L109:
 782:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****           *tempbuff = (uint8_t)(data & 0xFFU);
 1620              		.loc 1 782 11 is_stmt 1 discriminator 3 view .LVU551
 782:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****           *tempbuff = (uint8_t)(data & 0xFFU);
 1621              		.loc 1 782 18 is_stmt 0 discriminator 3 view .LVU552
 1622 00c4 2868     		ldr	r0, [r5]
 1623 00c6 FFF7FEFF 		bl	SDMMC_ReadFIFO
 1624              	.LVL160:
 783:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****           tempbuff++;
 1625              		.loc 1 783 11 is_stmt 1 discriminator 3 view .LVU553
 783:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****           tempbuff++;
 1626              		.loc 1 783 21 is_stmt 0 discriminator 3 view .LVU554
 1627 00ca 2070     		strb	r0, [r4]
 784:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****           dataremaining--;
 1628              		.loc 1 784 11 is_stmt 1 discriminator 3 view .LVU555
 1629              	.LVL161:
 785:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****           *tempbuff = (uint8_t)((data >> 8U) & 0xFFU);
 1630              		.loc 1 785 11 discriminator 3 view .LVU556
 786:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****           tempbuff++;
 1631              		.loc 1 786 11 discriminator 3 view .LVU557
 786:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****           tempbuff++;
 1632              		.loc 1 786 23 is_stmt 0 discriminator 3 view .LVU558
 1633 00cc C0F30723 		ubfx	r3, r0, #8, #8
 786:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****           tempbuff++;
 1634              		.loc 1 786 21 discriminator 3 view .LVU559
 1635 00d0 6370     		strb	r3, [r4, #1]
 787:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****           dataremaining--;
 1636              		.loc 1 787 11 is_stmt 1 discriminator 3 view .LVU560
 1637              	.LVL162:
 788:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****           *tempbuff = (uint8_t)((data >> 16U) & 0xFFU);
 1638              		.loc 1 788 11 discriminator 3 view .LVU561
 789:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****           tempbuff++;
 1639              		.loc 1 789 11 discriminator 3 view .LVU562
ARM GAS  /tmp/ccECQX6D.s 			page 110


 789:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****           tempbuff++;
 1640              		.loc 1 789 23 is_stmt 0 discriminator 3 view .LVU563
 1641 00d2 C0F30743 		ubfx	r3, r0, #16, #8
 789:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****           tempbuff++;
 1642              		.loc 1 789 21 discriminator 3 view .LVU564
 1643 00d6 A370     		strb	r3, [r4, #2]
 790:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****           dataremaining--;
 1644              		.loc 1 790 11 is_stmt 1 discriminator 3 view .LVU565
 1645              	.LVL163:
 791:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****           *tempbuff = (uint8_t)((data >> 24U) & 0xFFU);
 1646              		.loc 1 791 11 discriminator 3 view .LVU566
 792:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****           tempbuff++;
 1647              		.loc 1 792 11 discriminator 3 view .LVU567
 792:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****           tempbuff++;
 1648              		.loc 1 792 23 is_stmt 0 discriminator 3 view .LVU568
 1649 00d8 000E     		lsrs	r0, r0, #24
 1650              	.LVL164:
 792:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****           tempbuff++;
 1651              		.loc 1 792 21 discriminator 3 view .LVU569
 1652 00da E070     		strb	r0, [r4, #3]
 793:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****           dataremaining--;
 1653              		.loc 1 793 11 is_stmt 1 discriminator 3 view .LVU570
 793:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****           dataremaining--;
 1654              		.loc 1 793 19 is_stmt 0 discriminator 3 view .LVU571
 1655 00dc 0434     		adds	r4, r4, #4
 1656              	.LVL165:
 794:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****         }
 1657              		.loc 1 794 11 is_stmt 1 discriminator 3 view .LVU572
 794:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****         }
 1658              		.loc 1 794 24 is_stmt 0 discriminator 3 view .LVU573
 1659 00de A8F10408 		sub	r8, r8, #4
 1660              	.LVL166:
 780:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****         {
 1661              		.loc 1 780 42 is_stmt 1 discriminator 3 view .LVU574
 1662 00e2 0136     		adds	r6, r6, #1
 1663              	.LVL167:
 1664              	.L108:
 780:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****         {
 1665              		.loc 1 780 31 discriminator 1 view .LVU575
 1666 00e4 072E     		cmp	r6, #7
 1667 00e6 EDD9     		bls	.L109
 1668              	.LVL168:
 1669              	.L107:
 798:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****       {
 1670              		.loc 1 798 7 view .LVU576
 798:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****       {
 1671              		.loc 1 798 12 is_stmt 0 view .LVU577
 1672 00e8 FFF7FEFF 		bl	HAL_GetTick
 1673              	.LVL169:
 798:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****       {
 1674              		.loc 1 798 25 view .LVU578
 1675 00ec A0EB0900 		sub	r0, r0, r9
 798:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****       {
 1676              		.loc 1 798 9 view .LVU579
 1677 00f0 5045     		cmp	r0, r10
 1678 00f2 0FD2     		bcs	.L110
 798:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****       {
ARM GAS  /tmp/ccECQX6D.s 			page 111


 1679              		.loc 1 798 50 discriminator 1 view .LVU580
 1680 00f4 BAF1000F 		cmp	r10, #0
 1681 00f8 0CD0     		beq	.L110
 1682              	.L106:
 775:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****     {
 1683              		.loc 1 775 11 is_stmt 1 view .LVU581
 775:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****     {
 1684              		.loc 1 775 12 is_stmt 0 view .LVU582
 1685 00fa 2868     		ldr	r0, [r5]
 1686 00fc 466B     		ldr	r6, [r0, #52]
 775:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****     {
 1687              		.loc 1 775 11 view .LVU583
 1688 00fe 16F49576 		ands	r6, r6, #298
 1689 0102 15D1     		bne	.L123
 777:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****       {
 1690              		.loc 1 777 7 is_stmt 1 view .LVU584
 777:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****       {
 1691              		.loc 1 777 10 is_stmt 0 view .LVU585
 1692 0104 436B     		ldr	r3, [r0, #52]
 777:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****       {
 1693              		.loc 1 777 9 view .LVU586
 1694 0106 13F4004F 		tst	r3, #32768
 1695 010a EDD0     		beq	.L107
 777:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****       {
 1696              		.loc 1 777 54 discriminator 1 view .LVU587
 1697 010c B8F1000F 		cmp	r8, #0
 1698 0110 EAD0     		beq	.L107
 1699 0112 E7E7     		b	.L108
 1700              	.L110:
 801:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****         hsd->ErrorCode |= HAL_SD_ERROR_TIMEOUT;
 1701              		.loc 1 801 9 is_stmt 1 view .LVU588
 1702 0114 2B68     		ldr	r3, [r5]
 1703 0116 4B4A     		ldr	r2, .L128
 1704 0118 9A63     		str	r2, [r3, #56]
 802:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****         hsd->State= HAL_SD_STATE_READY;
 1705              		.loc 1 802 9 view .LVU589
 802:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****         hsd->State= HAL_SD_STATE_READY;
 1706              		.loc 1 802 24 is_stmt 0 view .LVU590
 1707 011a AB6B     		ldr	r3, [r5, #56]
 1708 011c 43F00043 		orr	r3, r3, #-2147483648
 1709 0120 AB63     		str	r3, [r5, #56]
 803:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****         hsd->Context = SD_CONTEXT_NONE;
 1710              		.loc 1 803 9 is_stmt 1 view .LVU591
 803:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****         hsd->Context = SD_CONTEXT_NONE;
 1711              		.loc 1 803 19 is_stmt 0 view .LVU592
 1712 0122 0123     		movs	r3, #1
 1713 0124 85F83430 		strb	r3, [r5, #52]
 804:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****         return HAL_TIMEOUT;
 1714              		.loc 1 804 9 is_stmt 1 view .LVU593
 804:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****         return HAL_TIMEOUT;
 1715              		.loc 1 804 22 is_stmt 0 view .LVU594
 1716 0128 0023     		movs	r3, #0
 1717 012a 2B63     		str	r3, [r5, #48]
 805:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****       }
 1718              		.loc 1 805 9 is_stmt 1 view .LVU595
 805:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****       }
 1719              		.loc 1 805 16 is_stmt 0 view .LVU596
ARM GAS  /tmp/ccECQX6D.s 			page 112


 1720 012c 0327     		movs	r7, #3
 1721 012e 84E0     		b	.L99
 1722              	.L123:
 813:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****     {
 1723              		.loc 1 813 5 is_stmt 1 view .LVU597
 813:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****     {
 1724              		.loc 1 813 8 is_stmt 0 view .LVU598
 1725 0130 436B     		ldr	r3, [r0, #52]
 813:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****     {
 1726              		.loc 1 813 7 view .LVU599
 1727 0132 13F4807F 		tst	r3, #256
 1728 0136 05D0     		beq	.L112
 813:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****     {
 1729              		.loc 1 813 51 discriminator 1 view .LVU600
 1730 0138 BBF1010F 		cmp	fp, #1
 1731 013c 02D9     		bls	.L112
 815:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****       {
 1732              		.loc 1 815 7 is_stmt 1 view .LVU601
 815:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****       {
 1733              		.loc 1 815 21 is_stmt 0 view .LVU602
 1734 013e 6B6C     		ldr	r3, [r5, #68]
 815:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****       {
 1735              		.loc 1 815 9 view .LVU603
 1736 0140 032B     		cmp	r3, #3
 1737 0142 38D1     		bne	.L124
 1738              	.L112:
 832:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****     {
 1739              		.loc 1 832 5 is_stmt 1 view .LVU604
 832:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****     {
 1740              		.loc 1 832 8 is_stmt 0 view .LVU605
 1741 0144 2B68     		ldr	r3, [r5]
 1742 0146 5A6B     		ldr	r2, [r3, #52]
 832:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****     {
 1743              		.loc 1 832 7 view .LVU606
 1744 0148 12F0080F 		tst	r2, #8
 1745 014c 44D1     		bne	.L125
 841:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****     {
 1746              		.loc 1 841 10 is_stmt 1 view .LVU607
 841:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****     {
 1747              		.loc 1 841 13 is_stmt 0 view .LVU608
 1748 014e 5A6B     		ldr	r2, [r3, #52]
 841:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****     {
 1749              		.loc 1 841 12 view .LVU609
 1750 0150 12F0020F 		tst	r2, #2
 1751 0154 4CD1     		bne	.L126
 850:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****     {
 1752              		.loc 1 850 10 is_stmt 1 view .LVU610
 850:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****     {
 1753              		.loc 1 850 13 is_stmt 0 view .LVU611
 1754 0156 5A6B     		ldr	r2, [r3, #52]
 850:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****     {
 1755              		.loc 1 850 12 view .LVU612
 1756 0158 12F0200F 		tst	r2, #32
 1757 015c 54D1     		bne	.L127
 1758              	.L115:
 866:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****     {
 1759              		.loc 1 866 56 is_stmt 1 view .LVU613
ARM GAS  /tmp/ccECQX6D.s 			page 113


 866:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****     {
 1760              		.loc 1 866 13 is_stmt 0 view .LVU614
 1761 015e 2868     		ldr	r0, [r5]
 1762 0160 436B     		ldr	r3, [r0, #52]
 866:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****     {
 1763              		.loc 1 866 56 view .LVU615
 1764 0162 13F4001F 		tst	r3, #2097152
 1765 0166 5BD0     		beq	.L117
 866:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****     {
 1766              		.loc 1 866 56 discriminator 1 view .LVU616
 1767 0168 B8F1000F 		cmp	r8, #0
 1768 016c 58D0     		beq	.L117
 868:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****       *tempbuff = (uint8_t)(data & 0xFFU);
 1769              		.loc 1 868 7 is_stmt 1 view .LVU617
 868:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****       *tempbuff = (uint8_t)(data & 0xFFU);
 1770              		.loc 1 868 14 is_stmt 0 view .LVU618
 1771 016e FFF7FEFF 		bl	SDMMC_ReadFIFO
 1772              	.LVL170:
 869:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****       tempbuff++;
 1773              		.loc 1 869 7 is_stmt 1 view .LVU619
 869:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****       tempbuff++;
 1774              		.loc 1 869 17 is_stmt 0 view .LVU620
 1775 0172 2070     		strb	r0, [r4]
 870:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****       dataremaining--;
 1776              		.loc 1 870 7 is_stmt 1 view .LVU621
 1777              	.LVL171:
 871:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****       *tempbuff = (uint8_t)((data >> 8U) & 0xFFU);
 1778              		.loc 1 871 7 view .LVU622
 872:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****       tempbuff++;
 1779              		.loc 1 872 7 view .LVU623
 872:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****       tempbuff++;
 1780              		.loc 1 872 19 is_stmt 0 view .LVU624
 1781 0174 C0F30723 		ubfx	r3, r0, #8, #8
 872:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****       tempbuff++;
 1782              		.loc 1 872 17 view .LVU625
 1783 0178 6370     		strb	r3, [r4, #1]
 873:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****       dataremaining--;
 1784              		.loc 1 873 7 is_stmt 1 view .LVU626
 1785              	.LVL172:
 874:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****       *tempbuff = (uint8_t)((data >> 16U) & 0xFFU);
 1786              		.loc 1 874 7 view .LVU627
 875:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****       tempbuff++;
 1787              		.loc 1 875 7 view .LVU628
 875:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****       tempbuff++;
 1788              		.loc 1 875 19 is_stmt 0 view .LVU629
 1789 017a C0F30743 		ubfx	r3, r0, #16, #8
 875:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****       tempbuff++;
 1790              		.loc 1 875 17 view .LVU630
 1791 017e A370     		strb	r3, [r4, #2]
 876:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****       dataremaining--;
 1792              		.loc 1 876 7 is_stmt 1 view .LVU631
 1793              	.LVL173:
 877:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****       *tempbuff = (uint8_t)((data >> 24U) & 0xFFU);
 1794              		.loc 1 877 7 view .LVU632
 878:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****       tempbuff++;
 1795              		.loc 1 878 7 view .LVU633
 878:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****       tempbuff++;
ARM GAS  /tmp/ccECQX6D.s 			page 114


 1796              		.loc 1 878 19 is_stmt 0 view .LVU634
 1797 0180 000E     		lsrs	r0, r0, #24
 1798              	.LVL174:
 878:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****       tempbuff++;
 1799              		.loc 1 878 17 view .LVU635
 1800 0182 E070     		strb	r0, [r4, #3]
 879:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****       dataremaining--;
 1801              		.loc 1 879 7 is_stmt 1 view .LVU636
 879:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****       dataremaining--;
 1802              		.loc 1 879 15 is_stmt 0 view .LVU637
 1803 0184 0434     		adds	r4, r4, #4
 1804              	.LVL175:
 880:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c **** 
 1805              		.loc 1 880 7 is_stmt 1 view .LVU638
 880:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c **** 
 1806              		.loc 1 880 20 is_stmt 0 view .LVU639
 1807 0186 A8F10408 		sub	r8, r8, #4
 1808              	.LVL176:
 882:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****       {
 1809              		.loc 1 882 7 is_stmt 1 view .LVU640
 882:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****       {
 1810              		.loc 1 882 12 is_stmt 0 view .LVU641
 1811 018a FFF7FEFF 		bl	HAL_GetTick
 1812              	.LVL177:
 882:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****       {
 1813              		.loc 1 882 25 view .LVU642
 1814 018e A0EB0900 		sub	r0, r0, r9
 882:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****       {
 1815              		.loc 1 882 9 view .LVU643
 1816 0192 5045     		cmp	r0, r10
 1817 0194 02D2     		bcs	.L116
 882:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****       {
 1818              		.loc 1 882 50 discriminator 1 view .LVU644
 1819 0196 BAF1000F 		cmp	r10, #0
 1820 019a E0D1     		bne	.L115
 1821              	.L116:
 885:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****         hsd->ErrorCode |= HAL_SD_ERROR_TIMEOUT;
 1822              		.loc 1 885 9 is_stmt 1 view .LVU645
 1823 019c 2B68     		ldr	r3, [r5]
 1824 019e 294A     		ldr	r2, .L128
 1825 01a0 9A63     		str	r2, [r3, #56]
 886:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****         hsd->State= HAL_SD_STATE_READY;
 1826              		.loc 1 886 9 view .LVU646
 886:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****         hsd->State= HAL_SD_STATE_READY;
 1827              		.loc 1 886 24 is_stmt 0 view .LVU647
 1828 01a2 AB6B     		ldr	r3, [r5, #56]
 1829 01a4 43F00043 		orr	r3, r3, #-2147483648
 1830 01a8 AB63     		str	r3, [r5, #56]
 887:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****         hsd->Context = SD_CONTEXT_NONE;
 1831              		.loc 1 887 9 is_stmt 1 view .LVU648
 887:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****         hsd->Context = SD_CONTEXT_NONE;
 1832              		.loc 1 887 19 is_stmt 0 view .LVU649
 1833 01aa 0123     		movs	r3, #1
 1834 01ac 85F83430 		strb	r3, [r5, #52]
 888:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****         return HAL_ERROR;
 1835              		.loc 1 888 9 is_stmt 1 view .LVU650
 888:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****         return HAL_ERROR;
ARM GAS  /tmp/ccECQX6D.s 			page 115


 1836              		.loc 1 888 22 is_stmt 0 view .LVU651
 1837 01b0 0023     		movs	r3, #0
 1838 01b2 2B63     		str	r3, [r5, #48]
 889:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****       }
 1839              		.loc 1 889 9 is_stmt 1 view .LVU652
 889:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****       }
 1840              		.loc 1 889 16 is_stmt 0 view .LVU653
 1841 01b4 41E0     		b	.L99
 1842              	.L124:
 818:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****         if(errorstate != HAL_SD_ERROR_NONE)
 1843              		.loc 1 818 9 is_stmt 1 view .LVU654
 818:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****         if(errorstate != HAL_SD_ERROR_NONE)
 1844              		.loc 1 818 22 is_stmt 0 view .LVU655
 1845 01b6 FFF7FEFF 		bl	SDMMC_CmdStopTransfer
 1846              	.LVL178:
 819:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****         {
 1847              		.loc 1 819 9 is_stmt 1 view .LVU656
 819:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****         {
 1848              		.loc 1 819 11 is_stmt 0 view .LVU657
 1849 01ba 0346     		mov	r3, r0
 1850 01bc 0028     		cmp	r0, #0
 1851 01be C1D0     		beq	.L112
 822:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****           hsd->ErrorCode |= errorstate;
 1852              		.loc 1 822 11 is_stmt 1 view .LVU658
 1853 01c0 2A68     		ldr	r2, [r5]
 1854 01c2 2049     		ldr	r1, .L128
 1855 01c4 9163     		str	r1, [r2, #56]
 823:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****           hsd->State = HAL_SD_STATE_READY;
 1856              		.loc 1 823 11 view .LVU659
 823:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****           hsd->State = HAL_SD_STATE_READY;
 1857              		.loc 1 823 26 is_stmt 0 view .LVU660
 1858 01c6 AA6B     		ldr	r2, [r5, #56]
 1859 01c8 1343     		orrs	r3, r3, r2
 1860 01ca AB63     		str	r3, [r5, #56]
 824:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****           hsd->Context = SD_CONTEXT_NONE;
 1861              		.loc 1 824 11 is_stmt 1 view .LVU661
 824:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****           hsd->Context = SD_CONTEXT_NONE;
 1862              		.loc 1 824 22 is_stmt 0 view .LVU662
 1863 01cc 0123     		movs	r3, #1
 1864 01ce 85F83430 		strb	r3, [r5, #52]
 825:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****           return HAL_ERROR;
 1865              		.loc 1 825 11 is_stmt 1 view .LVU663
 825:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****           return HAL_ERROR;
 1866              		.loc 1 825 24 is_stmt 0 view .LVU664
 1867 01d2 0023     		movs	r3, #0
 1868 01d4 2B63     		str	r3, [r5, #48]
 826:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****         }
 1869              		.loc 1 826 11 is_stmt 1 view .LVU665
 826:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****         }
 1870              		.loc 1 826 18 is_stmt 0 view .LVU666
 1871 01d6 30E0     		b	.L99
 1872              	.LVL179:
 1873              	.L125:
 835:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****       hsd->ErrorCode |= HAL_SD_ERROR_DATA_TIMEOUT;
 1874              		.loc 1 835 7 is_stmt 1 view .LVU667
 1875 01d8 1A4A     		ldr	r2, .L128
 1876 01da 9A63     		str	r2, [r3, #56]
ARM GAS  /tmp/ccECQX6D.s 			page 116


 836:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****       hsd->State = HAL_SD_STATE_READY;
 1877              		.loc 1 836 7 view .LVU668
 836:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****       hsd->State = HAL_SD_STATE_READY;
 1878              		.loc 1 836 22 is_stmt 0 view .LVU669
 1879 01dc AB6B     		ldr	r3, [r5, #56]
 1880 01de 43F00803 		orr	r3, r3, #8
 1881 01e2 AB63     		str	r3, [r5, #56]
 837:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****       hsd->Context = SD_CONTEXT_NONE;
 1882              		.loc 1 837 7 is_stmt 1 view .LVU670
 837:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****       hsd->Context = SD_CONTEXT_NONE;
 1883              		.loc 1 837 18 is_stmt 0 view .LVU671
 1884 01e4 0123     		movs	r3, #1
 1885 01e6 85F83430 		strb	r3, [r5, #52]
 838:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****       return HAL_ERROR;
 1886              		.loc 1 838 7 is_stmt 1 view .LVU672
 838:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****       return HAL_ERROR;
 1887              		.loc 1 838 20 is_stmt 0 view .LVU673
 1888 01ea 0023     		movs	r3, #0
 1889 01ec 2B63     		str	r3, [r5, #48]
 839:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****     }
 1890              		.loc 1 839 7 is_stmt 1 view .LVU674
 839:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****     }
 1891              		.loc 1 839 14 is_stmt 0 view .LVU675
 1892 01ee 24E0     		b	.L99
 1893              	.L126:
 844:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****       hsd->ErrorCode |= HAL_SD_ERROR_DATA_CRC_FAIL;
 1894              		.loc 1 844 7 is_stmt 1 view .LVU676
 1895 01f0 144A     		ldr	r2, .L128
 1896 01f2 9A63     		str	r2, [r3, #56]
 845:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****       hsd->State = HAL_SD_STATE_READY;
 1897              		.loc 1 845 7 view .LVU677
 845:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****       hsd->State = HAL_SD_STATE_READY;
 1898              		.loc 1 845 22 is_stmt 0 view .LVU678
 1899 01f4 AB6B     		ldr	r3, [r5, #56]
 1900 01f6 43F00203 		orr	r3, r3, #2
 1901 01fa AB63     		str	r3, [r5, #56]
 846:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****       hsd->Context = SD_CONTEXT_NONE;
 1902              		.loc 1 846 7 is_stmt 1 view .LVU679
 846:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****       hsd->Context = SD_CONTEXT_NONE;
 1903              		.loc 1 846 18 is_stmt 0 view .LVU680
 1904 01fc 0123     		movs	r3, #1
 1905 01fe 85F83430 		strb	r3, [r5, #52]
 847:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****       return HAL_ERROR;
 1906              		.loc 1 847 7 is_stmt 1 view .LVU681
 847:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****       return HAL_ERROR;
 1907              		.loc 1 847 20 is_stmt 0 view .LVU682
 1908 0202 0023     		movs	r3, #0
 1909 0204 2B63     		str	r3, [r5, #48]
 848:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****     }
 1910              		.loc 1 848 7 is_stmt 1 view .LVU683
 848:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****     }
 1911              		.loc 1 848 14 is_stmt 0 view .LVU684
 1912 0206 18E0     		b	.L99
 1913              	.L127:
 853:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****       hsd->ErrorCode |= HAL_SD_ERROR_RX_OVERRUN;
 1914              		.loc 1 853 7 is_stmt 1 view .LVU685
 1915 0208 0E4A     		ldr	r2, .L128
ARM GAS  /tmp/ccECQX6D.s 			page 117


 1916 020a 9A63     		str	r2, [r3, #56]
 854:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****       hsd->State = HAL_SD_STATE_READY;
 1917              		.loc 1 854 7 view .LVU686
 854:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****       hsd->State = HAL_SD_STATE_READY;
 1918              		.loc 1 854 22 is_stmt 0 view .LVU687
 1919 020c AB6B     		ldr	r3, [r5, #56]
 1920 020e 43F02003 		orr	r3, r3, #32
 1921 0212 AB63     		str	r3, [r5, #56]
 855:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****       hsd->Context = SD_CONTEXT_NONE;
 1922              		.loc 1 855 7 is_stmt 1 view .LVU688
 855:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****       hsd->Context = SD_CONTEXT_NONE;
 1923              		.loc 1 855 18 is_stmt 0 view .LVU689
 1924 0214 0123     		movs	r3, #1
 1925 0216 85F83430 		strb	r3, [r5, #52]
 856:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****       return HAL_ERROR;
 1926              		.loc 1 856 7 is_stmt 1 view .LVU690
 856:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****       return HAL_ERROR;
 1927              		.loc 1 856 20 is_stmt 0 view .LVU691
 1928 021a 0023     		movs	r3, #0
 1929 021c 2B63     		str	r3, [r5, #48]
 857:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****     }
 1930              		.loc 1 857 7 is_stmt 1 view .LVU692
 857:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****     }
 1931              		.loc 1 857 14 is_stmt 0 view .LVU693
 1932 021e 0CE0     		b	.L99
 1933              	.L117:
 895:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c **** 
 1934              		.loc 1 895 5 is_stmt 1 view .LVU694
 1935 0220 40F23A53 		movw	r3, #1338
 1936 0224 8363     		str	r3, [r0, #56]
 897:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c **** 
 1937              		.loc 1 897 5 view .LVU695
 897:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c **** 
 1938              		.loc 1 897 16 is_stmt 0 view .LVU696
 1939 0226 0123     		movs	r3, #1
 1940 0228 85F83430 		strb	r3, [r5, #52]
 899:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****   }
 1941              		.loc 1 899 5 is_stmt 1 view .LVU697
 899:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****   }
 1942              		.loc 1 899 12 is_stmt 0 view .LVU698
 1943 022c 0027     		movs	r7, #0
 1944 022e 04E0     		b	.L99
 1945              	.LVL180:
 1946              	.L100:
 903:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****     return HAL_ERROR;
 1947              		.loc 1 903 5 is_stmt 1 view .LVU699
 903:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****     return HAL_ERROR;
 1948              		.loc 1 903 20 is_stmt 0 view .LVU700
 1949 0230 AB6B     		ldr	r3, [r5, #56]
 1950 0232 43F00053 		orr	r3, r3, #536870912
 1951 0236 AB63     		str	r3, [r5, #56]
 904:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****   }
 1952              		.loc 1 904 5 is_stmt 1 view .LVU701
 904:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****   }
 1953              		.loc 1 904 12 is_stmt 0 view .LVU702
 1954 0238 0127     		movs	r7, #1
 1955              	.LVL181:
ARM GAS  /tmp/ccECQX6D.s 			page 118


 1956              	.L99:
 906:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c **** 
 1957              		.loc 1 906 1 view .LVU703
 1958 023a 3846     		mov	r0, r7
 1959 023c 07B0     		add	sp, sp, #28
 1960              		.cfi_def_cfa_offset 36
 1961              		@ sp needed
 1962 023e BDE8F08F 		pop	{r4, r5, r6, r7, r8, r9, r10, fp, pc}
 1963              	.LVL182:
 1964              	.L129:
 906:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c **** 
 1965              		.loc 1 906 1 view .LVU704
 1966 0242 00BF     		.align	2
 1967              	.L128:
 1968 0244 FF054000 		.word	4195839
 1969              		.cfi_endproc
 1970              	.LFE293:
 1972              		.section	.text.HAL_SD_WriteBlocks,"ax",%progbits
 1973              		.align	1
 1974              		.global	HAL_SD_WriteBlocks
 1975              		.syntax unified
 1976              		.thumb
 1977              		.thumb_func
 1979              	HAL_SD_WriteBlocks:
 1980              	.LVL183:
 1981              	.LFB294:
 921:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****   SDMMC_DataInitTypeDef config;
 1982              		.loc 1 921 1 is_stmt 1 view -0
 1983              		.cfi_startproc
 1984              		@ args = 4, pretend = 0, frame = 40
 1985              		@ frame_needed = 0, uses_anonymous_args = 0
 921:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****   SDMMC_DataInitTypeDef config;
 1986              		.loc 1 921 1 is_stmt 0 view .LVU706
 1987 0000 2DE9F04F 		push	{r4, r5, r6, r7, r8, r9, r10, fp, lr}
 1988              		.cfi_def_cfa_offset 36
 1989              		.cfi_offset 4, -36
 1990              		.cfi_offset 5, -32
 1991              		.cfi_offset 6, -28
 1992              		.cfi_offset 7, -24
 1993              		.cfi_offset 8, -20
 1994              		.cfi_offset 9, -16
 1995              		.cfi_offset 10, -12
 1996              		.cfi_offset 11, -8
 1997              		.cfi_offset 14, -4
 1998 0004 8BB0     		sub	sp, sp, #44
 1999              		.cfi_def_cfa_offset 80
 2000 0006 0546     		mov	r5, r0
 2001 0008 0C46     		mov	r4, r1
 2002 000a 1646     		mov	r6, r2
 2003 000c 9B46     		mov	fp, r3
 2004 000e DDF850A0 		ldr	r10, [sp, #80]
 922:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****   uint32_t errorstate;
 2005              		.loc 1 922 3 is_stmt 1 view .LVU707
 923:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****   uint32_t tickstart = HAL_GetTick();
 2006              		.loc 1 923 3 view .LVU708
 924:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****   uint32_t count, data, dataremaining;
 2007              		.loc 1 924 3 view .LVU709
ARM GAS  /tmp/ccECQX6D.s 			page 119


 924:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****   uint32_t count, data, dataremaining;
 2008              		.loc 1 924 24 is_stmt 0 view .LVU710
 2009 0012 FFF7FEFF 		bl	HAL_GetTick
 2010              	.LVL184:
 925:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****   uint32_t add = BlockAdd;
 2011              		.loc 1 925 3 is_stmt 1 view .LVU711
 926:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****   uint8_t *tempbuff = pData;
 2012              		.loc 1 926 3 view .LVU712
 927:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c **** 
 2013              		.loc 1 927 3 view .LVU713
 929:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****   {
 2014              		.loc 1 929 3 view .LVU714
 929:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****   {
 2015              		.loc 1 929 5 is_stmt 0 view .LVU715
 2016 0016 002C     		cmp	r4, #0
 2017 0018 37D0     		beq	.L150
 2018 001a 8046     		mov	r8, r0
 935:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****   {
 2019              		.loc 1 935 3 is_stmt 1 view .LVU716
 935:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****   {
 2020              		.loc 1 935 9 is_stmt 0 view .LVU717
 2021 001c 95F83470 		ldrb	r7, [r5, #52]	@ zero_extendqisi2
 2022 0020 FFB2     		uxtb	r7, r7
 935:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****   {
 2023              		.loc 1 935 5 view .LVU718
 2024 0022 012F     		cmp	r7, #1
 2025 0024 40F0E180 		bne	.L133
 937:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c **** 
 2026              		.loc 1 937 5 is_stmt 1 view .LVU719
 937:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c **** 
 2027              		.loc 1 937 20 is_stmt 0 view .LVU720
 2028 0028 0023     		movs	r3, #0
 2029 002a AB63     		str	r3, [r5, #56]
 939:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****     {
 2030              		.loc 1 939 5 is_stmt 1 view .LVU721
 939:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****     {
 2031              		.loc 1 939 13 is_stmt 0 view .LVU722
 2032 002c 06EB0B03 		add	r3, r6, fp
 939:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****     {
 2033              		.loc 1 939 45 view .LVU723
 2034 0030 EA6D     		ldr	r2, [r5, #92]
 939:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****     {
 2035              		.loc 1 939 7 view .LVU724
 2036 0032 9342     		cmp	r3, r2
 2037 0034 2FD8     		bhi	.L151
 945:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c **** 
 2038              		.loc 1 945 5 is_stmt 1 view .LVU725
 945:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c **** 
 2039              		.loc 1 945 16 is_stmt 0 view .LVU726
 2040 0036 0323     		movs	r3, #3
 2041 0038 85F83430 		strb	r3, [r5, #52]
 948:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c **** 
 2042              		.loc 1 948 5 is_stmt 1 view .LVU727
 948:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c **** 
 2043              		.loc 1 948 8 is_stmt 0 view .LVU728
 2044 003c 2B68     		ldr	r3, [r5]
 948:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c **** 
ARM GAS  /tmp/ccECQX6D.s 			page 120


 2045              		.loc 1 948 26 view .LVU729
 2046 003e 0022     		movs	r2, #0
 2047 0040 DA62     		str	r2, [r3, #44]
 950:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****     {
 2048              		.loc 1 950 5 is_stmt 1 view .LVU730
 950:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****     {
 2049              		.loc 1 950 19 is_stmt 0 view .LVU731
 2050 0042 6B6C     		ldr	r3, [r5, #68]
 950:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****     {
 2051              		.loc 1 950 7 view .LVU732
 2052 0044 012B     		cmp	r3, #1
 2053 0046 00D0     		beq	.L135
 952:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****     }
 2054              		.loc 1 952 7 is_stmt 1 view .LVU733
 952:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****     }
 2055              		.loc 1 952 11 is_stmt 0 view .LVU734
 2056 0048 7602     		lsls	r6, r6, #9
 2057              	.LVL185:
 2058              	.L135:
 956:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****     config.DataLength    = NumberOfBlocks * BLOCKSIZE;
 2059              		.loc 1 956 5 is_stmt 1 view .LVU735
 956:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****     config.DataLength    = NumberOfBlocks * BLOCKSIZE;
 2060              		.loc 1 956 26 is_stmt 0 view .LVU736
 2061 004a 4FF0FF33 		mov	r3, #-1
 2062 004e 0493     		str	r3, [sp, #16]
 957:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****     config.DataBlockSize = SDMMC_DATABLOCK_SIZE_512B;
 2063              		.loc 1 957 5 is_stmt 1 view .LVU737
 957:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****     config.DataBlockSize = SDMMC_DATABLOCK_SIZE_512B;
 2064              		.loc 1 957 43 is_stmt 0 view .LVU738
 2065 0050 4FEA4B23 		lsl	r3, fp, #9
 957:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****     config.DataBlockSize = SDMMC_DATABLOCK_SIZE_512B;
 2066              		.loc 1 957 26 view .LVU739
 2067 0054 0593     		str	r3, [sp, #20]
 958:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****     config.TransferDir   = SDMMC_TRANSFER_DIR_TO_CARD;
 2068              		.loc 1 958 5 is_stmt 1 view .LVU740
 958:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****     config.TransferDir   = SDMMC_TRANSFER_DIR_TO_CARD;
 2069              		.loc 1 958 26 is_stmt 0 view .LVU741
 2070 0056 9023     		movs	r3, #144
 2071 0058 0693     		str	r3, [sp, #24]
 959:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****     config.TransferMode  = SDMMC_TRANSFER_MODE_BLOCK;
 2072              		.loc 1 959 5 is_stmt 1 view .LVU742
 959:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****     config.TransferMode  = SDMMC_TRANSFER_MODE_BLOCK;
 2073              		.loc 1 959 26 is_stmt 0 view .LVU743
 2074 005a 0023     		movs	r3, #0
 2075 005c 0793     		str	r3, [sp, #28]
 960:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c **** #if defined(STM32L4P5xx) || defined(STM32L4Q5xx) || defined(STM32L4R5xx) || defined(STM32L4R7xx) ||
 2076              		.loc 1 960 5 is_stmt 1 view .LVU744
 960:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c **** #if defined(STM32L4P5xx) || defined(STM32L4Q5xx) || defined(STM32L4R5xx) || defined(STM32L4R7xx) ||
 2077              		.loc 1 960 26 is_stmt 0 view .LVU745
 2078 005e 0893     		str	r3, [sp, #32]
 964:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c **** #endif /* STM32L4P5xx || STM32L4Q5xx || STM32L4R5xx || STM32L4R7xx || STM32L4R9xx || STM32L4S5xx ||
 2079              		.loc 1 964 5 is_stmt 1 view .LVU746
 964:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c **** #endif /* STM32L4P5xx || STM32L4Q5xx || STM32L4R5xx || STM32L4R7xx || STM32L4R9xx || STM32L4S5xx ||
 2080              		.loc 1 964 26 is_stmt 0 view .LVU747
 2081 0060 0123     		movs	r3, #1
 2082 0062 0993     		str	r3, [sp, #36]
 966:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c **** #if defined(STM32L4P5xx) || defined(STM32L4Q5xx) || defined(STM32L4R5xx) || defined(STM32L4R7xx) ||
ARM GAS  /tmp/ccECQX6D.s 			page 121


 2083              		.loc 1 966 5 is_stmt 1 view .LVU748
 966:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c **** #if defined(STM32L4P5xx) || defined(STM32L4Q5xx) || defined(STM32L4R5xx) || defined(STM32L4R7xx) ||
 2084              		.loc 1 966 11 is_stmt 0 view .LVU749
 2085 0064 04A9     		add	r1, sp, #16
 2086 0066 2868     		ldr	r0, [r5]
 2087              	.LVL186:
 966:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c **** #if defined(STM32L4P5xx) || defined(STM32L4Q5xx) || defined(STM32L4R5xx) || defined(STM32L4R7xx) ||
 2088              		.loc 1 966 11 view .LVU750
 2089 0068 FFF7FEFF 		bl	SDMMC_ConfigData
 2090              	.LVL187:
 972:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****     {
 2091              		.loc 1 972 5 is_stmt 1 view .LVU751
 972:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****     {
 2092              		.loc 1 972 7 is_stmt 0 view .LVU752
 2093 006c BBF1010F 		cmp	fp, #1
 2094 0070 16D9     		bls	.L136
 974:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c **** 
 2095              		.loc 1 974 7 is_stmt 1 view .LVU753
 974:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c **** 
 2096              		.loc 1 974 20 is_stmt 0 view .LVU754
 2097 0072 2023     		movs	r3, #32
 2098 0074 2B63     		str	r3, [r5, #48]
 977:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****     }
 2099              		.loc 1 977 7 is_stmt 1 view .LVU755
 977:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****     }
 2100              		.loc 1 977 20 is_stmt 0 view .LVU756
 2101 0076 3146     		mov	r1, r6
 2102 0078 2868     		ldr	r0, [r5]
 2103 007a FFF7FEFF 		bl	SDMMC_CmdWriteMultiBlock
 2104              	.LVL188:
 2105 007e 0190     		str	r0, [sp, #4]
 2106              	.LVL189:
 2107              	.L137:
 986:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****     {
 2108              		.loc 1 986 5 is_stmt 1 view .LVU757
 986:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****     {
 2109              		.loc 1 986 7 is_stmt 0 view .LVU758
 2110 0080 019B     		ldr	r3, [sp, #4]
 2111 0082 ABB9     		cbnz	r3, .L152
 997:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****     while(!__HAL_SD_GET_FLAG(hsd, SDMMC_FLAG_TXUNDERR | SDMMC_FLAG_DCRCFAIL | SDMMC_FLAG_DTIMEOUT |
 2112              		.loc 1 997 5 is_stmt 1 view .LVU759
 997:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****     while(!__HAL_SD_GET_FLAG(hsd, SDMMC_FLAG_TXUNDERR | SDMMC_FLAG_DCRCFAIL | SDMMC_FLAG_DTIMEOUT |
 2113              		.loc 1 997 19 is_stmt 0 view .LVU760
 2114 0084 DDF81490 		ldr	r9, [sp, #20]
 2115              	.LVL190:
 998:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****     {
 2116              		.loc 1 998 5 is_stmt 1 view .LVU761
 998:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****     {
 2117              		.loc 1 998 10 is_stmt 0 view .LVU762
 2118 0088 40E0     		b	.L139
 2119              	.LVL191:
 2120              	.L150:
 931:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****     return HAL_ERROR;
 2121              		.loc 1 931 5 is_stmt 1 view .LVU763
 931:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****     return HAL_ERROR;
 2122              		.loc 1 931 20 is_stmt 0 view .LVU764
 2123 008a AB6B     		ldr	r3, [r5, #56]
ARM GAS  /tmp/ccECQX6D.s 			page 122


 2124 008c 43F00063 		orr	r3, r3, #134217728
 2125 0090 AB63     		str	r3, [r5, #56]
 932:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****   }
 2126              		.loc 1 932 5 is_stmt 1 view .LVU765
 932:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****   }
 2127              		.loc 1 932 12 is_stmt 0 view .LVU766
 2128 0092 0127     		movs	r7, #1
 2129 0094 AEE0     		b	.L132
 2130              	.L151:
 941:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****       return HAL_ERROR;
 2131              		.loc 1 941 7 is_stmt 1 view .LVU767
 941:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****       return HAL_ERROR;
 2132              		.loc 1 941 22 is_stmt 0 view .LVU768
 2133 0096 AB6B     		ldr	r3, [r5, #56]
 2134 0098 43F00073 		orr	r3, r3, #33554432
 2135 009c AB63     		str	r3, [r5, #56]
 942:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****     }
 2136              		.loc 1 942 7 is_stmt 1 view .LVU769
 942:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****     }
 2137              		.loc 1 942 14 is_stmt 0 view .LVU770
 2138 009e A9E0     		b	.L132
 2139              	.LVL192:
 2140              	.L136:
 981:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c **** 
 2141              		.loc 1 981 7 is_stmt 1 view .LVU771
 981:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c **** 
 2142              		.loc 1 981 20 is_stmt 0 view .LVU772
 2143 00a0 1023     		movs	r3, #16
 2144 00a2 2B63     		str	r3, [r5, #48]
 984:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****     }
 2145              		.loc 1 984 7 is_stmt 1 view .LVU773
 984:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****     }
 2146              		.loc 1 984 20 is_stmt 0 view .LVU774
 2147 00a4 3146     		mov	r1, r6
 2148 00a6 2868     		ldr	r0, [r5]
 2149 00a8 FFF7FEFF 		bl	SDMMC_CmdWriteSingleBlock
 2150              	.LVL193:
 2151 00ac 0190     		str	r0, [sp, #4]
 2152              	.LVL194:
 984:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****     }
 2153              		.loc 1 984 20 view .LVU775
 2154 00ae E7E7     		b	.L137
 2155              	.LVL195:
 2156              	.L152:
 989:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****       hsd->ErrorCode |= errorstate;
 2157              		.loc 1 989 7 is_stmt 1 view .LVU776
 2158 00b0 2B68     		ldr	r3, [r5]
 2159              	.LVL196:
 989:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****       hsd->ErrorCode |= errorstate;
 2160              		.loc 1 989 7 is_stmt 0 view .LVU777
 2161 00b2 524A     		ldr	r2, .L157
 2162 00b4 9A63     		str	r2, [r3, #56]
 990:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****       hsd->State = HAL_SD_STATE_READY;
 2163              		.loc 1 990 7 is_stmt 1 view .LVU778
 990:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****       hsd->State = HAL_SD_STATE_READY;
 2164              		.loc 1 990 22 is_stmt 0 view .LVU779
 2165 00b6 AB6B     		ldr	r3, [r5, #56]
ARM GAS  /tmp/ccECQX6D.s 			page 123


 2166 00b8 019A     		ldr	r2, [sp, #4]
 2167 00ba 1343     		orrs	r3, r3, r2
 2168 00bc AB63     		str	r3, [r5, #56]
 991:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****       hsd->Context = SD_CONTEXT_NONE;
 2169              		.loc 1 991 7 is_stmt 1 view .LVU780
 991:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****       hsd->Context = SD_CONTEXT_NONE;
 2170              		.loc 1 991 18 is_stmt 0 view .LVU781
 2171 00be 0123     		movs	r3, #1
 2172 00c0 85F83430 		strb	r3, [r5, #52]
 992:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****       return HAL_ERROR;
 2173              		.loc 1 992 7 is_stmt 1 view .LVU782
 992:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****       return HAL_ERROR;
 2174              		.loc 1 992 20 is_stmt 0 view .LVU783
 2175 00c4 0023     		movs	r3, #0
 2176 00c6 2B63     		str	r3, [r5, #48]
 993:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****     }
 2177              		.loc 1 993 7 is_stmt 1 view .LVU784
 993:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****     }
 2178              		.loc 1 993 14 is_stmt 0 view .LVU785
 2179 00c8 94E0     		b	.L132
 2180              	.LVL197:
 2181              	.L142:
1005:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****           tempbuff++;
 2182              		.loc 1 1005 11 is_stmt 1 discriminator 3 view .LVU786
1005:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****           tempbuff++;
 2183              		.loc 1 1005 29 is_stmt 0 discriminator 3 view .LVU787
 2184 00ca 2378     		ldrb	r3, [r4]	@ zero_extendqisi2
1005:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****           tempbuff++;
 2185              		.loc 1 1005 16 discriminator 3 view .LVU788
 2186 00cc 0393     		str	r3, [sp, #12]
1006:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****           dataremaining--;
 2187              		.loc 1 1006 11 is_stmt 1 discriminator 3 view .LVU789
 2188              	.LVL198:
1007:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****           data |= ((uint32_t)(*tempbuff) << 8U);
 2189              		.loc 1 1007 11 discriminator 3 view .LVU790
1008:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****           tempbuff++;
 2190              		.loc 1 1008 11 discriminator 3 view .LVU791
1008:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****           tempbuff++;
 2191              		.loc 1 1008 31 is_stmt 0 discriminator 3 view .LVU792
 2192 00ce 6278     		ldrb	r2, [r4, #1]	@ zero_extendqisi2
1008:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****           tempbuff++;
 2193              		.loc 1 1008 16 discriminator 3 view .LVU793
 2194 00d0 43EA0223 		orr	r3, r3, r2, lsl #8
 2195 00d4 0393     		str	r3, [sp, #12]
1009:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****           dataremaining--;
 2196              		.loc 1 1009 11 is_stmt 1 discriminator 3 view .LVU794
 2197              	.LVL199:
1010:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****           data |= ((uint32_t)(*tempbuff) << 16U);
 2198              		.loc 1 1010 11 discriminator 3 view .LVU795
1011:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****           tempbuff++;
 2199              		.loc 1 1011 11 discriminator 3 view .LVU796
1011:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****           tempbuff++;
 2200              		.loc 1 1011 31 is_stmt 0 discriminator 3 view .LVU797
 2201 00d6 A278     		ldrb	r2, [r4, #2]	@ zero_extendqisi2
1011:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****           tempbuff++;
 2202              		.loc 1 1011 16 discriminator 3 view .LVU798
 2203 00d8 43EA0243 		orr	r3, r3, r2, lsl #16
ARM GAS  /tmp/ccECQX6D.s 			page 124


 2204 00dc 0393     		str	r3, [sp, #12]
1012:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****           dataremaining--;
 2205              		.loc 1 1012 11 is_stmt 1 discriminator 3 view .LVU799
 2206              	.LVL200:
1013:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****           data |= ((uint32_t)(*tempbuff) << 24U);
 2207              		.loc 1 1013 11 discriminator 3 view .LVU800
1014:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****           tempbuff++;
 2208              		.loc 1 1014 11 discriminator 3 view .LVU801
1014:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****           tempbuff++;
 2209              		.loc 1 1014 31 is_stmt 0 discriminator 3 view .LVU802
 2210 00de E278     		ldrb	r2, [r4, #3]	@ zero_extendqisi2
1014:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****           tempbuff++;
 2211              		.loc 1 1014 16 discriminator 3 view .LVU803
 2212 00e0 43EA0263 		orr	r3, r3, r2, lsl #24
 2213 00e4 0393     		str	r3, [sp, #12]
1015:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****           dataremaining--;
 2214              		.loc 1 1015 11 is_stmt 1 discriminator 3 view .LVU804
1015:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****           dataremaining--;
 2215              		.loc 1 1015 19 is_stmt 0 discriminator 3 view .LVU805
 2216 00e6 0434     		adds	r4, r4, #4
 2217              	.LVL201:
1016:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****           (void)SDMMC_WriteFIFO(hsd->Instance, &data);
 2218              		.loc 1 1016 11 is_stmt 1 discriminator 3 view .LVU806
1016:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****           (void)SDMMC_WriteFIFO(hsd->Instance, &data);
 2219              		.loc 1 1016 24 is_stmt 0 discriminator 3 view .LVU807
 2220 00e8 A9F10409 		sub	r9, r9, #4
 2221              	.LVL202:
1017:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****         }
 2222              		.loc 1 1017 11 is_stmt 1 discriminator 3 view .LVU808
1017:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****         }
 2223              		.loc 1 1017 17 is_stmt 0 discriminator 3 view .LVU809
 2224 00ec 03A9     		add	r1, sp, #12
 2225 00ee 2868     		ldr	r0, [r5]
 2226 00f0 FFF7FEFF 		bl	SDMMC_WriteFIFO
 2227              	.LVL203:
1003:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****         {
 2228              		.loc 1 1003 42 is_stmt 1 discriminator 3 view .LVU810
 2229 00f4 0136     		adds	r6, r6, #1
 2230              	.LVL204:
 2231              	.L141:
1003:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****         {
 2232              		.loc 1 1003 31 discriminator 1 view .LVU811
 2233 00f6 072E     		cmp	r6, #7
 2234 00f8 E7D9     		bls	.L142
 2235              	.LVL205:
 2236              	.L140:
1021:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****       {
 2237              		.loc 1 1021 7 view .LVU812
1021:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****       {
 2238              		.loc 1 1021 12 is_stmt 0 view .LVU813
 2239 00fa FFF7FEFF 		bl	HAL_GetTick
 2240              	.LVL206:
1021:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****       {
 2241              		.loc 1 1021 25 view .LVU814
 2242 00fe A0EB0800 		sub	r0, r0, r8
1021:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****       {
 2243              		.loc 1 1021 9 view .LVU815
ARM GAS  /tmp/ccECQX6D.s 			page 125


 2244 0102 5045     		cmp	r0, r10
 2245 0104 0FD2     		bcs	.L143
1021:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****       {
 2246              		.loc 1 1021 50 discriminator 1 view .LVU816
 2247 0106 BAF1000F 		cmp	r10, #0
 2248 010a 0CD0     		beq	.L143
 2249              	.L139:
 998:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****     {
 2250              		.loc 1 998 11 is_stmt 1 view .LVU817
 998:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****     {
 2251              		.loc 1 998 12 is_stmt 0 view .LVU818
 2252 010c 2868     		ldr	r0, [r5]
 2253 010e 466B     		ldr	r6, [r0, #52]
 998:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****     {
 2254              		.loc 1 998 11 view .LVU819
 2255 0110 16F48D76 		ands	r6, r6, #282
 2256 0114 15D1     		bne	.L153
1000:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****       {
 2257              		.loc 1 1000 7 is_stmt 1 view .LVU820
1000:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****       {
 2258              		.loc 1 1000 10 is_stmt 0 view .LVU821
 2259 0116 436B     		ldr	r3, [r0, #52]
1000:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****       {
 2260              		.loc 1 1000 9 view .LVU822
 2261 0118 13F4804F 		tst	r3, #16384
 2262 011c EDD0     		beq	.L140
1000:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****       {
 2263              		.loc 1 1000 54 discriminator 1 view .LVU823
 2264 011e B9F1000F 		cmp	r9, #0
 2265 0122 EAD0     		beq	.L140
 2266 0124 E7E7     		b	.L141
 2267              	.L143:
1024:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****         hsd->ErrorCode |= errorstate;
 2268              		.loc 1 1024 9 is_stmt 1 view .LVU824
 2269 0126 2B68     		ldr	r3, [r5]
 2270 0128 344A     		ldr	r2, .L157
 2271 012a 9A63     		str	r2, [r3, #56]
1025:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****         hsd->State = HAL_SD_STATE_READY;
 2272              		.loc 1 1025 9 view .LVU825
1025:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****         hsd->State = HAL_SD_STATE_READY;
 2273              		.loc 1 1025 24 is_stmt 0 view .LVU826
 2274 012c AB6B     		ldr	r3, [r5, #56]
 2275 012e 019A     		ldr	r2, [sp, #4]
 2276 0130 1343     		orrs	r3, r3, r2
 2277 0132 AB63     		str	r3, [r5, #56]
1026:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****         hsd->Context = SD_CONTEXT_NONE;
 2278              		.loc 1 1026 9 is_stmt 1 view .LVU827
1026:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****         hsd->Context = SD_CONTEXT_NONE;
 2279              		.loc 1 1026 20 is_stmt 0 view .LVU828
 2280 0134 0123     		movs	r3, #1
 2281 0136 85F83430 		strb	r3, [r5, #52]
1027:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****         return HAL_TIMEOUT;
 2282              		.loc 1 1027 9 is_stmt 1 view .LVU829
1027:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****         return HAL_TIMEOUT;
 2283              		.loc 1 1027 22 is_stmt 0 view .LVU830
 2284 013a 0023     		movs	r3, #0
 2285 013c 2B63     		str	r3, [r5, #48]
ARM GAS  /tmp/ccECQX6D.s 			page 126


1028:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****       }
 2286              		.loc 1 1028 9 is_stmt 1 view .LVU831
1028:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****       }
 2287              		.loc 1 1028 16 is_stmt 0 view .LVU832
 2288 013e 0327     		movs	r7, #3
 2289 0140 58E0     		b	.L132
 2290              	.L153:
1036:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****     {
 2291              		.loc 1 1036 5 is_stmt 1 view .LVU833
1036:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****     {
 2292              		.loc 1 1036 8 is_stmt 0 view .LVU834
 2293 0142 436B     		ldr	r3, [r0, #52]
1036:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****     {
 2294              		.loc 1 1036 7 view .LVU835
 2295 0144 13F4807F 		tst	r3, #256
 2296 0148 05D0     		beq	.L145
1036:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****     {
 2297              		.loc 1 1036 51 discriminator 1 view .LVU836
 2298 014a BBF1010F 		cmp	fp, #1
 2299 014e 02D9     		bls	.L145
1038:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****       {
 2300              		.loc 1 1038 7 is_stmt 1 view .LVU837
1038:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****       {
 2301              		.loc 1 1038 21 is_stmt 0 view .LVU838
 2302 0150 6B6C     		ldr	r3, [r5, #68]
1038:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****       {
 2303              		.loc 1 1038 9 view .LVU839
 2304 0152 032B     		cmp	r3, #3
 2305 0154 18D1     		bne	.L154
 2306              	.LVL207:
 2307              	.L145:
1055:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****     {
 2308              		.loc 1 1055 5 is_stmt 1 view .LVU840
1055:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****     {
 2309              		.loc 1 1055 8 is_stmt 0 view .LVU841
 2310 0156 2B68     		ldr	r3, [r5]
 2311 0158 5A6B     		ldr	r2, [r3, #52]
1055:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****     {
 2312              		.loc 1 1055 7 view .LVU842
 2313 015a 12F0080F 		tst	r2, #8
 2314 015e 24D1     		bne	.L155
1064:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****     {
 2315              		.loc 1 1064 10 is_stmt 1 view .LVU843
1064:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****     {
 2316              		.loc 1 1064 13 is_stmt 0 view .LVU844
 2317 0160 5A6B     		ldr	r2, [r3, #52]
1064:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****     {
 2318              		.loc 1 1064 12 view .LVU845
 2319 0162 12F0020F 		tst	r2, #2
 2320 0166 2CD1     		bne	.L156
1073:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****     {
 2321              		.loc 1 1073 10 is_stmt 1 view .LVU846
1073:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****     {
 2322              		.loc 1 1073 13 is_stmt 0 view .LVU847
 2323 0168 5A6B     		ldr	r2, [r3, #52]
1073:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****     {
 2324              		.loc 1 1073 12 view .LVU848
ARM GAS  /tmp/ccECQX6D.s 			page 127


 2325 016a 12F0100F 		tst	r2, #16
 2326 016e 34D0     		beq	.L148
1076:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****       hsd->ErrorCode |= HAL_SD_ERROR_TX_UNDERRUN;
 2327              		.loc 1 1076 7 is_stmt 1 view .LVU849
 2328 0170 224A     		ldr	r2, .L157
 2329 0172 9A63     		str	r2, [r3, #56]
1077:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****       hsd->State = HAL_SD_STATE_READY;
 2330              		.loc 1 1077 7 view .LVU850
1077:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****       hsd->State = HAL_SD_STATE_READY;
 2331              		.loc 1 1077 22 is_stmt 0 view .LVU851
 2332 0174 AB6B     		ldr	r3, [r5, #56]
 2333 0176 43F01003 		orr	r3, r3, #16
 2334 017a AB63     		str	r3, [r5, #56]
1078:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****       hsd->Context = SD_CONTEXT_NONE;
 2335              		.loc 1 1078 7 is_stmt 1 view .LVU852
1078:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****       hsd->Context = SD_CONTEXT_NONE;
 2336              		.loc 1 1078 18 is_stmt 0 view .LVU853
 2337 017c 0123     		movs	r3, #1
 2338 017e 85F83430 		strb	r3, [r5, #52]
1079:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****       return HAL_ERROR;
 2339              		.loc 1 1079 7 is_stmt 1 view .LVU854
1079:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****       return HAL_ERROR;
 2340              		.loc 1 1079 20 is_stmt 0 view .LVU855
 2341 0182 0023     		movs	r3, #0
 2342 0184 2B63     		str	r3, [r5, #48]
1080:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****     }
 2343              		.loc 1 1080 7 is_stmt 1 view .LVU856
1080:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****     }
 2344              		.loc 1 1080 14 is_stmt 0 view .LVU857
 2345 0186 35E0     		b	.L132
 2346              	.LVL208:
 2347              	.L154:
1041:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****         if(errorstate != HAL_SD_ERROR_NONE)
 2348              		.loc 1 1041 9 is_stmt 1 view .LVU858
1041:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****         if(errorstate != HAL_SD_ERROR_NONE)
 2349              		.loc 1 1041 22 is_stmt 0 view .LVU859
 2350 0188 FFF7FEFF 		bl	SDMMC_CmdStopTransfer
 2351              	.LVL209:
1042:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****         {
 2352              		.loc 1 1042 9 is_stmt 1 view .LVU860
1042:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****         {
 2353              		.loc 1 1042 11 is_stmt 0 view .LVU861
 2354 018c 0346     		mov	r3, r0
 2355 018e 0028     		cmp	r0, #0
 2356 0190 E1D0     		beq	.L145
1045:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****           hsd->ErrorCode |= errorstate;
 2357              		.loc 1 1045 11 is_stmt 1 view .LVU862
 2358 0192 2A68     		ldr	r2, [r5]
 2359 0194 1949     		ldr	r1, .L157
 2360 0196 9163     		str	r1, [r2, #56]
1046:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****           hsd->State = HAL_SD_STATE_READY;
 2361              		.loc 1 1046 11 view .LVU863
1046:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****           hsd->State = HAL_SD_STATE_READY;
 2362              		.loc 1 1046 26 is_stmt 0 view .LVU864
 2363 0198 AA6B     		ldr	r2, [r5, #56]
 2364 019a 1343     		orrs	r3, r3, r2
 2365 019c AB63     		str	r3, [r5, #56]
ARM GAS  /tmp/ccECQX6D.s 			page 128


1047:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****           hsd->Context = SD_CONTEXT_NONE;
 2366              		.loc 1 1047 11 is_stmt 1 view .LVU865
1047:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****           hsd->Context = SD_CONTEXT_NONE;
 2367              		.loc 1 1047 22 is_stmt 0 view .LVU866
 2368 019e 0123     		movs	r3, #1
 2369 01a0 85F83430 		strb	r3, [r5, #52]
1048:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****           return HAL_ERROR;
 2370              		.loc 1 1048 11 is_stmt 1 view .LVU867
1048:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****           return HAL_ERROR;
 2371              		.loc 1 1048 24 is_stmt 0 view .LVU868
 2372 01a4 0023     		movs	r3, #0
 2373 01a6 2B63     		str	r3, [r5, #48]
1049:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****         }
 2374              		.loc 1 1049 11 is_stmt 1 view .LVU869
1049:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****         }
 2375              		.loc 1 1049 18 is_stmt 0 view .LVU870
 2376 01a8 24E0     		b	.L132
 2377              	.LVL210:
 2378              	.L155:
1058:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****       hsd->ErrorCode |= HAL_SD_ERROR_DATA_TIMEOUT;
 2379              		.loc 1 1058 7 is_stmt 1 view .LVU871
 2380 01aa 144A     		ldr	r2, .L157
 2381 01ac 9A63     		str	r2, [r3, #56]
1059:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****       hsd->State = HAL_SD_STATE_READY;
 2382              		.loc 1 1059 7 view .LVU872
1059:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****       hsd->State = HAL_SD_STATE_READY;
 2383              		.loc 1 1059 22 is_stmt 0 view .LVU873
 2384 01ae AB6B     		ldr	r3, [r5, #56]
 2385 01b0 43F00803 		orr	r3, r3, #8
 2386 01b4 AB63     		str	r3, [r5, #56]
1060:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****       hsd->Context = SD_CONTEXT_NONE;
 2387              		.loc 1 1060 7 is_stmt 1 view .LVU874
1060:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****       hsd->Context = SD_CONTEXT_NONE;
 2388              		.loc 1 1060 18 is_stmt 0 view .LVU875
 2389 01b6 0123     		movs	r3, #1
 2390 01b8 85F83430 		strb	r3, [r5, #52]
1061:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****       return HAL_ERROR;
 2391              		.loc 1 1061 7 is_stmt 1 view .LVU876
1061:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****       return HAL_ERROR;
 2392              		.loc 1 1061 20 is_stmt 0 view .LVU877
 2393 01bc 0023     		movs	r3, #0
 2394 01be 2B63     		str	r3, [r5, #48]
1062:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****     }
 2395              		.loc 1 1062 7 is_stmt 1 view .LVU878
1062:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****     }
 2396              		.loc 1 1062 14 is_stmt 0 view .LVU879
 2397 01c0 18E0     		b	.L132
 2398              	.L156:
1067:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****       hsd->ErrorCode |= HAL_SD_ERROR_DATA_CRC_FAIL;
 2399              		.loc 1 1067 7 is_stmt 1 view .LVU880
 2400 01c2 0E4A     		ldr	r2, .L157
 2401 01c4 9A63     		str	r2, [r3, #56]
1068:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****       hsd->State = HAL_SD_STATE_READY;
 2402              		.loc 1 1068 7 view .LVU881
1068:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****       hsd->State = HAL_SD_STATE_READY;
 2403              		.loc 1 1068 22 is_stmt 0 view .LVU882
 2404 01c6 AB6B     		ldr	r3, [r5, #56]
ARM GAS  /tmp/ccECQX6D.s 			page 129


 2405 01c8 43F00203 		orr	r3, r3, #2
 2406 01cc AB63     		str	r3, [r5, #56]
1069:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****       hsd->Context = SD_CONTEXT_NONE;
 2407              		.loc 1 1069 7 is_stmt 1 view .LVU883
1069:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****       hsd->Context = SD_CONTEXT_NONE;
 2408              		.loc 1 1069 18 is_stmt 0 view .LVU884
 2409 01ce 0123     		movs	r3, #1
 2410 01d0 85F83430 		strb	r3, [r5, #52]
1070:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****       return HAL_ERROR;
 2411              		.loc 1 1070 7 is_stmt 1 view .LVU885
1070:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****       return HAL_ERROR;
 2412              		.loc 1 1070 20 is_stmt 0 view .LVU886
 2413 01d4 0023     		movs	r3, #0
 2414 01d6 2B63     		str	r3, [r5, #48]
1071:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****     }
 2415              		.loc 1 1071 7 is_stmt 1 view .LVU887
1071:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****     }
 2416              		.loc 1 1071 14 is_stmt 0 view .LVU888
 2417 01d8 0CE0     		b	.L132
 2418              	.L148:
1085:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c **** 
 2419              		.loc 1 1085 5 is_stmt 1 view .LVU889
1088:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c **** 
 2420              		.loc 1 1088 5 view .LVU890
 2421 01da 40F23A52 		movw	r2, #1338
 2422 01de 9A63     		str	r2, [r3, #56]
1090:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c **** 
 2423              		.loc 1 1090 5 view .LVU891
1090:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c **** 
 2424              		.loc 1 1090 16 is_stmt 0 view .LVU892
 2425 01e0 0123     		movs	r3, #1
 2426 01e2 85F83430 		strb	r3, [r5, #52]
1092:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****   }
 2427              		.loc 1 1092 5 is_stmt 1 view .LVU893
1092:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****   }
 2428              		.loc 1 1092 12 is_stmt 0 view .LVU894
 2429 01e6 0027     		movs	r7, #0
 2430 01e8 04E0     		b	.L132
 2431              	.LVL211:
 2432              	.L133:
1096:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****     return HAL_ERROR;
 2433              		.loc 1 1096 5 is_stmt 1 view .LVU895
1096:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****     return HAL_ERROR;
 2434              		.loc 1 1096 20 is_stmt 0 view .LVU896
 2435 01ea AB6B     		ldr	r3, [r5, #56]
 2436 01ec 43F00053 		orr	r3, r3, #536870912
 2437 01f0 AB63     		str	r3, [r5, #56]
1097:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****   }
 2438              		.loc 1 1097 5 is_stmt 1 view .LVU897
1097:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****   }
 2439              		.loc 1 1097 12 is_stmt 0 view .LVU898
 2440 01f2 0127     		movs	r7, #1
 2441              	.LVL212:
 2442              	.L132:
1099:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c **** 
 2443              		.loc 1 1099 1 view .LVU899
 2444 01f4 3846     		mov	r0, r7
ARM GAS  /tmp/ccECQX6D.s 			page 130


 2445 01f6 0BB0     		add	sp, sp, #44
 2446              		.cfi_def_cfa_offset 36
 2447              		@ sp needed
 2448 01f8 BDE8F08F 		pop	{r4, r5, r6, r7, r8, r9, r10, fp, pc}
 2449              	.LVL213:
 2450              	.L158:
1099:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c **** 
 2451              		.loc 1 1099 1 view .LVU900
 2452              		.align	2
 2453              	.L157:
 2454 01fc FF054000 		.word	4195839
 2455              		.cfi_endproc
 2456              	.LFE294:
 2458              		.section	.text.HAL_SD_ReadBlocks_IT,"ax",%progbits
 2459              		.align	1
 2460              		.global	HAL_SD_ReadBlocks_IT
 2461              		.syntax unified
 2462              		.thumb
 2463              		.thumb_func
 2465              	HAL_SD_ReadBlocks_IT:
 2466              	.LVL214:
 2467              	.LFB295:
1115:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****   SDMMC_DataInitTypeDef config;
 2468              		.loc 1 1115 1 is_stmt 1 view -0
 2469              		.cfi_startproc
 2470              		@ args = 0, pretend = 0, frame = 24
 2471              		@ frame_needed = 0, uses_anonymous_args = 0
1115:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****   SDMMC_DataInitTypeDef config;
 2472              		.loc 1 1115 1 is_stmt 0 view .LVU902
 2473 0000 F0B5     		push	{r4, r5, r6, r7, lr}
 2474              		.cfi_def_cfa_offset 20
 2475              		.cfi_offset 4, -20
 2476              		.cfi_offset 5, -16
 2477              		.cfi_offset 6, -12
 2478              		.cfi_offset 7, -8
 2479              		.cfi_offset 14, -4
 2480 0002 87B0     		sub	sp, sp, #28
 2481              		.cfi_def_cfa_offset 48
 2482 0004 0446     		mov	r4, r0
1116:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****   uint32_t errorstate;
 2483              		.loc 1 1116 3 is_stmt 1 view .LVU903
1117:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****   uint32_t add = BlockAdd;
 2484              		.loc 1 1117 3 view .LVU904
1118:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c **** 
 2485              		.loc 1 1118 3 view .LVU905
 2486              	.LVL215:
1120:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****   {
 2487              		.loc 1 1120 3 view .LVU906
1120:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****   {
 2488              		.loc 1 1120 5 is_stmt 0 view .LVU907
 2489 0006 0029     		cmp	r1, #0
 2490 0008 3FD0     		beq	.L169
 2491 000a 1646     		mov	r6, r2
 2492 000c 1F46     		mov	r7, r3
 2493 000e 0A46     		mov	r2, r1
 2494              	.LVL216:
1126:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****   {
ARM GAS  /tmp/ccECQX6D.s 			page 131


 2495              		.loc 1 1126 3 is_stmt 1 view .LVU908
1126:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****   {
 2496              		.loc 1 1126 9 is_stmt 0 view .LVU909
 2497 0010 90F83450 		ldrb	r5, [r0, #52]	@ zero_extendqisi2
 2498 0014 EDB2     		uxtb	r5, r5
1126:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****   {
 2499              		.loc 1 1126 5 view .LVU910
 2500 0016 012D     		cmp	r5, #1
 2501 0018 52D1     		bne	.L167
1128:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c **** 
 2502              		.loc 1 1128 5 is_stmt 1 view .LVU911
1128:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c **** 
 2503              		.loc 1 1128 20 is_stmt 0 view .LVU912
 2504 001a 0023     		movs	r3, #0
 2505              	.LVL217:
1128:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c **** 
 2506              		.loc 1 1128 20 view .LVU913
 2507 001c 8363     		str	r3, [r0, #56]
1130:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****     {
 2508              		.loc 1 1130 5 is_stmt 1 view .LVU914
1130:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****     {
 2509              		.loc 1 1130 13 is_stmt 0 view .LVU915
 2510 001e F319     		adds	r3, r6, r7
1130:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****     {
 2511              		.loc 1 1130 45 view .LVU916
 2512 0020 C16D     		ldr	r1, [r0, #92]
 2513              	.LVL218:
1130:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****     {
 2514              		.loc 1 1130 7 view .LVU917
 2515 0022 8B42     		cmp	r3, r1
 2516 0024 37D8     		bhi	.L170
1136:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c **** 
 2517              		.loc 1 1136 5 is_stmt 1 view .LVU918
1136:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c **** 
 2518              		.loc 1 1136 16 is_stmt 0 view .LVU919
 2519 0026 0323     		movs	r3, #3
 2520 0028 80F83430 		strb	r3, [r0, #52]
1139:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c **** 
 2521              		.loc 1 1139 5 is_stmt 1 view .LVU920
1139:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c **** 
 2522              		.loc 1 1139 8 is_stmt 0 view .LVU921
 2523 002c 0368     		ldr	r3, [r0]
1139:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c **** 
 2524              		.loc 1 1139 26 view .LVU922
 2525 002e 0021     		movs	r1, #0
 2526 0030 D962     		str	r1, [r3, #44]
1141:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****     hsd->RxXferSize = BLOCKSIZE * NumberOfBlocks;
 2527              		.loc 1 1141 5 is_stmt 1 view .LVU923
1141:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****     hsd->RxXferSize = BLOCKSIZE * NumberOfBlocks;
 2528              		.loc 1 1141 21 is_stmt 0 view .LVU924
 2529 0032 8262     		str	r2, [r0, #40]
1142:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c **** 
 2530              		.loc 1 1142 5 is_stmt 1 view .LVU925
1142:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c **** 
 2531              		.loc 1 1142 33 is_stmt 0 view .LVU926
 2532 0034 7B02     		lsls	r3, r7, #9
1142:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c **** 
ARM GAS  /tmp/ccECQX6D.s 			page 132


 2533              		.loc 1 1142 21 view .LVU927
 2534 0036 C362     		str	r3, [r0, #44]
1144:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****     {
 2535              		.loc 1 1144 5 is_stmt 1 view .LVU928
1144:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****     {
 2536              		.loc 1 1144 19 is_stmt 0 view .LVU929
 2537 0038 426C     		ldr	r2, [r0, #68]
 2538              	.LVL219:
1144:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****     {
 2539              		.loc 1 1144 7 view .LVU930
 2540 003a 012A     		cmp	r2, #1
 2541 003c 00D0     		beq	.L163
1146:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****     }
 2542              		.loc 1 1146 7 is_stmt 1 view .LVU931
1146:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****     }
 2543              		.loc 1 1146 11 is_stmt 0 view .LVU932
 2544 003e 7602     		lsls	r6, r6, #9
 2545              	.LVL220:
 2546              	.L163:
1150:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****     config.DataLength    = BLOCKSIZE * NumberOfBlocks;
 2547              		.loc 1 1150 5 is_stmt 1 view .LVU933
1150:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****     config.DataLength    = BLOCKSIZE * NumberOfBlocks;
 2548              		.loc 1 1150 26 is_stmt 0 view .LVU934
 2549 0040 4FF0FF32 		mov	r2, #-1
 2550 0044 0092     		str	r2, [sp]
1151:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****     config.DataBlockSize = SDMMC_DATABLOCK_SIZE_512B;
 2551              		.loc 1 1151 5 is_stmt 1 view .LVU935
1151:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****     config.DataBlockSize = SDMMC_DATABLOCK_SIZE_512B;
 2552              		.loc 1 1151 26 is_stmt 0 view .LVU936
 2553 0046 0193     		str	r3, [sp, #4]
1152:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****     config.TransferDir   = SDMMC_TRANSFER_DIR_TO_SDMMC;
 2554              		.loc 1 1152 5 is_stmt 1 view .LVU937
1152:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****     config.TransferDir   = SDMMC_TRANSFER_DIR_TO_SDMMC;
 2555              		.loc 1 1152 26 is_stmt 0 view .LVU938
 2556 0048 9023     		movs	r3, #144
 2557 004a 0293     		str	r3, [sp, #8]
1153:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****     config.TransferMode  = SDMMC_TRANSFER_MODE_BLOCK;
 2558              		.loc 1 1153 5 is_stmt 1 view .LVU939
1153:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****     config.TransferMode  = SDMMC_TRANSFER_MODE_BLOCK;
 2559              		.loc 1 1153 26 is_stmt 0 view .LVU940
 2560 004c 0223     		movs	r3, #2
 2561 004e 0393     		str	r3, [sp, #12]
1154:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c **** #if defined(STM32L4P5xx) || defined(STM32L4Q5xx) || defined(STM32L4R5xx) || defined(STM32L4R7xx) ||
 2562              		.loc 1 1154 5 is_stmt 1 view .LVU941
1154:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c **** #if defined(STM32L4P5xx) || defined(STM32L4Q5xx) || defined(STM32L4R5xx) || defined(STM32L4R7xx) ||
 2563              		.loc 1 1154 26 is_stmt 0 view .LVU942
 2564 0050 0023     		movs	r3, #0
 2565 0052 0493     		str	r3, [sp, #16]
1158:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c **** #endif /* STM32L4P5xx || STM32L4Q5xx || STM32L4R5xx || STM32L4R7xx || STM32L4R9xx || STM32L4S5xx ||
 2566              		.loc 1 1158 5 is_stmt 1 view .LVU943
1158:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c **** #endif /* STM32L4P5xx || STM32L4Q5xx || STM32L4R5xx || STM32L4R7xx || STM32L4R9xx || STM32L4S5xx ||
 2567              		.loc 1 1158 26 is_stmt 0 view .LVU944
 2568 0054 0123     		movs	r3, #1
 2569 0056 0593     		str	r3, [sp, #20]
1160:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c **** #if defined(STM32L4P5xx) || defined(STM32L4Q5xx) || defined(STM32L4R5xx) || defined(STM32L4R7xx) ||
 2570              		.loc 1 1160 5 is_stmt 1 view .LVU945
1160:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c **** #if defined(STM32L4P5xx) || defined(STM32L4Q5xx) || defined(STM32L4R5xx) || defined(STM32L4R7xx) ||
ARM GAS  /tmp/ccECQX6D.s 			page 133


 2571              		.loc 1 1160 11 is_stmt 0 view .LVU946
 2572 0058 6946     		mov	r1, sp
 2573 005a 2068     		ldr	r0, [r4]
 2574              	.LVL221:
1160:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c **** #if defined(STM32L4P5xx) || defined(STM32L4Q5xx) || defined(STM32L4R5xx) || defined(STM32L4R7xx) ||
 2575              		.loc 1 1160 11 view .LVU947
 2576 005c FFF7FEFF 		bl	SDMMC_ConfigData
 2577              	.LVL222:
1166:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****     {
 2578              		.loc 1 1166 5 is_stmt 1 view .LVU948
1166:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****     {
 2579              		.loc 1 1166 7 is_stmt 0 view .LVU949
 2580 0060 012F     		cmp	r7, #1
 2581 0062 1DD9     		bls	.L164
1168:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c **** 
 2582              		.loc 1 1168 7 is_stmt 1 view .LVU950
1168:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c **** 
 2583              		.loc 1 1168 20 is_stmt 0 view .LVU951
 2584 0064 0A23     		movs	r3, #10
 2585 0066 2363     		str	r3, [r4, #48]
1171:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****     }
 2586              		.loc 1 1171 7 is_stmt 1 view .LVU952
1171:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****     }
 2587              		.loc 1 1171 20 is_stmt 0 view .LVU953
 2588 0068 3146     		mov	r1, r6
 2589 006a 2068     		ldr	r0, [r4]
 2590 006c FFF7FEFF 		bl	SDMMC_CmdReadMultiBlock
 2591              	.LVL223:
 2592              	.L165:
1180:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****     {
 2593              		.loc 1 1180 5 is_stmt 1 view .LVU954
1180:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****     {
 2594              		.loc 1 1180 7 is_stmt 0 view .LVU955
 2595 0070 E8B1     		cbz	r0, .L166
1183:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****       hsd->ErrorCode |= errorstate;
 2596              		.loc 1 1183 7 is_stmt 1 view .LVU956
 2597 0072 2368     		ldr	r3, [r4]
 2598 0074 144A     		ldr	r2, .L171
 2599 0076 9A63     		str	r2, [r3, #56]
1184:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****       hsd->State = HAL_SD_STATE_READY;
 2600              		.loc 1 1184 7 view .LVU957
1184:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****       hsd->State = HAL_SD_STATE_READY;
 2601              		.loc 1 1184 22 is_stmt 0 view .LVU958
 2602 0078 A36B     		ldr	r3, [r4, #56]
 2603 007a 0343     		orrs	r3, r3, r0
 2604 007c A363     		str	r3, [r4, #56]
1185:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****       hsd->Context = SD_CONTEXT_NONE;
 2605              		.loc 1 1185 7 is_stmt 1 view .LVU959
1185:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****       hsd->Context = SD_CONTEXT_NONE;
 2606              		.loc 1 1185 18 is_stmt 0 view .LVU960
 2607 007e 0123     		movs	r3, #1
 2608 0080 84F83430 		strb	r3, [r4, #52]
1186:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****       return HAL_ERROR;
 2609              		.loc 1 1186 7 is_stmt 1 view .LVU961
1186:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****       return HAL_ERROR;
 2610              		.loc 1 1186 20 is_stmt 0 view .LVU962
 2611 0084 0023     		movs	r3, #0
ARM GAS  /tmp/ccECQX6D.s 			page 134


 2612 0086 2363     		str	r3, [r4, #48]
1187:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****     }
 2613              		.loc 1 1187 7 is_stmt 1 view .LVU963
1187:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****     }
 2614              		.loc 1 1187 14 is_stmt 0 view .LVU964
 2615 0088 1BE0     		b	.L161
 2616              	.LVL224:
 2617              	.L169:
1122:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****     return HAL_ERROR;
 2618              		.loc 1 1122 5 is_stmt 1 view .LVU965
1122:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****     return HAL_ERROR;
 2619              		.loc 1 1122 20 is_stmt 0 view .LVU966
 2620 008a 836B     		ldr	r3, [r0, #56]
 2621              	.LVL225:
1122:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****     return HAL_ERROR;
 2622              		.loc 1 1122 20 view .LVU967
 2623 008c 43F00063 		orr	r3, r3, #134217728
 2624 0090 8363     		str	r3, [r0, #56]
1123:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****   }
 2625              		.loc 1 1123 5 is_stmt 1 view .LVU968
1123:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****   }
 2626              		.loc 1 1123 12 is_stmt 0 view .LVU969
 2627 0092 0125     		movs	r5, #1
 2628 0094 15E0     		b	.L161
 2629              	.LVL226:
 2630              	.L170:
1132:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****       return HAL_ERROR;
 2631              		.loc 1 1132 7 is_stmt 1 view .LVU970
1132:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****       return HAL_ERROR;
 2632              		.loc 1 1132 22 is_stmt 0 view .LVU971
 2633 0096 836B     		ldr	r3, [r0, #56]
 2634 0098 43F00073 		orr	r3, r3, #33554432
 2635 009c 8363     		str	r3, [r0, #56]
1133:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****     }
 2636              		.loc 1 1133 7 is_stmt 1 view .LVU972
1133:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****     }
 2637              		.loc 1 1133 14 is_stmt 0 view .LVU973
 2638 009e 10E0     		b	.L161
 2639              	.LVL227:
 2640              	.L164:
1175:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c **** 
 2641              		.loc 1 1175 7 is_stmt 1 view .LVU974
1175:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c **** 
 2642              		.loc 1 1175 20 is_stmt 0 view .LVU975
 2643 00a0 0923     		movs	r3, #9
 2644 00a2 2363     		str	r3, [r4, #48]
1178:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****     }
 2645              		.loc 1 1178 7 is_stmt 1 view .LVU976
1178:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****     }
 2646              		.loc 1 1178 20 is_stmt 0 view .LVU977
 2647 00a4 3146     		mov	r1, r6
 2648 00a6 2068     		ldr	r0, [r4]
 2649 00a8 FFF7FEFF 		bl	SDMMC_CmdReadSingleBlock
 2650              	.LVL228:
1178:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****     }
 2651              		.loc 1 1178 20 view .LVU978
 2652 00ac E0E7     		b	.L165
ARM GAS  /tmp/ccECQX6D.s 			page 135


 2653              	.L166:
1190:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c **** 
 2654              		.loc 1 1190 5 is_stmt 1 view .LVU979
 2655 00ae 2268     		ldr	r2, [r4]
 2656 00b0 D36B     		ldr	r3, [r2, #60]
 2657 00b2 43F40143 		orr	r3, r3, #33024
 2658 00b6 43F02A03 		orr	r3, r3, #42
 2659 00ba D363     		str	r3, [r2, #60]
1192:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****   }
 2660              		.loc 1 1192 5 view .LVU980
1192:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****   }
 2661              		.loc 1 1192 12 is_stmt 0 view .LVU981
 2662 00bc 0025     		movs	r5, #0
 2663 00be 00E0     		b	.L161
 2664              	.LVL229:
 2665              	.L167:
1196:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****   }
 2666              		.loc 1 1196 12 view .LVU982
 2667 00c0 0225     		movs	r5, #2
 2668              	.LVL230:
 2669              	.L161:
1198:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c **** 
 2670              		.loc 1 1198 1 view .LVU983
 2671 00c2 2846     		mov	r0, r5
 2672 00c4 07B0     		add	sp, sp, #28
 2673              		.cfi_def_cfa_offset 20
 2674              		@ sp needed
 2675 00c6 F0BD     		pop	{r4, r5, r6, r7, pc}
 2676              	.LVL231:
 2677              	.L172:
1198:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c **** 
 2678              		.loc 1 1198 1 view .LVU984
 2679              		.align	2
 2680              	.L171:
 2681 00c8 FF054000 		.word	4195839
 2682              		.cfi_endproc
 2683              	.LFE295:
 2685              		.section	.text.HAL_SD_WriteBlocks_IT,"ax",%progbits
 2686              		.align	1
 2687              		.global	HAL_SD_WriteBlocks_IT
 2688              		.syntax unified
 2689              		.thumb
 2690              		.thumb_func
 2692              	HAL_SD_WriteBlocks_IT:
 2693              	.LVL232:
 2694              	.LFB296:
1214:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****   SDMMC_DataInitTypeDef config;
 2695              		.loc 1 1214 1 is_stmt 1 view -0
 2696              		.cfi_startproc
 2697              		@ args = 0, pretend = 0, frame = 24
 2698              		@ frame_needed = 0, uses_anonymous_args = 0
1214:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****   SDMMC_DataInitTypeDef config;
 2699              		.loc 1 1214 1 is_stmt 0 view .LVU986
 2700 0000 70B5     		push	{r4, r5, r6, lr}
 2701              		.cfi_def_cfa_offset 16
 2702              		.cfi_offset 4, -16
 2703              		.cfi_offset 5, -12
ARM GAS  /tmp/ccECQX6D.s 			page 136


 2704              		.cfi_offset 6, -8
 2705              		.cfi_offset 14, -4
 2706 0002 86B0     		sub	sp, sp, #24
 2707              		.cfi_def_cfa_offset 40
 2708 0004 0446     		mov	r4, r0
1215:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****   uint32_t errorstate;
 2709              		.loc 1 1215 3 is_stmt 1 view .LVU987
1216:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****   uint32_t add = BlockAdd;
 2710              		.loc 1 1216 3 view .LVU988
1217:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c **** 
 2711              		.loc 1 1217 3 view .LVU989
 2712              	.LVL233:
1219:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****   {
 2713              		.loc 1 1219 3 view .LVU990
1219:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****   {
 2714              		.loc 1 1219 5 is_stmt 0 view .LVU991
 2715 0006 69B3     		cbz	r1, .L183
 2716 0008 0846     		mov	r0, r1
 2717              	.LVL234:
1225:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****   {
 2718              		.loc 1 1225 3 is_stmt 1 view .LVU992
1225:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****   {
 2719              		.loc 1 1225 9 is_stmt 0 view .LVU993
 2720 000a 94F83450 		ldrb	r5, [r4, #52]	@ zero_extendqisi2
 2721 000e EDB2     		uxtb	r5, r5
1225:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****   {
 2722              		.loc 1 1225 5 view .LVU994
 2723 0010 012D     		cmp	r5, #1
 2724 0012 50D1     		bne	.L181
1227:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c **** 
 2725              		.loc 1 1227 5 is_stmt 1 view .LVU995
1227:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c **** 
 2726              		.loc 1 1227 20 is_stmt 0 view .LVU996
 2727 0014 0021     		movs	r1, #0
 2728              	.LVL235:
1227:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c **** 
 2729              		.loc 1 1227 20 view .LVU997
 2730 0016 A163     		str	r1, [r4, #56]
1229:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****     {
 2731              		.loc 1 1229 5 is_stmt 1 view .LVU998
1229:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****     {
 2732              		.loc 1 1229 13 is_stmt 0 view .LVU999
 2733 0018 D118     		adds	r1, r2, r3
1229:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****     {
 2734              		.loc 1 1229 7 view .LVU1000
 2735 001a E66D     		ldr	r6, [r4, #92]
 2736 001c B142     		cmp	r1, r6
 2737 001e 27D8     		bhi	.L184
1235:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c **** 
 2738              		.loc 1 1235 5 is_stmt 1 view .LVU1001
1235:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c **** 
 2739              		.loc 1 1235 16 is_stmt 0 view .LVU1002
 2740 0020 0321     		movs	r1, #3
 2741 0022 84F83410 		strb	r1, [r4, #52]
1238:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c **** 
 2742              		.loc 1 1238 5 is_stmt 1 view .LVU1003
1238:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c **** 
ARM GAS  /tmp/ccECQX6D.s 			page 137


 2743              		.loc 1 1238 8 is_stmt 0 view .LVU1004
 2744 0026 2168     		ldr	r1, [r4]
1238:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c **** 
 2745              		.loc 1 1238 26 view .LVU1005
 2746 0028 0026     		movs	r6, #0
 2747 002a CE62     		str	r6, [r1, #44]
1240:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****     hsd->TxXferSize = BLOCKSIZE * NumberOfBlocks;
 2748              		.loc 1 1240 5 is_stmt 1 view .LVU1006
1240:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****     hsd->TxXferSize = BLOCKSIZE * NumberOfBlocks;
 2749              		.loc 1 1240 21 is_stmt 0 view .LVU1007
 2750 002c 2062     		str	r0, [r4, #32]
1241:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c **** 
 2751              		.loc 1 1241 5 is_stmt 1 view .LVU1008
1241:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c **** 
 2752              		.loc 1 1241 33 is_stmt 0 view .LVU1009
 2753 002e 5E02     		lsls	r6, r3, #9
1241:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c **** 
 2754              		.loc 1 1241 21 view .LVU1010
 2755 0030 6662     		str	r6, [r4, #36]
1243:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****     {
 2756              		.loc 1 1243 5 is_stmt 1 view .LVU1011
1243:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****     {
 2757              		.loc 1 1243 19 is_stmt 0 view .LVU1012
 2758 0032 616C     		ldr	r1, [r4, #68]
1243:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****     {
 2759              		.loc 1 1243 7 view .LVU1013
 2760 0034 0129     		cmp	r1, #1
 2761 0036 00D0     		beq	.L177
1245:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****     }
 2762              		.loc 1 1245 7 is_stmt 1 view .LVU1014
1245:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****     }
 2763              		.loc 1 1245 11 is_stmt 0 view .LVU1015
 2764 0038 5202     		lsls	r2, r2, #9
 2765              	.LVL236:
 2766              	.L177:
1262:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****     {
 2767              		.loc 1 1262 5 is_stmt 1 view .LVU1016
1262:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****     {
 2768              		.loc 1 1262 7 is_stmt 0 view .LVU1017
 2769 003a 012B     		cmp	r3, #1
 2770 003c 1DD9     		bls	.L178
1264:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c **** 
 2771              		.loc 1 1264 7 is_stmt 1 view .LVU1018
1264:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c **** 
 2772              		.loc 1 1264 20 is_stmt 0 view .LVU1019
 2773 003e 2823     		movs	r3, #40
 2774              	.LVL237:
1264:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c **** 
 2775              		.loc 1 1264 20 view .LVU1020
 2776 0040 2363     		str	r3, [r4, #48]
1267:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****     }
 2777              		.loc 1 1267 7 is_stmt 1 view .LVU1021
1267:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****     }
 2778              		.loc 1 1267 20 is_stmt 0 view .LVU1022
 2779 0042 1146     		mov	r1, r2
 2780 0044 2068     		ldr	r0, [r4]
 2781              	.LVL238:
ARM GAS  /tmp/ccECQX6D.s 			page 138


1267:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****     }
 2782              		.loc 1 1267 20 view .LVU1023
 2783 0046 FFF7FEFF 		bl	SDMMC_CmdWriteMultiBlock
 2784              	.LVL239:
 2785              	.L179:
1276:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****     {
 2786              		.loc 1 1276 5 is_stmt 1 view .LVU1024
1276:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****     {
 2787              		.loc 1 1276 7 is_stmt 0 view .LVU1025
 2788 004a E8B1     		cbz	r0, .L180
1279:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****       hsd->ErrorCode |= errorstate;
 2789              		.loc 1 1279 7 is_stmt 1 view .LVU1026
 2790 004c 2368     		ldr	r3, [r4]
 2791 004e 1C4A     		ldr	r2, .L185
 2792 0050 9A63     		str	r2, [r3, #56]
1280:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****       hsd->State = HAL_SD_STATE_READY;
 2793              		.loc 1 1280 7 view .LVU1027
1280:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****       hsd->State = HAL_SD_STATE_READY;
 2794              		.loc 1 1280 22 is_stmt 0 view .LVU1028
 2795 0052 A36B     		ldr	r3, [r4, #56]
 2796 0054 0343     		orrs	r3, r3, r0
 2797 0056 A363     		str	r3, [r4, #56]
1281:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****       hsd->Context = SD_CONTEXT_NONE;
 2798              		.loc 1 1281 7 is_stmt 1 view .LVU1029
1281:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****       hsd->Context = SD_CONTEXT_NONE;
 2799              		.loc 1 1281 18 is_stmt 0 view .LVU1030
 2800 0058 0123     		movs	r3, #1
 2801 005a 84F83430 		strb	r3, [r4, #52]
1282:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****       return HAL_ERROR;
 2802              		.loc 1 1282 7 is_stmt 1 view .LVU1031
1282:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****       return HAL_ERROR;
 2803              		.loc 1 1282 20 is_stmt 0 view .LVU1032
 2804 005e 0023     		movs	r3, #0
 2805 0060 2363     		str	r3, [r4, #48]
1283:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****     }
 2806              		.loc 1 1283 7 is_stmt 1 view .LVU1033
1283:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****     }
 2807              		.loc 1 1283 14 is_stmt 0 view .LVU1034
 2808 0062 29E0     		b	.L175
 2809              	.LVL240:
 2810              	.L183:
1221:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****     return HAL_ERROR;
 2811              		.loc 1 1221 5 is_stmt 1 view .LVU1035
1221:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****     return HAL_ERROR;
 2812              		.loc 1 1221 20 is_stmt 0 view .LVU1036
 2813 0064 836B     		ldr	r3, [r0, #56]
 2814              	.LVL241:
1221:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****     return HAL_ERROR;
 2815              		.loc 1 1221 20 view .LVU1037
 2816 0066 43F00063 		orr	r3, r3, #134217728
 2817 006a 8363     		str	r3, [r0, #56]
1222:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****   }
 2818              		.loc 1 1222 5 is_stmt 1 view .LVU1038
1222:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****   }
 2819              		.loc 1 1222 12 is_stmt 0 view .LVU1039
 2820 006c 0125     		movs	r5, #1
 2821 006e 23E0     		b	.L175
ARM GAS  /tmp/ccECQX6D.s 			page 139


 2822              	.LVL242:
 2823              	.L184:
1231:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****       return HAL_ERROR;
 2824              		.loc 1 1231 7 is_stmt 1 view .LVU1040
1231:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****       return HAL_ERROR;
 2825              		.loc 1 1231 22 is_stmt 0 view .LVU1041
 2826 0070 A36B     		ldr	r3, [r4, #56]
 2827              	.LVL243:
1231:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****       return HAL_ERROR;
 2828              		.loc 1 1231 22 view .LVU1042
 2829 0072 43F00073 		orr	r3, r3, #33554432
 2830 0076 A363     		str	r3, [r4, #56]
1232:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****     }
 2831              		.loc 1 1232 7 is_stmt 1 view .LVU1043
1232:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****     }
 2832              		.loc 1 1232 14 is_stmt 0 view .LVU1044
 2833 0078 1EE0     		b	.L175
 2834              	.LVL244:
 2835              	.L178:
1271:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c **** 
 2836              		.loc 1 1271 7 is_stmt 1 view .LVU1045
1271:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c **** 
 2837              		.loc 1 1271 20 is_stmt 0 view .LVU1046
 2838 007a 1823     		movs	r3, #24
 2839              	.LVL245:
1271:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c **** 
 2840              		.loc 1 1271 20 view .LVU1047
 2841 007c 2363     		str	r3, [r4, #48]
1274:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****     }
 2842              		.loc 1 1274 7 is_stmt 1 view .LVU1048
1274:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****     }
 2843              		.loc 1 1274 20 is_stmt 0 view .LVU1049
 2844 007e 1146     		mov	r1, r2
 2845 0080 2068     		ldr	r0, [r4]
 2846              	.LVL246:
1274:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****     }
 2847              		.loc 1 1274 20 view .LVU1050
 2848 0082 FFF7FEFF 		bl	SDMMC_CmdWriteSingleBlock
 2849              	.LVL247:
1274:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****     }
 2850              		.loc 1 1274 20 view .LVU1051
 2851 0086 E0E7     		b	.L179
 2852              	.L180:
1288:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****     config.DataLength    = BLOCKSIZE * NumberOfBlocks;
 2853              		.loc 1 1288 5 is_stmt 1 view .LVU1052
1288:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****     config.DataLength    = BLOCKSIZE * NumberOfBlocks;
 2854              		.loc 1 1288 26 is_stmt 0 view .LVU1053
 2855 0088 4FF0FF33 		mov	r3, #-1
 2856 008c 0093     		str	r3, [sp]
1289:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****     config.DataBlockSize = SDMMC_DATABLOCK_SIZE_512B;
 2857              		.loc 1 1289 5 is_stmt 1 view .LVU1054
1289:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****     config.DataBlockSize = SDMMC_DATABLOCK_SIZE_512B;
 2858              		.loc 1 1289 26 is_stmt 0 view .LVU1055
 2859 008e 0196     		str	r6, [sp, #4]
1290:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****     config.TransferDir   = SDMMC_TRANSFER_DIR_TO_CARD;
 2860              		.loc 1 1290 5 is_stmt 1 view .LVU1056
1290:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****     config.TransferDir   = SDMMC_TRANSFER_DIR_TO_CARD;
ARM GAS  /tmp/ccECQX6D.s 			page 140


 2861              		.loc 1 1290 26 is_stmt 0 view .LVU1057
 2862 0090 9023     		movs	r3, #144
 2863 0092 0293     		str	r3, [sp, #8]
1291:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****     config.TransferMode  = SDMMC_TRANSFER_MODE_BLOCK;
 2864              		.loc 1 1291 5 is_stmt 1 view .LVU1058
1291:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****     config.TransferMode  = SDMMC_TRANSFER_MODE_BLOCK;
 2865              		.loc 1 1291 26 is_stmt 0 view .LVU1059
 2866 0094 0025     		movs	r5, #0
 2867 0096 0395     		str	r5, [sp, #12]
1292:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****     config.DPSM          = SDMMC_DPSM_ENABLE;
 2868              		.loc 1 1292 5 is_stmt 1 view .LVU1060
1292:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****     config.DPSM          = SDMMC_DPSM_ENABLE;
 2869              		.loc 1 1292 26 is_stmt 0 view .LVU1061
 2870 0098 0495     		str	r5, [sp, #16]
1293:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****     (void)SDMMC_ConfigData(hsd->Instance, &config);
 2871              		.loc 1 1293 5 is_stmt 1 view .LVU1062
1293:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****     (void)SDMMC_ConfigData(hsd->Instance, &config);
 2872              		.loc 1 1293 26 is_stmt 0 view .LVU1063
 2873 009a 0123     		movs	r3, #1
 2874 009c 0593     		str	r3, [sp, #20]
1294:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c **** #endif /* !STM32L4P5xx && !STM32L4Q5xx && !STM32L4R5xx && !STM32L4R7xx && !STM32L4R9xx && !STM32L4S
 2875              		.loc 1 1294 5 is_stmt 1 view .LVU1064
1294:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c **** #endif /* !STM32L4P5xx && !STM32L4Q5xx && !STM32L4R5xx && !STM32L4R7xx && !STM32L4R9xx && !STM32L4S
 2876              		.loc 1 1294 11 is_stmt 0 view .LVU1065
 2877 009e 6946     		mov	r1, sp
 2878 00a0 2068     		ldr	r0, [r4]
 2879              	.LVL248:
1294:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c **** #endif /* !STM32L4P5xx && !STM32L4Q5xx && !STM32L4R5xx && !STM32L4R7xx && !STM32L4R9xx && !STM32L4S
 2880              		.loc 1 1294 11 view .LVU1066
 2881 00a2 FFF7FEFF 		bl	SDMMC_ConfigData
 2882              	.LVL249:
1298:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c **** 
 2883              		.loc 1 1298 5 is_stmt 1 view .LVU1067
 2884 00a6 2268     		ldr	r2, [r4]
 2885 00a8 D36B     		ldr	r3, [r2, #60]
 2886 00aa 43F48243 		orr	r3, r3, #16640
 2887 00ae 43F01A03 		orr	r3, r3, #26
 2888 00b2 D363     		str	r3, [r2, #60]
1300:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****   }
 2889              		.loc 1 1300 5 view .LVU1068
1300:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****   }
 2890              		.loc 1 1300 12 is_stmt 0 view .LVU1069
 2891 00b4 00E0     		b	.L175
 2892              	.LVL250:
 2893              	.L181:
1304:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****   }
 2894              		.loc 1 1304 12 view .LVU1070
 2895 00b6 0225     		movs	r5, #2
 2896              	.LVL251:
 2897              	.L175:
1306:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c **** 
 2898              		.loc 1 1306 1 view .LVU1071
 2899 00b8 2846     		mov	r0, r5
 2900 00ba 06B0     		add	sp, sp, #24
 2901              		.cfi_def_cfa_offset 16
 2902              		@ sp needed
 2903 00bc 70BD     		pop	{r4, r5, r6, pc}
ARM GAS  /tmp/ccECQX6D.s 			page 141


 2904              	.LVL252:
 2905              	.L186:
1306:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c **** 
 2906              		.loc 1 1306 1 view .LVU1072
 2907 00be 00BF     		.align	2
 2908              	.L185:
 2909 00c0 FF054000 		.word	4195839
 2910              		.cfi_endproc
 2911              	.LFE296:
 2913              		.section	.text.HAL_SD_ReadBlocks_DMA,"ax",%progbits
 2914              		.align	1
 2915              		.global	HAL_SD_ReadBlocks_DMA
 2916              		.syntax unified
 2917              		.thumb
 2918              		.thumb_func
 2920              	HAL_SD_ReadBlocks_DMA:
 2921              	.LVL253:
 2922              	.LFB297:
1322:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****   SDMMC_DataInitTypeDef config;
 2923              		.loc 1 1322 1 is_stmt 1 view -0
 2924              		.cfi_startproc
 2925              		@ args = 0, pretend = 0, frame = 24
 2926              		@ frame_needed = 0, uses_anonymous_args = 0
1322:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****   SDMMC_DataInitTypeDef config;
 2927              		.loc 1 1322 1 is_stmt 0 view .LVU1074
 2928 0000 2DE9F043 		push	{r4, r5, r6, r7, r8, r9, lr}
 2929              		.cfi_def_cfa_offset 28
 2930              		.cfi_offset 4, -28
 2931              		.cfi_offset 5, -24
 2932              		.cfi_offset 6, -20
 2933              		.cfi_offset 7, -16
 2934              		.cfi_offset 8, -12
 2935              		.cfi_offset 9, -8
 2936              		.cfi_offset 14, -4
 2937 0004 87B0     		sub	sp, sp, #28
 2938              		.cfi_def_cfa_offset 56
 2939 0006 0446     		mov	r4, r0
1323:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****   uint32_t errorstate;
 2940              		.loc 1 1323 3 is_stmt 1 view .LVU1075
1324:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****   uint32_t add = BlockAdd;
 2941              		.loc 1 1324 3 view .LVU1076
1325:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c **** 
 2942              		.loc 1 1325 3 view .LVU1077
 2943              	.LVL254:
1327:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****   {
 2944              		.loc 1 1327 3 view .LVU1078
1327:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****   {
 2945              		.loc 1 1327 5 is_stmt 0 view .LVU1079
 2946 0008 91B1     		cbz	r1, .L198
 2947 000a 1646     		mov	r6, r2
 2948 000c 1F46     		mov	r7, r3
 2949 000e 0A46     		mov	r2, r1
 2950              	.LVL255:
1333:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****   {
 2951              		.loc 1 1333 3 is_stmt 1 view .LVU1080
1333:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****   {
 2952              		.loc 1 1333 9 is_stmt 0 view .LVU1081
ARM GAS  /tmp/ccECQX6D.s 			page 142


 2953 0010 90F83450 		ldrb	r5, [r0, #52]	@ zero_extendqisi2
 2954 0014 EDB2     		uxtb	r5, r5
1333:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****   {
 2955              		.loc 1 1333 5 view .LVU1082
 2956 0016 012D     		cmp	r5, #1
 2957 0018 72D1     		bne	.L196
1335:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c **** 
 2958              		.loc 1 1335 5 is_stmt 1 view .LVU1083
1335:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c **** 
 2959              		.loc 1 1335 20 is_stmt 0 view .LVU1084
 2960 001a 0023     		movs	r3, #0
 2961              	.LVL256:
1335:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c **** 
 2962              		.loc 1 1335 20 view .LVU1085
 2963 001c 8363     		str	r3, [r0, #56]
1337:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****     {
 2964              		.loc 1 1337 5 is_stmt 1 view .LVU1086
1337:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****     {
 2965              		.loc 1 1337 13 is_stmt 0 view .LVU1087
 2966 001e F019     		adds	r0, r6, r7
 2967              	.LVL257:
1337:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****     {
 2968              		.loc 1 1337 45 view .LVU1088
 2969 0020 E36D     		ldr	r3, [r4, #92]
1337:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****     {
 2970              		.loc 1 1337 7 view .LVU1089
 2971 0022 9842     		cmp	r0, r3
 2972 0024 0AD9     		bls	.L190
1339:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****       return HAL_ERROR;
 2973              		.loc 1 1339 7 is_stmt 1 view .LVU1090
1339:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****       return HAL_ERROR;
 2974              		.loc 1 1339 22 is_stmt 0 view .LVU1091
 2975 0026 A36B     		ldr	r3, [r4, #56]
 2976 0028 43F00073 		orr	r3, r3, #33554432
 2977 002c A363     		str	r3, [r4, #56]
1340:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****     }
 2978              		.loc 1 1340 7 is_stmt 1 view .LVU1092
1340:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****     }
 2979              		.loc 1 1340 14 is_stmt 0 view .LVU1093
 2980 002e 68E0     		b	.L189
 2981              	.LVL258:
 2982              	.L198:
1329:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****     return HAL_ERROR;
 2983              		.loc 1 1329 5 is_stmt 1 view .LVU1094
1329:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****     return HAL_ERROR;
 2984              		.loc 1 1329 20 is_stmt 0 view .LVU1095
 2985 0030 836B     		ldr	r3, [r0, #56]
 2986              	.LVL259:
1329:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****     return HAL_ERROR;
 2987              		.loc 1 1329 20 view .LVU1096
 2988 0032 43F00063 		orr	r3, r3, #134217728
 2989 0036 8363     		str	r3, [r0, #56]
1330:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****   }
 2990              		.loc 1 1330 5 is_stmt 1 view .LVU1097
1330:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****   }
 2991              		.loc 1 1330 12 is_stmt 0 view .LVU1098
 2992 0038 0125     		movs	r5, #1
ARM GAS  /tmp/ccECQX6D.s 			page 143


 2993 003a 62E0     		b	.L189
 2994              	.LVL260:
 2995              	.L190:
1343:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c **** 
 2996              		.loc 1 1343 5 is_stmt 1 view .LVU1099
1343:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c **** 
 2997              		.loc 1 1343 16 is_stmt 0 view .LVU1100
 2998 003c 0323     		movs	r3, #3
 2999 003e 84F83430 		strb	r3, [r4, #52]
1346:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c **** 
 3000              		.loc 1 1346 5 is_stmt 1 view .LVU1101
1346:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c **** 
 3001              		.loc 1 1346 8 is_stmt 0 view .LVU1102
 3002 0042 2168     		ldr	r1, [r4]
 3003              	.LVL261:
1346:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c **** 
 3004              		.loc 1 1346 26 view .LVU1103
 3005 0044 0023     		movs	r3, #0
 3006 0046 CB62     		str	r3, [r1, #44]
1350:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c **** 
 3007              		.loc 1 1350 5 is_stmt 1 view .LVU1104
1350:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c **** 
 3008              		.loc 1 1350 8 is_stmt 0 view .LVU1105
 3009 0048 216C     		ldr	r1, [r4, #64]
1350:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c **** 
 3010              		.loc 1 1350 35 view .LVU1106
 3011 004a 3048     		ldr	r0, .L200
 3012 004c C862     		str	r0, [r1, #44]
1353:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c **** 
 3013              		.loc 1 1353 5 is_stmt 1 view .LVU1107
1353:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c **** 
 3014              		.loc 1 1353 8 is_stmt 0 view .LVU1108
 3015 004e 216C     		ldr	r1, [r4, #64]
1353:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c **** 
 3016              		.loc 1 1353 36 view .LVU1109
 3017 0050 2F48     		ldr	r0, .L200+4
 3018 0052 4863     		str	r0, [r1, #52]
1356:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c **** 
 3019              		.loc 1 1356 5 is_stmt 1 view .LVU1110
1356:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c **** 
 3020              		.loc 1 1356 8 is_stmt 0 view .LVU1111
 3021 0054 216C     		ldr	r1, [r4, #64]
1356:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c **** 
 3022              		.loc 1 1356 36 view .LVU1112
 3023 0056 8B63     		str	r3, [r1, #56]
1359:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****     {
 3024              		.loc 1 1359 5 is_stmt 1 view .LVU1113
1359:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****     {
 3025              		.loc 1 1359 52 is_stmt 0 view .LVU1114
 3026 0058 2168     		ldr	r1, [r4]
1359:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****     {
 3027              		.loc 1 1359 87 view .LVU1115
 3028 005a 4FEA4729 		lsl	r9, r7, #9
1359:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****     {
 3029              		.loc 1 1359 8 view .LVU1116
 3030 005e 4FEA9903 		lsr	r3, r9, #2
 3031 0062 8031     		adds	r1, r1, #128
ARM GAS  /tmp/ccECQX6D.s 			page 144


 3032 0064 206C     		ldr	r0, [r4, #64]
 3033 0066 FFF7FEFF 		bl	HAL_DMA_Start_IT
 3034              	.LVL262:
1359:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****     {
 3035              		.loc 1 1359 7 view .LVU1117
 3036 006a 8046     		mov	r8, r0
 3037 006c 0028     		cmp	r0, #0
 3038 006e 2ED1     		bne	.L199
1369:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c **** #else
 3039              		.loc 1 1369 7 is_stmt 1 view .LVU1118
 3040 0070 2268     		ldr	r2, [r4]
 3041 0072 D36A     		ldr	r3, [r2, #44]
 3042 0074 43F00803 		orr	r3, r3, #8
 3043 0078 D362     		str	r3, [r2, #44]
1375:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****       {
 3044              		.loc 1 1375 7 view .LVU1119
1375:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****       {
 3045              		.loc 1 1375 21 is_stmt 0 view .LVU1120
 3046 007a 636C     		ldr	r3, [r4, #68]
1375:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****       {
 3047              		.loc 1 1375 9 view .LVU1121
 3048 007c 012B     		cmp	r3, #1
 3049 007e 00D0     		beq	.L192
1377:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****       }
 3050              		.loc 1 1377 9 is_stmt 1 view .LVU1122
1377:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****       }
 3051              		.loc 1 1377 13 is_stmt 0 view .LVU1123
 3052 0080 7602     		lsls	r6, r6, #9
 3053              	.LVL263:
 3054              	.L192:
1381:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****       config.DataLength    = BLOCKSIZE * NumberOfBlocks;
 3055              		.loc 1 1381 7 is_stmt 1 view .LVU1124
1381:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****       config.DataLength    = BLOCKSIZE * NumberOfBlocks;
 3056              		.loc 1 1381 28 is_stmt 0 view .LVU1125
 3057 0082 4FF0FF33 		mov	r3, #-1
 3058 0086 0093     		str	r3, [sp]
1382:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****       config.DataBlockSize = SDMMC_DATABLOCK_SIZE_512B;
 3059              		.loc 1 1382 7 is_stmt 1 view .LVU1126
1382:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****       config.DataBlockSize = SDMMC_DATABLOCK_SIZE_512B;
 3060              		.loc 1 1382 28 is_stmt 0 view .LVU1127
 3061 0088 CDF80490 		str	r9, [sp, #4]
1383:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****       config.TransferDir   = SDMMC_TRANSFER_DIR_TO_SDMMC;
 3062              		.loc 1 1383 7 is_stmt 1 view .LVU1128
1383:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****       config.TransferDir   = SDMMC_TRANSFER_DIR_TO_SDMMC;
 3063              		.loc 1 1383 28 is_stmt 0 view .LVU1129
 3064 008c 9023     		movs	r3, #144
 3065 008e 0293     		str	r3, [sp, #8]
1384:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****       config.TransferMode  = SDMMC_TRANSFER_MODE_BLOCK;
 3066              		.loc 1 1384 7 is_stmt 1 view .LVU1130
1384:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****       config.TransferMode  = SDMMC_TRANSFER_MODE_BLOCK;
 3067              		.loc 1 1384 28 is_stmt 0 view .LVU1131
 3068 0090 0223     		movs	r3, #2
 3069 0092 0393     		str	r3, [sp, #12]
1385:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c **** #if defined(STM32L4P5xx) || defined(STM32L4Q5xx) || defined(STM32L4R5xx) || defined(STM32L4R7xx) ||
 3070              		.loc 1 1385 7 is_stmt 1 view .LVU1132
1385:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c **** #if defined(STM32L4P5xx) || defined(STM32L4Q5xx) || defined(STM32L4R5xx) || defined(STM32L4R7xx) ||
 3071              		.loc 1 1385 28 is_stmt 0 view .LVU1133
ARM GAS  /tmp/ccECQX6D.s 			page 145


 3072 0094 0023     		movs	r3, #0
 3073 0096 0493     		str	r3, [sp, #16]
1389:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c **** #endif /* STM32L4P5xx || STM32L4Q5xx || STM32L4R5xx || STM32L4R7xx || STM32L4R9xx || STM32L4S5xx ||
 3074              		.loc 1 1389 7 is_stmt 1 view .LVU1134
1389:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c **** #endif /* STM32L4P5xx || STM32L4Q5xx || STM32L4R5xx || STM32L4R7xx || STM32L4R9xx || STM32L4S5xx ||
 3075              		.loc 1 1389 28 is_stmt 0 view .LVU1135
 3076 0098 0123     		movs	r3, #1
 3077 009a 0593     		str	r3, [sp, #20]
1391:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c **** 
 3078              		.loc 1 1391 7 is_stmt 1 view .LVU1136
1391:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c **** 
 3079              		.loc 1 1391 13 is_stmt 0 view .LVU1137
 3080 009c 6946     		mov	r1, sp
 3081 009e 2068     		ldr	r0, [r4]
 3082 00a0 FFF7FEFF 		bl	SDMMC_ConfigData
 3083              	.LVL264:
1401:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****       {
 3084              		.loc 1 1401 7 is_stmt 1 view .LVU1138
1401:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****       {
 3085              		.loc 1 1401 9 is_stmt 0 view .LVU1139
 3086 00a4 012F     		cmp	r7, #1
 3087 00a6 1DD9     		bls	.L193
1403:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c **** 
 3088              		.loc 1 1403 9 is_stmt 1 view .LVU1140
1403:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c **** 
 3089              		.loc 1 1403 22 is_stmt 0 view .LVU1141
 3090 00a8 8223     		movs	r3, #130
 3091 00aa 2363     		str	r3, [r4, #48]
1406:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****       }
 3092              		.loc 1 1406 9 is_stmt 1 view .LVU1142
1406:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****       }
 3093              		.loc 1 1406 22 is_stmt 0 view .LVU1143
 3094 00ac 3146     		mov	r1, r6
 3095 00ae 2068     		ldr	r0, [r4]
 3096 00b0 FFF7FEFF 		bl	SDMMC_CmdReadMultiBlock
 3097              	.LVL265:
 3098              	.L194:
1415:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****       {
 3099              		.loc 1 1415 7 is_stmt 1 view .LVU1144
1415:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****       {
 3100              		.loc 1 1415 9 is_stmt 0 view .LVU1145
 3101 00b4 E8B1     		cbz	r0, .L195
1418:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****         hsd->ErrorCode |= errorstate;
 3102              		.loc 1 1418 9 is_stmt 1 view .LVU1146
 3103 00b6 2368     		ldr	r3, [r4]
 3104 00b8 164A     		ldr	r2, .L200+8
 3105 00ba 9A63     		str	r2, [r3, #56]
1419:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****         hsd->State = HAL_SD_STATE_READY;
 3106              		.loc 1 1419 9 view .LVU1147
1419:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****         hsd->State = HAL_SD_STATE_READY;
 3107              		.loc 1 1419 24 is_stmt 0 view .LVU1148
 3108 00bc A36B     		ldr	r3, [r4, #56]
 3109 00be 0343     		orrs	r3, r3, r0
 3110 00c0 A363     		str	r3, [r4, #56]
1420:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****         hsd->Context = SD_CONTEXT_NONE;
 3111              		.loc 1 1420 9 is_stmt 1 view .LVU1149
1420:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****         hsd->Context = SD_CONTEXT_NONE;
ARM GAS  /tmp/ccECQX6D.s 			page 146


 3112              		.loc 1 1420 20 is_stmt 0 view .LVU1150
 3113 00c2 0123     		movs	r3, #1
 3114 00c4 84F83430 		strb	r3, [r4, #52]
1421:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****         return HAL_ERROR;
 3115              		.loc 1 1421 9 is_stmt 1 view .LVU1151
1421:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****         return HAL_ERROR;
 3116              		.loc 1 1421 22 is_stmt 0 view .LVU1152
 3117 00c8 0023     		movs	r3, #0
 3118 00ca 2363     		str	r3, [r4, #48]
1422:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****       }
 3119              		.loc 1 1422 9 is_stmt 1 view .LVU1153
1422:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****       }
 3120              		.loc 1 1422 16 is_stmt 0 view .LVU1154
 3121 00cc 19E0     		b	.L189
 3122              	.LVL266:
 3123              	.L199:
1361:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****       hsd->ErrorCode |= HAL_SD_ERROR_DMA;
 3124              		.loc 1 1361 7 is_stmt 1 view .LVU1155
 3125 00ce 2368     		ldr	r3, [r4]
 3126 00d0 104A     		ldr	r2, .L200+8
 3127 00d2 9A63     		str	r2, [r3, #56]
1362:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****       hsd->State = HAL_SD_STATE_READY;
 3128              		.loc 1 1362 7 view .LVU1156
1362:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****       hsd->State = HAL_SD_STATE_READY;
 3129              		.loc 1 1362 22 is_stmt 0 view .LVU1157
 3130 00d4 A36B     		ldr	r3, [r4, #56]
 3131 00d6 43F08043 		orr	r3, r3, #1073741824
 3132 00da A363     		str	r3, [r4, #56]
1363:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****       return HAL_ERROR;
 3133              		.loc 1 1363 7 is_stmt 1 view .LVU1158
1363:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****       return HAL_ERROR;
 3134              		.loc 1 1363 18 is_stmt 0 view .LVU1159
 3135 00dc 0123     		movs	r3, #1
 3136 00de 84F83430 		strb	r3, [r4, #52]
1364:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****     }
 3137              		.loc 1 1364 7 is_stmt 1 view .LVU1160
1364:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****     }
 3138              		.loc 1 1364 14 is_stmt 0 view .LVU1161
 3139 00e2 0EE0     		b	.L189
 3140              	.LVL267:
 3141              	.L193:
1410:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c **** 
 3142              		.loc 1 1410 9 is_stmt 1 view .LVU1162
1410:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c **** 
 3143              		.loc 1 1410 22 is_stmt 0 view .LVU1163
 3144 00e4 8123     		movs	r3, #129
 3145 00e6 2363     		str	r3, [r4, #48]
1413:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****       }
 3146              		.loc 1 1413 9 is_stmt 1 view .LVU1164
1413:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****       }
 3147              		.loc 1 1413 22 is_stmt 0 view .LVU1165
 3148 00e8 3146     		mov	r1, r6
 3149 00ea 2068     		ldr	r0, [r4]
 3150 00ec FFF7FEFF 		bl	SDMMC_CmdReadSingleBlock
 3151              	.LVL268:
1413:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****       }
 3152              		.loc 1 1413 22 view .LVU1166
ARM GAS  /tmp/ccECQX6D.s 			page 147


 3153 00f0 E0E7     		b	.L194
 3154              	.L195:
1426:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c **** 
 3155              		.loc 1 1426 7 is_stmt 1 view .LVU1167
 3156 00f2 2268     		ldr	r2, [r4]
 3157 00f4 D36B     		ldr	r3, [r2, #60]
 3158 00f6 43F49573 		orr	r3, r3, #298
 3159 00fa D363     		str	r3, [r2, #60]
1428:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c **** #if !defined(STM32L4P5xx) && !defined(STM32L4Q5xx) && !defined(STM32L4R5xx) && !defined(STM32L4R7xx
 3160              		.loc 1 1428 7 view .LVU1168
1428:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c **** #if !defined(STM32L4P5xx) && !defined(STM32L4Q5xx) && !defined(STM32L4R5xx) && !defined(STM32L4R7xx
 3161              		.loc 1 1428 14 is_stmt 0 view .LVU1169
 3162 00fc 4546     		mov	r5, r8
 3163 00fe 00E0     		b	.L189
 3164              	.LVL269:
 3165              	.L196:
1435:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****   }
 3166              		.loc 1 1435 12 view .LVU1170
 3167 0100 0225     		movs	r5, #2
 3168              	.LVL270:
 3169              	.L189:
1437:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c **** 
 3170              		.loc 1 1437 1 view .LVU1171
 3171 0102 2846     		mov	r0, r5
 3172 0104 07B0     		add	sp, sp, #28
 3173              		.cfi_def_cfa_offset 28
 3174              		@ sp needed
 3175 0106 BDE8F083 		pop	{r4, r5, r6, r7, r8, r9, pc}
 3176              	.LVL271:
 3177              	.L201:
1437:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c **** 
 3178              		.loc 1 1437 1 view .LVU1172
 3179 010a 00BF     		.align	2
 3180              	.L200:
 3181 010c 00000000 		.word	SD_DMAReceiveCplt
 3182 0110 00000000 		.word	SD_DMAError
 3183 0114 FF054000 		.word	4195839
 3184              		.cfi_endproc
 3185              	.LFE297:
 3187              		.section	.text.HAL_SD_WriteBlocks_DMA,"ax",%progbits
 3188              		.align	1
 3189              		.global	HAL_SD_WriteBlocks_DMA
 3190              		.syntax unified
 3191              		.thumb
 3192              		.thumb_func
 3194              	HAL_SD_WriteBlocks_DMA:
 3195              	.LVL272:
 3196              	.LFB298:
1453:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****   SDMMC_DataInitTypeDef config;
 3197              		.loc 1 1453 1 is_stmt 1 view -0
 3198              		.cfi_startproc
 3199              		@ args = 0, pretend = 0, frame = 24
 3200              		@ frame_needed = 0, uses_anonymous_args = 0
1453:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****   SDMMC_DataInitTypeDef config;
 3201              		.loc 1 1453 1 is_stmt 0 view .LVU1174
 3202 0000 F0B5     		push	{r4, r5, r6, r7, lr}
 3203              		.cfi_def_cfa_offset 20
ARM GAS  /tmp/ccECQX6D.s 			page 148


 3204              		.cfi_offset 4, -20
 3205              		.cfi_offset 5, -16
 3206              		.cfi_offset 6, -12
 3207              		.cfi_offset 7, -8
 3208              		.cfi_offset 14, -4
 3209 0002 87B0     		sub	sp, sp, #28
 3210              		.cfi_def_cfa_offset 48
 3211 0004 0446     		mov	r4, r0
1454:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****   uint32_t errorstate;
 3212              		.loc 1 1454 3 is_stmt 1 view .LVU1175
1455:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****   uint32_t add = BlockAdd;
 3213              		.loc 1 1455 3 view .LVU1176
1456:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c **** 
 3214              		.loc 1 1456 3 view .LVU1177
 3215              	.LVL273:
1458:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****   {
 3216              		.loc 1 1458 3 view .LVU1178
1458:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****   {
 3217              		.loc 1 1458 5 is_stmt 0 view .LVU1179
 3218 0006 0029     		cmp	r1, #0
 3219 0008 33D0     		beq	.L213
 3220 000a 1E46     		mov	r6, r3
 3221 000c 0F46     		mov	r7, r1
1464:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****   {
 3222              		.loc 1 1464 3 is_stmt 1 view .LVU1180
1464:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****   {
 3223              		.loc 1 1464 9 is_stmt 0 view .LVU1181
 3224 000e 90F83450 		ldrb	r5, [r0, #52]	@ zero_extendqisi2
 3225 0012 EDB2     		uxtb	r5, r5
1464:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****   {
 3226              		.loc 1 1464 5 view .LVU1182
 3227 0014 012D     		cmp	r5, #1
 3228 0016 70D1     		bne	.L211
1466:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c **** 
 3229              		.loc 1 1466 5 is_stmt 1 view .LVU1183
1466:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c **** 
 3230              		.loc 1 1466 20 is_stmt 0 view .LVU1184
 3231 0018 0023     		movs	r3, #0
 3232              	.LVL274:
1466:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c **** 
 3233              		.loc 1 1466 20 view .LVU1185
 3234 001a 8363     		str	r3, [r0, #56]
1468:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****     {
 3235              		.loc 1 1468 5 is_stmt 1 view .LVU1186
1468:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****     {
 3236              		.loc 1 1468 13 is_stmt 0 view .LVU1187
 3237 001c 9319     		adds	r3, r2, r6
1468:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****     {
 3238              		.loc 1 1468 45 view .LVU1188
 3239 001e C16D     		ldr	r1, [r0, #92]
 3240              	.LVL275:
1468:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****     {
 3241              		.loc 1 1468 7 view .LVU1189
 3242 0020 8B42     		cmp	r3, r1
 3243 0022 2CD8     		bhi	.L214
1474:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c **** 
 3244              		.loc 1 1474 5 is_stmt 1 view .LVU1190
ARM GAS  /tmp/ccECQX6D.s 			page 149


1474:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c **** 
 3245              		.loc 1 1474 16 is_stmt 0 view .LVU1191
 3246 0024 0323     		movs	r3, #3
 3247 0026 80F83430 		strb	r3, [r0, #52]
1477:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c **** 
 3248              		.loc 1 1477 5 is_stmt 1 view .LVU1192
1477:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c **** 
 3249              		.loc 1 1477 8 is_stmt 0 view .LVU1193
 3250 002a 0168     		ldr	r1, [r0]
1477:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c **** 
 3251              		.loc 1 1477 26 view .LVU1194
 3252 002c 0023     		movs	r3, #0
 3253 002e CB62     		str	r3, [r1, #44]
1484:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c **** 
 3254              		.loc 1 1484 5 is_stmt 1 view .LVU1195
1484:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c **** 
 3255              		.loc 1 1484 8 is_stmt 0 view .LVU1196
 3256 0030 C16B     		ldr	r1, [r0, #60]
1484:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c **** 
 3257              		.loc 1 1484 35 view .LVU1197
 3258 0032 3448     		ldr	r0, .L215
 3259              	.LVL276:
1484:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c **** 
 3260              		.loc 1 1484 35 view .LVU1198
 3261 0034 C862     		str	r0, [r1, #44]
1487:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c **** 
 3262              		.loc 1 1487 5 is_stmt 1 view .LVU1199
1487:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c **** 
 3263              		.loc 1 1487 8 is_stmt 0 view .LVU1200
 3264 0036 E16B     		ldr	r1, [r4, #60]
1487:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c **** 
 3265              		.loc 1 1487 36 view .LVU1201
 3266 0038 3348     		ldr	r0, .L215+4
 3267 003a 4863     		str	r0, [r1, #52]
1490:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c **** #endif /* STM32L4P5xx || STM32L4Q5xx || STM32L4R5xx || STM32L4R7xx || STM32L4R9xx || STM32L4S5xx ||
 3268              		.loc 1 1490 5 is_stmt 1 view .LVU1202
1490:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c **** #endif /* STM32L4P5xx || STM32L4Q5xx || STM32L4R5xx || STM32L4R7xx || STM32L4R9xx || STM32L4S5xx ||
 3269              		.loc 1 1490 8 is_stmt 0 view .LVU1203
 3270 003c E16B     		ldr	r1, [r4, #60]
1490:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c **** #endif /* STM32L4P5xx || STM32L4Q5xx || STM32L4R5xx || STM32L4R7xx || STM32L4R9xx || STM32L4S5xx ||
 3271              		.loc 1 1490 36 view .LVU1204
 3272 003e 8B63     		str	r3, [r1, #56]
1493:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****     {
 3273              		.loc 1 1493 5 is_stmt 1 view .LVU1205
1493:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****     {
 3274              		.loc 1 1493 19 is_stmt 0 view .LVU1206
 3275 0040 636C     		ldr	r3, [r4, #68]
1493:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****     {
 3276              		.loc 1 1493 7 view .LVU1207
 3277 0042 012B     		cmp	r3, #1
 3278 0044 00D0     		beq	.L206
1495:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****     }
 3279              		.loc 1 1495 7 is_stmt 1 view .LVU1208
1495:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****     }
 3280              		.loc 1 1495 11 is_stmt 0 view .LVU1209
 3281 0046 5202     		lsls	r2, r2, #9
 3282              	.LVL277:
ARM GAS  /tmp/ccECQX6D.s 			page 150


 3283              	.L206:
1515:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****     {
 3284              		.loc 1 1515 5 is_stmt 1 view .LVU1210
1515:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****     {
 3285              		.loc 1 1515 7 is_stmt 0 view .LVU1211
 3286 0048 012E     		cmp	r6, #1
 3287 004a 1DD9     		bls	.L207
1517:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c **** 
 3288              		.loc 1 1517 7 is_stmt 1 view .LVU1212
1517:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c **** 
 3289              		.loc 1 1517 20 is_stmt 0 view .LVU1213
 3290 004c A023     		movs	r3, #160
 3291 004e 2363     		str	r3, [r4, #48]
1520:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****     }
 3292              		.loc 1 1520 7 is_stmt 1 view .LVU1214
1520:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****     }
 3293              		.loc 1 1520 20 is_stmt 0 view .LVU1215
 3294 0050 1146     		mov	r1, r2
 3295 0052 2068     		ldr	r0, [r4]
 3296 0054 FFF7FEFF 		bl	SDMMC_CmdWriteMultiBlock
 3297              	.LVL278:
 3298              	.L208:
1529:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****     {
 3299              		.loc 1 1529 5 is_stmt 1 view .LVU1216
1529:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****     {
 3300              		.loc 1 1529 7 is_stmt 0 view .LVU1217
 3301 0058 E8B1     		cbz	r0, .L209
1532:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****       hsd->ErrorCode |= errorstate;
 3302              		.loc 1 1532 7 is_stmt 1 view .LVU1218
 3303 005a 2368     		ldr	r3, [r4]
 3304 005c 2B4A     		ldr	r2, .L215+8
 3305 005e 9A63     		str	r2, [r3, #56]
1533:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****       hsd->State = HAL_SD_STATE_READY;
 3306              		.loc 1 1533 7 view .LVU1219
1533:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****       hsd->State = HAL_SD_STATE_READY;
 3307              		.loc 1 1533 22 is_stmt 0 view .LVU1220
 3308 0060 A36B     		ldr	r3, [r4, #56]
 3309 0062 0343     		orrs	r3, r3, r0
 3310 0064 A363     		str	r3, [r4, #56]
1534:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****       hsd->Context = SD_CONTEXT_NONE;
 3311              		.loc 1 1534 7 is_stmt 1 view .LVU1221
1534:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****       hsd->Context = SD_CONTEXT_NONE;
 3312              		.loc 1 1534 18 is_stmt 0 view .LVU1222
 3313 0066 0123     		movs	r3, #1
 3314 0068 84F83430 		strb	r3, [r4, #52]
1535:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****       return HAL_ERROR;
 3315              		.loc 1 1535 7 is_stmt 1 view .LVU1223
1535:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****       return HAL_ERROR;
 3316              		.loc 1 1535 20 is_stmt 0 view .LVU1224
 3317 006c 0023     		movs	r3, #0
 3318 006e 2363     		str	r3, [r4, #48]
1536:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****     }
 3319              		.loc 1 1536 7 is_stmt 1 view .LVU1225
1536:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****     }
 3320              		.loc 1 1536 14 is_stmt 0 view .LVU1226
 3321 0070 44E0     		b	.L204
 3322              	.LVL279:
ARM GAS  /tmp/ccECQX6D.s 			page 151


 3323              	.L213:
1460:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****     return HAL_ERROR;
 3324              		.loc 1 1460 5 is_stmt 1 view .LVU1227
1460:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****     return HAL_ERROR;
 3325              		.loc 1 1460 20 is_stmt 0 view .LVU1228
 3326 0072 836B     		ldr	r3, [r0, #56]
 3327              	.LVL280:
1460:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****     return HAL_ERROR;
 3328              		.loc 1 1460 20 view .LVU1229
 3329 0074 43F00063 		orr	r3, r3, #134217728
 3330 0078 8363     		str	r3, [r0, #56]
1461:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****   }
 3331              		.loc 1 1461 5 is_stmt 1 view .LVU1230
1461:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****   }
 3332              		.loc 1 1461 12 is_stmt 0 view .LVU1231
 3333 007a 0125     		movs	r5, #1
 3334 007c 3EE0     		b	.L204
 3335              	.LVL281:
 3336              	.L214:
1470:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****       return HAL_ERROR;
 3337              		.loc 1 1470 7 is_stmt 1 view .LVU1232
1470:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****       return HAL_ERROR;
 3338              		.loc 1 1470 22 is_stmt 0 view .LVU1233
 3339 007e 836B     		ldr	r3, [r0, #56]
 3340 0080 43F00073 		orr	r3, r3, #33554432
 3341 0084 8363     		str	r3, [r0, #56]
1471:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****     }
 3342              		.loc 1 1471 7 is_stmt 1 view .LVU1234
1471:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****     }
 3343              		.loc 1 1471 14 is_stmt 0 view .LVU1235
 3344 0086 39E0     		b	.L204
 3345              	.LVL282:
 3346              	.L207:
1524:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c **** 
 3347              		.loc 1 1524 7 is_stmt 1 view .LVU1236
1524:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c **** 
 3348              		.loc 1 1524 20 is_stmt 0 view .LVU1237
 3349 0088 9023     		movs	r3, #144
 3350 008a 2363     		str	r3, [r4, #48]
1527:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****     }
 3351              		.loc 1 1527 7 is_stmt 1 view .LVU1238
1527:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****     }
 3352              		.loc 1 1527 20 is_stmt 0 view .LVU1239
 3353 008c 1146     		mov	r1, r2
 3354 008e 2068     		ldr	r0, [r4]
 3355 0090 FFF7FEFF 		bl	SDMMC_CmdWriteSingleBlock
 3356              	.LVL283:
1527:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****     }
 3357              		.loc 1 1527 20 view .LVU1240
 3358 0094 E0E7     		b	.L208
 3359              	.L209:
1541:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c **** 
 3360              		.loc 1 1541 5 is_stmt 1 view .LVU1241
 3361 0096 2268     		ldr	r2, [r4]
 3362 0098 D36A     		ldr	r3, [r2, #44]
 3363 009a 43F00803 		orr	r3, r3, #8
 3364 009e D362     		str	r3, [r2, #44]
ARM GAS  /tmp/ccECQX6D.s 			page 152


1544:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****     {
 3365              		.loc 1 1544 5 view .LVU1242
1544:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****     {
 3366              		.loc 1 1544 69 is_stmt 0 view .LVU1243
 3367 00a0 2268     		ldr	r2, [r4]
1544:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****     {
 3368              		.loc 1 1544 87 view .LVU1244
 3369 00a2 7602     		lsls	r6, r6, #9
 3370              	.LVL284:
1544:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****     {
 3371              		.loc 1 1544 8 view .LVU1245
 3372 00a4 B308     		lsrs	r3, r6, #2
 3373 00a6 8032     		adds	r2, r2, #128
 3374 00a8 3946     		mov	r1, r7
 3375 00aa E06B     		ldr	r0, [r4, #60]
 3376              	.LVL285:
1544:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****     {
 3377              		.loc 1 1544 8 view .LVU1246
 3378 00ac FFF7FEFF 		bl	HAL_DMA_Start_IT
 3379              	.LVL286:
1544:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****     {
 3380              		.loc 1 1544 7 view .LVU1247
 3381 00b0 0746     		mov	r7, r0
 3382              	.LVL287:
1544:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****     {
 3383              		.loc 1 1544 7 view .LVU1248
 3384 00b2 60B1     		cbz	r0, .L210
1546:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****       hsd->ErrorCode |= HAL_SD_ERROR_DMA;
 3385              		.loc 1 1546 7 is_stmt 1 view .LVU1249
 3386 00b4 2368     		ldr	r3, [r4]
 3387 00b6 154A     		ldr	r2, .L215+8
 3388 00b8 9A63     		str	r2, [r3, #56]
1547:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****       hsd->State = HAL_SD_STATE_READY;
 3389              		.loc 1 1547 7 view .LVU1250
1547:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****       hsd->State = HAL_SD_STATE_READY;
 3390              		.loc 1 1547 22 is_stmt 0 view .LVU1251
 3391 00ba A36B     		ldr	r3, [r4, #56]
 3392 00bc 43F08043 		orr	r3, r3, #1073741824
 3393 00c0 A363     		str	r3, [r4, #56]
1548:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****       hsd->Context = SD_CONTEXT_NONE;
 3394              		.loc 1 1548 7 is_stmt 1 view .LVU1252
1548:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****       hsd->Context = SD_CONTEXT_NONE;
 3395              		.loc 1 1548 18 is_stmt 0 view .LVU1253
 3396 00c2 0123     		movs	r3, #1
 3397 00c4 84F83430 		strb	r3, [r4, #52]
1549:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****       return HAL_ERROR;
 3398              		.loc 1 1549 7 is_stmt 1 view .LVU1254
1549:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****       return HAL_ERROR;
 3399              		.loc 1 1549 20 is_stmt 0 view .LVU1255
 3400 00c8 0023     		movs	r3, #0
 3401 00ca 2363     		str	r3, [r4, #48]
1550:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****     }
 3402              		.loc 1 1550 7 is_stmt 1 view .LVU1256
1550:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****     }
 3403              		.loc 1 1550 14 is_stmt 0 view .LVU1257
 3404 00cc 16E0     		b	.L204
 3405              	.L210:
ARM GAS  /tmp/ccECQX6D.s 			page 153


1555:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****       config.DataLength    = BLOCKSIZE * NumberOfBlocks;
 3406              		.loc 1 1555 7 is_stmt 1 view .LVU1258
1555:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****       config.DataLength    = BLOCKSIZE * NumberOfBlocks;
 3407              		.loc 1 1555 28 is_stmt 0 view .LVU1259
 3408 00ce 4FF0FF33 		mov	r3, #-1
 3409 00d2 0093     		str	r3, [sp]
1556:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****       config.DataBlockSize = SDMMC_DATABLOCK_SIZE_512B;
 3410              		.loc 1 1556 7 is_stmt 1 view .LVU1260
1556:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****       config.DataBlockSize = SDMMC_DATABLOCK_SIZE_512B;
 3411              		.loc 1 1556 28 is_stmt 0 view .LVU1261
 3412 00d4 0196     		str	r6, [sp, #4]
1557:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****       config.TransferDir   = SDMMC_TRANSFER_DIR_TO_CARD;
 3413              		.loc 1 1557 7 is_stmt 1 view .LVU1262
1557:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****       config.TransferDir   = SDMMC_TRANSFER_DIR_TO_CARD;
 3414              		.loc 1 1557 28 is_stmt 0 view .LVU1263
 3415 00d6 9023     		movs	r3, #144
 3416 00d8 0293     		str	r3, [sp, #8]
1558:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****       config.TransferMode  = SDMMC_TRANSFER_MODE_BLOCK;
 3417              		.loc 1 1558 7 is_stmt 1 view .LVU1264
1558:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****       config.TransferMode  = SDMMC_TRANSFER_MODE_BLOCK;
 3418              		.loc 1 1558 28 is_stmt 0 view .LVU1265
 3419 00da 0023     		movs	r3, #0
 3420 00dc 0393     		str	r3, [sp, #12]
1559:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****       config.DPSM          = SDMMC_DPSM_ENABLE;
 3421              		.loc 1 1559 7 is_stmt 1 view .LVU1266
1559:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****       config.DPSM          = SDMMC_DPSM_ENABLE;
 3422              		.loc 1 1559 28 is_stmt 0 view .LVU1267
 3423 00de 0493     		str	r3, [sp, #16]
1560:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****       (void)SDMMC_ConfigData(hsd->Instance, &config);
 3424              		.loc 1 1560 7 is_stmt 1 view .LVU1268
1560:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****       (void)SDMMC_ConfigData(hsd->Instance, &config);
 3425              		.loc 1 1560 28 is_stmt 0 view .LVU1269
 3426 00e0 0123     		movs	r3, #1
 3427 00e2 0593     		str	r3, [sp, #20]
1561:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c **** 
 3428              		.loc 1 1561 7 is_stmt 1 view .LVU1270
1561:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c **** 
 3429              		.loc 1 1561 13 is_stmt 0 view .LVU1271
 3430 00e4 6946     		mov	r1, sp
 3431 00e6 2068     		ldr	r0, [r4]
 3432 00e8 FFF7FEFF 		bl	SDMMC_ConfigData
 3433              	.LVL288:
1564:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c **** #else
 3434              		.loc 1 1564 7 is_stmt 1 view .LVU1272
 3435 00ec 2268     		ldr	r2, [r4]
 3436 00ee D36B     		ldr	r3, [r2, #60]
 3437 00f0 43F01A03 		orr	r3, r3, #26
 3438 00f4 D363     		str	r3, [r2, #60]
1570:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c **** #if !defined(STM32L4P5xx) && !defined(STM32L4Q5xx) && !defined(STM32L4R5xx) && !defined(STM32L4R7xx
 3439              		.loc 1 1570 7 view .LVU1273
1570:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c **** #if !defined(STM32L4P5xx) && !defined(STM32L4Q5xx) && !defined(STM32L4R5xx) && !defined(STM32L4R7xx
 3440              		.loc 1 1570 14 is_stmt 0 view .LVU1274
 3441 00f6 3D46     		mov	r5, r7
 3442 00f8 00E0     		b	.L204
 3443              	.LVL289:
 3444              	.L211:
1577:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****   }
ARM GAS  /tmp/ccECQX6D.s 			page 154


 3445              		.loc 1 1577 12 view .LVU1275
 3446 00fa 0225     		movs	r5, #2
 3447              	.LVL290:
 3448              	.L204:
1579:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c **** 
 3449              		.loc 1 1579 1 view .LVU1276
 3450 00fc 2846     		mov	r0, r5
 3451 00fe 07B0     		add	sp, sp, #28
 3452              		.cfi_def_cfa_offset 20
 3453              		@ sp needed
 3454 0100 F0BD     		pop	{r4, r5, r6, r7, pc}
 3455              	.LVL291:
 3456              	.L216:
1579:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c **** 
 3457              		.loc 1 1579 1 view .LVU1277
 3458 0102 00BF     		.align	2
 3459              	.L215:
 3460 0104 00000000 		.word	SD_DMATransmitCplt
 3461 0108 00000000 		.word	SD_DMAError
 3462 010c FF054000 		.word	4195839
 3463              		.cfi_endproc
 3464              	.LFE298:
 3466              		.section	.text.HAL_SD_Erase,"ax",%progbits
 3467              		.align	1
 3468              		.global	HAL_SD_Erase
 3469              		.syntax unified
 3470              		.thumb
 3471              		.thumb_func
 3473              	HAL_SD_Erase:
 3474              	.LVL292:
 3475              	.LFB299:
1591:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****   uint32_t errorstate;
 3476              		.loc 1 1591 1 is_stmt 1 view -0
 3477              		.cfi_startproc
 3478              		@ args = 0, pretend = 0, frame = 0
 3479              		@ frame_needed = 0, uses_anonymous_args = 0
1591:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****   uint32_t errorstate;
 3480              		.loc 1 1591 1 is_stmt 0 view .LVU1279
 3481 0000 F8B5     		push	{r3, r4, r5, r6, r7, lr}
 3482              		.cfi_def_cfa_offset 24
 3483              		.cfi_offset 3, -24
 3484              		.cfi_offset 4, -20
 3485              		.cfi_offset 5, -16
 3486              		.cfi_offset 6, -12
 3487              		.cfi_offset 7, -8
 3488              		.cfi_offset 14, -4
1592:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****   uint32_t start_add = BlockStartAdd;
 3489              		.loc 1 1592 3 is_stmt 1 view .LVU1280
1593:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****   uint32_t end_add = BlockEndAdd;
 3490              		.loc 1 1593 3 view .LVU1281
 3491              	.LVL293:
1594:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c **** 
 3492              		.loc 1 1594 3 view .LVU1282
1596:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****   {
 3493              		.loc 1 1596 3 view .LVU1283
1596:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****   {
 3494              		.loc 1 1596 9 is_stmt 0 view .LVU1284
ARM GAS  /tmp/ccECQX6D.s 			page 155


 3495 0002 90F83450 		ldrb	r5, [r0, #52]	@ zero_extendqisi2
 3496 0006 EDB2     		uxtb	r5, r5
1596:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****   {
 3497              		.loc 1 1596 5 view .LVU1285
 3498 0008 012D     		cmp	r5, #1
 3499 000a 70D1     		bne	.L227
 3500 000c 0446     		mov	r4, r0
 3501 000e 0F46     		mov	r7, r1
 3502 0010 1646     		mov	r6, r2
1598:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c **** 
 3503              		.loc 1 1598 5 is_stmt 1 view .LVU1286
1598:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c **** 
 3504              		.loc 1 1598 20 is_stmt 0 view .LVU1287
 3505 0012 0023     		movs	r3, #0
 3506 0014 8363     		str	r3, [r0, #56]
1600:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****     {
 3507              		.loc 1 1600 5 is_stmt 1 view .LVU1288
1600:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****     {
 3508              		.loc 1 1600 7 is_stmt 0 view .LVU1289
 3509 0016 9142     		cmp	r1, r2
 3510 0018 14D8     		bhi	.L229
1606:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****     {
 3511              		.loc 1 1606 5 is_stmt 1 view .LVU1290
1606:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****     {
 3512              		.loc 1 1606 30 is_stmt 0 view .LVU1291
 3513 001a C36D     		ldr	r3, [r0, #92]
1606:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****     {
 3514              		.loc 1 1606 7 view .LVU1292
 3515 001c 9342     		cmp	r3, r2
 3516 001e 16D3     		bcc	.L230
1612:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c **** 
 3517              		.loc 1 1612 5 is_stmt 1 view .LVU1293
1612:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c **** 
 3518              		.loc 1 1612 16 is_stmt 0 view .LVU1294
 3519 0020 0323     		movs	r3, #3
 3520 0022 80F83430 		strb	r3, [r0, #52]
1615:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****     {
 3521              		.loc 1 1615 5 is_stmt 1 view .LVU1295
1615:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****     {
 3522              		.loc 1 1615 21 is_stmt 0 view .LVU1296
 3523 0026 C36C     		ldr	r3, [r0, #76]
1615:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****     {
 3524              		.loc 1 1615 7 view .LVU1297
 3525 0028 13F0200F 		tst	r3, #32
 3526 002c 14D1     		bne	.L221
1618:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****       hsd->ErrorCode |= HAL_SD_ERROR_REQUEST_NOT_APPLICABLE;
 3527              		.loc 1 1618 7 is_stmt 1 view .LVU1298
 3528 002e 0368     		ldr	r3, [r0]
 3529 0030 304A     		ldr	r2, .L233
 3530              	.LVL294:
1618:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****       hsd->ErrorCode |= HAL_SD_ERROR_REQUEST_NOT_APPLICABLE;
 3531              		.loc 1 1618 7 is_stmt 0 view .LVU1299
 3532 0032 9A63     		str	r2, [r3, #56]
1619:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****       hsd->State = HAL_SD_STATE_READY;
 3533              		.loc 1 1619 7 is_stmt 1 view .LVU1300
1619:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****       hsd->State = HAL_SD_STATE_READY;
 3534              		.loc 1 1619 22 is_stmt 0 view .LVU1301
ARM GAS  /tmp/ccECQX6D.s 			page 156


 3535 0034 836B     		ldr	r3, [r0, #56]
 3536 0036 43F08063 		orr	r3, r3, #67108864
 3537 003a 8363     		str	r3, [r0, #56]
1620:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****       return HAL_ERROR;
 3538              		.loc 1 1620 7 is_stmt 1 view .LVU1302
1620:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****       return HAL_ERROR;
 3539              		.loc 1 1620 18 is_stmt 0 view .LVU1303
 3540 003c 0123     		movs	r3, #1
 3541 003e 80F83430 		strb	r3, [r0, #52]
1621:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****     }
 3542              		.loc 1 1621 7 is_stmt 1 view .LVU1304
1621:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****     }
 3543              		.loc 1 1621 14 is_stmt 0 view .LVU1305
 3544 0042 55E0     		b	.L218
 3545              	.LVL295:
 3546              	.L229:
1602:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****       return HAL_ERROR;
 3547              		.loc 1 1602 7 is_stmt 1 view .LVU1306
1602:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****       return HAL_ERROR;
 3548              		.loc 1 1602 22 is_stmt 0 view .LVU1307
 3549 0044 836B     		ldr	r3, [r0, #56]
 3550 0046 43F00063 		orr	r3, r3, #134217728
 3551 004a 8363     		str	r3, [r0, #56]
1603:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****     }
 3552              		.loc 1 1603 7 is_stmt 1 view .LVU1308
1603:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****     }
 3553              		.loc 1 1603 14 is_stmt 0 view .LVU1309
 3554 004c 50E0     		b	.L218
 3555              	.L230:
1608:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****       return HAL_ERROR;
 3556              		.loc 1 1608 7 is_stmt 1 view .LVU1310
1608:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****       return HAL_ERROR;
 3557              		.loc 1 1608 22 is_stmt 0 view .LVU1311
 3558 004e 836B     		ldr	r3, [r0, #56]
 3559 0050 43F00073 		orr	r3, r3, #33554432
 3560 0054 8363     		str	r3, [r0, #56]
1609:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****     }
 3561              		.loc 1 1609 7 is_stmt 1 view .LVU1312
1609:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****     }
 3562              		.loc 1 1609 14 is_stmt 0 view .LVU1313
 3563 0056 4BE0     		b	.L218
 3564              	.L221:
1624:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****     {
 3565              		.loc 1 1624 5 is_stmt 1 view .LVU1314
1624:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****     {
 3566              		.loc 1 1624 9 is_stmt 0 view .LVU1315
 3567 0058 0021     		movs	r1, #0
 3568              	.LVL296:
1624:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****     {
 3569              		.loc 1 1624 9 view .LVU1316
 3570 005a 0068     		ldr	r0, [r0]
 3571              	.LVL297:
1624:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****     {
 3572              		.loc 1 1624 9 view .LVU1317
 3573 005c FFF7FEFF 		bl	SDMMC_GetResponse
 3574              	.LVL298:
1624:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****     {
ARM GAS  /tmp/ccECQX6D.s 			page 157


 3575              		.loc 1 1624 7 view .LVU1318
 3576 0060 10F0007F 		tst	r0, #33554432
 3577 0064 15D1     		bne	.L231
1634:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****     {
 3578              		.loc 1 1634 5 is_stmt 1 view .LVU1319
1634:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****     {
 3579              		.loc 1 1634 19 is_stmt 0 view .LVU1320
 3580 0066 636C     		ldr	r3, [r4, #68]
1634:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****     {
 3581              		.loc 1 1634 7 view .LVU1321
 3582 0068 012B     		cmp	r3, #1
 3583 006a 01D0     		beq	.L223
1636:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****       end_add   *= 512U;
 3584              		.loc 1 1636 7 is_stmt 1 view .LVU1322
1636:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****       end_add   *= 512U;
 3585              		.loc 1 1636 17 is_stmt 0 view .LVU1323
 3586 006c 7F02     		lsls	r7, r7, #9
 3587              	.LVL299:
1637:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****     }
 3588              		.loc 1 1637 7 is_stmt 1 view .LVU1324
1637:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****     }
 3589              		.loc 1 1637 17 is_stmt 0 view .LVU1325
 3590 006e 7602     		lsls	r6, r6, #9
 3591              	.LVL300:
 3592              	.L223:
1641:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****     {
 3593              		.loc 1 1641 5 is_stmt 1 view .LVU1326
1641:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****     {
 3594              		.loc 1 1641 7 is_stmt 0 view .LVU1327
 3595 0070 032B     		cmp	r3, #3
 3596 0072 1ED0     		beq	.L224
1644:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****       if(errorstate != HAL_SD_ERROR_NONE)
 3597              		.loc 1 1644 7 is_stmt 1 view .LVU1328
1644:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****       if(errorstate != HAL_SD_ERROR_NONE)
 3598              		.loc 1 1644 20 is_stmt 0 view .LVU1329
 3599 0074 3946     		mov	r1, r7
 3600 0076 2068     		ldr	r0, [r4]
 3601 0078 FFF7FEFF 		bl	SDMMC_CmdSDEraseStartAdd
 3602              	.LVL301:
1645:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****       {
 3603              		.loc 1 1645 7 is_stmt 1 view .LVU1330
1645:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****       {
 3604              		.loc 1 1645 9 is_stmt 0 view .LVU1331
 3605 007c A0B1     		cbz	r0, .L225
1648:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****         hsd->ErrorCode |= errorstate;
 3606              		.loc 1 1648 9 is_stmt 1 view .LVU1332
 3607 007e 2368     		ldr	r3, [r4]
 3608 0080 1C49     		ldr	r1, .L233
 3609 0082 9963     		str	r1, [r3, #56]
1649:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****         hsd->State = HAL_SD_STATE_READY;
 3610              		.loc 1 1649 9 view .LVU1333
1649:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****         hsd->State = HAL_SD_STATE_READY;
 3611              		.loc 1 1649 24 is_stmt 0 view .LVU1334
 3612 0084 A36B     		ldr	r3, [r4, #56]
 3613 0086 0343     		orrs	r3, r3, r0
 3614 0088 A363     		str	r3, [r4, #56]
1650:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****         return HAL_ERROR;
ARM GAS  /tmp/ccECQX6D.s 			page 158


 3615              		.loc 1 1650 9 is_stmt 1 view .LVU1335
1650:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****         return HAL_ERROR;
 3616              		.loc 1 1650 20 is_stmt 0 view .LVU1336
 3617 008a 0123     		movs	r3, #1
 3618 008c 84F83430 		strb	r3, [r4, #52]
1651:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****       }
 3619              		.loc 1 1651 9 is_stmt 1 view .LVU1337
1651:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****       }
 3620              		.loc 1 1651 16 is_stmt 0 view .LVU1338
 3621 0090 2EE0     		b	.L218
 3622              	.LVL302:
 3623              	.L231:
1627:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****       hsd->ErrorCode |= HAL_SD_ERROR_LOCK_UNLOCK_FAILED;
 3624              		.loc 1 1627 7 is_stmt 1 view .LVU1339
 3625 0092 2368     		ldr	r3, [r4]
 3626 0094 174A     		ldr	r2, .L233
 3627 0096 9A63     		str	r2, [r3, #56]
1628:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****       hsd->State = HAL_SD_STATE_READY;
 3628              		.loc 1 1628 7 view .LVU1340
1628:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****       hsd->State = HAL_SD_STATE_READY;
 3629              		.loc 1 1628 22 is_stmt 0 view .LVU1341
 3630 0098 A36B     		ldr	r3, [r4, #56]
 3631 009a 43F40063 		orr	r3, r3, #2048
 3632 009e A363     		str	r3, [r4, #56]
1629:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****       return HAL_ERROR;
 3633              		.loc 1 1629 7 is_stmt 1 view .LVU1342
1629:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****       return HAL_ERROR;
 3634              		.loc 1 1629 18 is_stmt 0 view .LVU1343
 3635 00a0 0123     		movs	r3, #1
 3636 00a2 84F83430 		strb	r3, [r4, #52]
1630:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****     }
 3637              		.loc 1 1630 7 is_stmt 1 view .LVU1344
1630:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****     }
 3638              		.loc 1 1630 14 is_stmt 0 view .LVU1345
 3639 00a6 23E0     		b	.L218
 3640              	.LVL303:
 3641              	.L225:
1655:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****       if(errorstate != HAL_SD_ERROR_NONE)
 3642              		.loc 1 1655 7 is_stmt 1 view .LVU1346
1655:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****       if(errorstate != HAL_SD_ERROR_NONE)
 3643              		.loc 1 1655 20 is_stmt 0 view .LVU1347
 3644 00a8 3146     		mov	r1, r6
 3645 00aa 2068     		ldr	r0, [r4]
 3646              	.LVL304:
1655:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****       if(errorstate != HAL_SD_ERROR_NONE)
 3647              		.loc 1 1655 20 view .LVU1348
 3648 00ac FFF7FEFF 		bl	SDMMC_CmdSDEraseEndAdd
 3649              	.LVL305:
1656:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****       {
 3650              		.loc 1 1656 7 is_stmt 1 view .LVU1349
1656:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****       {
 3651              		.loc 1 1656 9 is_stmt 0 view .LVU1350
 3652 00b0 70B9     		cbnz	r0, .L232
 3653              	.LVL306:
 3654              	.L224:
1667:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****     if(errorstate != HAL_SD_ERROR_NONE)
 3655              		.loc 1 1667 5 is_stmt 1 view .LVU1351
ARM GAS  /tmp/ccECQX6D.s 			page 159


1667:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****     if(errorstate != HAL_SD_ERROR_NONE)
 3656              		.loc 1 1667 18 is_stmt 0 view .LVU1352
 3657 00b2 0021     		movs	r1, #0
 3658 00b4 2068     		ldr	r0, [r4]
 3659 00b6 FFF7FEFF 		bl	SDMMC_CmdErase
 3660              	.LVL307:
1668:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****     {
 3661              		.loc 1 1668 5 is_stmt 1 view .LVU1353
1668:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****     {
 3662              		.loc 1 1668 7 is_stmt 0 view .LVU1354
 3663 00ba 98B1     		cbz	r0, .L226
1671:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****       hsd->ErrorCode |= errorstate;
 3664              		.loc 1 1671 7 is_stmt 1 view .LVU1355
 3665 00bc 2368     		ldr	r3, [r4]
 3666 00be 0D49     		ldr	r1, .L233
 3667 00c0 9963     		str	r1, [r3, #56]
1672:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****       hsd->State = HAL_SD_STATE_READY;
 3668              		.loc 1 1672 7 view .LVU1356
1672:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****       hsd->State = HAL_SD_STATE_READY;
 3669              		.loc 1 1672 22 is_stmt 0 view .LVU1357
 3670 00c2 A36B     		ldr	r3, [r4, #56]
 3671 00c4 0343     		orrs	r3, r3, r0
 3672 00c6 A363     		str	r3, [r4, #56]
1673:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****       return HAL_ERROR;
 3673              		.loc 1 1673 7 is_stmt 1 view .LVU1358
1673:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****       return HAL_ERROR;
 3674              		.loc 1 1673 18 is_stmt 0 view .LVU1359
 3675 00c8 0123     		movs	r3, #1
 3676 00ca 84F83430 		strb	r3, [r4, #52]
1674:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****     }
 3677              		.loc 1 1674 7 is_stmt 1 view .LVU1360
1674:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****     }
 3678              		.loc 1 1674 14 is_stmt 0 view .LVU1361
 3679 00ce 0FE0     		b	.L218
 3680              	.L232:
1659:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****         hsd->ErrorCode |= errorstate;
 3681              		.loc 1 1659 9 is_stmt 1 view .LVU1362
 3682 00d0 2368     		ldr	r3, [r4]
 3683 00d2 0849     		ldr	r1, .L233
 3684 00d4 9963     		str	r1, [r3, #56]
1660:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****         hsd->State = HAL_SD_STATE_READY;
 3685              		.loc 1 1660 9 view .LVU1363
1660:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****         hsd->State = HAL_SD_STATE_READY;
 3686              		.loc 1 1660 24 is_stmt 0 view .LVU1364
 3687 00d6 A36B     		ldr	r3, [r4, #56]
 3688 00d8 0343     		orrs	r3, r3, r0
 3689 00da A363     		str	r3, [r4, #56]
1661:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****         return HAL_ERROR;
 3690              		.loc 1 1661 9 is_stmt 1 view .LVU1365
1661:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****         return HAL_ERROR;
 3691              		.loc 1 1661 20 is_stmt 0 view .LVU1366
 3692 00dc 0123     		movs	r3, #1
 3693 00de 84F83430 		strb	r3, [r4, #52]
1662:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****       }
 3694              		.loc 1 1662 9 is_stmt 1 view .LVU1367
1662:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****       }
 3695              		.loc 1 1662 16 is_stmt 0 view .LVU1368
ARM GAS  /tmp/ccECQX6D.s 			page 160


 3696 00e2 05E0     		b	.L218
 3697              	.L226:
1677:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c **** 
 3698              		.loc 1 1677 5 is_stmt 1 view .LVU1369
1677:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c **** 
 3699              		.loc 1 1677 16 is_stmt 0 view .LVU1370
 3700 00e4 0123     		movs	r3, #1
 3701 00e6 84F83430 		strb	r3, [r4, #52]
1679:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****   }
 3702              		.loc 1 1679 5 is_stmt 1 view .LVU1371
1679:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****   }
 3703              		.loc 1 1679 12 is_stmt 0 view .LVU1372
 3704 00ea 0025     		movs	r5, #0
 3705 00ec 00E0     		b	.L218
 3706              	.LVL308:
 3707              	.L227:
1683:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****   }
 3708              		.loc 1 1683 12 view .LVU1373
 3709 00ee 0225     		movs	r5, #2
 3710              	.LVL309:
 3711              	.L218:
1685:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c **** 
 3712              		.loc 1 1685 1 view .LVU1374
 3713 00f0 2846     		mov	r0, r5
 3714 00f2 F8BD     		pop	{r3, r4, r5, r6, r7, pc}
 3715              	.L234:
 3716              		.align	2
 3717              	.L233:
 3718 00f4 FF054000 		.word	4195839
 3719              		.cfi_endproc
 3720              	.LFE299:
 3722              		.section	.text.HAL_SD_GetState,"ax",%progbits
 3723              		.align	1
 3724              		.global	HAL_SD_GetState
 3725              		.syntax unified
 3726              		.thumb
 3727              		.thumb_func
 3729              	HAL_SD_GetState:
 3730              	.LVL310:
 3731              	.LFB301:
2002:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****   return hsd->State;
 3732              		.loc 1 2002 1 is_stmt 1 view -0
 3733              		.cfi_startproc
 3734              		@ args = 0, pretend = 0, frame = 0
 3735              		@ frame_needed = 0, uses_anonymous_args = 0
 3736              		@ link register save eliminated.
2003:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c **** }
 3737              		.loc 1 2003 3 view .LVU1376
2003:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c **** }
 3738              		.loc 1 2003 13 is_stmt 0 view .LVU1377
 3739 0000 90F83400 		ldrb	r0, [r0, #52]	@ zero_extendqisi2
 3740              	.LVL311:
2004:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c **** 
 3741              		.loc 1 2004 1 view .LVU1378
 3742 0004 7047     		bx	lr
 3743              		.cfi_endproc
 3744              	.LFE301:
ARM GAS  /tmp/ccECQX6D.s 			page 161


 3746              		.section	.text.HAL_SD_GetError,"ax",%progbits
 3747              		.align	1
 3748              		.global	HAL_SD_GetError
 3749              		.syntax unified
 3750              		.thumb
 3751              		.thumb_func
 3753              	HAL_SD_GetError:
 3754              	.LVL312:
 3755              	.LFB302:
2013:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****   return hsd->ErrorCode;
 3756              		.loc 1 2013 1 is_stmt 1 view -0
 3757              		.cfi_startproc
 3758              		@ args = 0, pretend = 0, frame = 0
 3759              		@ frame_needed = 0, uses_anonymous_args = 0
 3760              		@ link register save eliminated.
2014:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c **** }
 3761              		.loc 1 2014 3 view .LVU1380
2014:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c **** }
 3762              		.loc 1 2014 13 is_stmt 0 view .LVU1381
 3763 0000 806B     		ldr	r0, [r0, #56]
 3764              	.LVL313:
2015:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c **** 
 3765              		.loc 1 2015 1 view .LVU1382
 3766 0002 7047     		bx	lr
 3767              		.cfi_endproc
 3768              	.LFE302:
 3770              		.section	.text.HAL_SD_TxCpltCallback,"ax",%progbits
 3771              		.align	1
 3772              		.weak	HAL_SD_TxCpltCallback
 3773              		.syntax unified
 3774              		.thumb
 3775              		.thumb_func
 3777              	HAL_SD_TxCpltCallback:
 3778              	.LVL314:
 3779              	.LFB303:
2023:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****   /* Prevent unused argument(s) compilation warning */
 3780              		.loc 1 2023 1 is_stmt 1 view -0
 3781              		.cfi_startproc
 3782              		@ args = 0, pretend = 0, frame = 0
 3783              		@ frame_needed = 0, uses_anonymous_args = 0
 3784              		@ link register save eliminated.
2025:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c **** 
 3785              		.loc 1 2025 3 view .LVU1384
2030:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c **** 
 3786              		.loc 1 2030 1 is_stmt 0 view .LVU1385
 3787 0000 7047     		bx	lr
 3788              		.cfi_endproc
 3789              	.LFE303:
 3791              		.section	.text.HAL_SD_RxCpltCallback,"ax",%progbits
 3792              		.align	1
 3793              		.weak	HAL_SD_RxCpltCallback
 3794              		.syntax unified
 3795              		.thumb
 3796              		.thumb_func
 3798              	HAL_SD_RxCpltCallback:
 3799              	.LVL315:
 3800              	.LFB304:
ARM GAS  /tmp/ccECQX6D.s 			page 162


2038:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****   /* Prevent unused argument(s) compilation warning */
 3801              		.loc 1 2038 1 is_stmt 1 view -0
 3802              		.cfi_startproc
 3803              		@ args = 0, pretend = 0, frame = 0
 3804              		@ frame_needed = 0, uses_anonymous_args = 0
 3805              		@ link register save eliminated.
2040:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c **** 
 3806              		.loc 1 2040 3 view .LVU1387
2045:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c **** 
 3807              		.loc 1 2045 1 is_stmt 0 view .LVU1388
 3808 0000 7047     		bx	lr
 3809              		.cfi_endproc
 3810              	.LFE304:
 3812              		.section	.text.HAL_SD_ErrorCallback,"ax",%progbits
 3813              		.align	1
 3814              		.weak	HAL_SD_ErrorCallback
 3815              		.syntax unified
 3816              		.thumb
 3817              		.thumb_func
 3819              	HAL_SD_ErrorCallback:
 3820              	.LVL316:
 3821              	.LFB305:
2053:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****   /* Prevent unused argument(s) compilation warning */
 3822              		.loc 1 2053 1 is_stmt 1 view -0
 3823              		.cfi_startproc
 3824              		@ args = 0, pretend = 0, frame = 0
 3825              		@ frame_needed = 0, uses_anonymous_args = 0
 3826              		@ link register save eliminated.
2055:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c **** 
 3827              		.loc 1 2055 3 view .LVU1390
2060:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c **** 
 3828              		.loc 1 2060 1 is_stmt 0 view .LVU1391
 3829 0000 7047     		bx	lr
 3830              		.cfi_endproc
 3831              	.LFE305:
 3833              		.section	.text.SD_DMAReceiveCplt,"ax",%progbits
 3834              		.align	1
 3835              		.syntax unified
 3836              		.thumb
 3837              		.thumb_func
 3839              	SD_DMAReceiveCplt:
 3840              	.LVL317:
 3841              	.LFB316:
3234:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****   SD_HandleTypeDef* hsd = (SD_HandleTypeDef* )(hdma->Parent);
 3842              		.loc 1 3234 1 is_stmt 1 view -0
 3843              		.cfi_startproc
 3844              		@ args = 0, pretend = 0, frame = 0
 3845              		@ frame_needed = 0, uses_anonymous_args = 0
3234:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****   SD_HandleTypeDef* hsd = (SD_HandleTypeDef* )(hdma->Parent);
 3846              		.loc 1 3234 1 is_stmt 0 view .LVU1393
 3847 0000 10B5     		push	{r4, lr}
 3848              		.cfi_def_cfa_offset 8
 3849              		.cfi_offset 4, -8
 3850              		.cfi_offset 14, -4
3235:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****   uint32_t errorstate;
 3851              		.loc 1 3235 3 is_stmt 1 view .LVU1394
3235:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****   uint32_t errorstate;
ARM GAS  /tmp/ccECQX6D.s 			page 163


 3852              		.loc 1 3235 21 is_stmt 0 view .LVU1395
 3853 0002 846A     		ldr	r4, [r0, #40]
 3854              	.LVL318:
3236:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c **** 
 3855              		.loc 1 3236 3 is_stmt 1 view .LVU1396
3239:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****   {
 3856              		.loc 1 3239 3 view .LVU1397
3239:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****   {
 3857              		.loc 1 3239 9 is_stmt 0 view .LVU1398
 3858 0004 236B     		ldr	r3, [r4, #48]
3239:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****   {
 3859              		.loc 1 3239 5 view .LVU1399
 3860 0006 822B     		cmp	r3, #130
 3861 0008 11D0     		beq	.L243
 3862              	.LVL319:
 3863              	.L241:
3255:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c **** 
 3864              		.loc 1 3255 3 is_stmt 1 view .LVU1400
3255:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c **** 
 3865              		.loc 1 3255 6 is_stmt 0 view .LVU1401
 3866 000a 2268     		ldr	r2, [r4]
3255:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c **** 
 3867              		.loc 1 3255 24 view .LVU1402
 3868 000c D36A     		ldr	r3, [r2, #44]
 3869 000e 23F00803 		bic	r3, r3, #8
 3870 0012 D362     		str	r3, [r2, #44]
3258:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c **** 
 3871              		.loc 1 3258 3 is_stmt 1 view .LVU1403
 3872 0014 2368     		ldr	r3, [r4]
 3873 0016 40F23A52 		movw	r2, #1338
 3874 001a 9A63     		str	r2, [r3, #56]
3260:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****   hsd->Context = SD_CONTEXT_NONE;
 3875              		.loc 1 3260 3 view .LVU1404
3260:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****   hsd->Context = SD_CONTEXT_NONE;
 3876              		.loc 1 3260 14 is_stmt 0 view .LVU1405
 3877 001c 0123     		movs	r3, #1
 3878 001e 84F83430 		strb	r3, [r4, #52]
3261:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c **** 
 3879              		.loc 1 3261 3 is_stmt 1 view .LVU1406
3261:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c **** 
 3880              		.loc 1 3261 16 is_stmt 0 view .LVU1407
 3881 0022 0023     		movs	r3, #0
 3882 0024 2363     		str	r3, [r4, #48]
3266:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c **** #endif
 3883              		.loc 1 3266 3 is_stmt 1 view .LVU1408
 3884 0026 2046     		mov	r0, r4
 3885 0028 FFF7FEFF 		bl	HAL_SD_RxCpltCallback
 3886              	.LVL320:
3268:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c **** 
 3887              		.loc 1 3268 1 is_stmt 0 view .LVU1409
 3888 002c 10BD     		pop	{r4, pc}
 3889              	.LVL321:
 3890              	.L243:
3241:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****     if(errorstate != HAL_SD_ERROR_NONE)
 3891              		.loc 1 3241 5 is_stmt 1 view .LVU1410
3241:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****     if(errorstate != HAL_SD_ERROR_NONE)
 3892              		.loc 1 3241 18 is_stmt 0 view .LVU1411
ARM GAS  /tmp/ccECQX6D.s 			page 164


 3893 002e 2068     		ldr	r0, [r4]
 3894              	.LVL322:
3241:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****     if(errorstate != HAL_SD_ERROR_NONE)
 3895              		.loc 1 3241 18 view .LVU1412
 3896 0030 FFF7FEFF 		bl	SDMMC_CmdStopTransfer
 3897              	.LVL323:
3242:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****     {
 3898              		.loc 1 3242 5 is_stmt 1 view .LVU1413
3242:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****     {
 3899              		.loc 1 3242 7 is_stmt 0 view .LVU1414
 3900 0034 0346     		mov	r3, r0
 3901 0036 0028     		cmp	r0, #0
 3902 0038 E7D0     		beq	.L241
3244:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c **** #if (USE_HAL_SD_REGISTER_CALLBACKS == 1)
 3903              		.loc 1 3244 7 is_stmt 1 view .LVU1415
3244:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c **** #if (USE_HAL_SD_REGISTER_CALLBACKS == 1)
 3904              		.loc 1 3244 22 is_stmt 0 view .LVU1416
 3905 003a A26B     		ldr	r2, [r4, #56]
 3906 003c 1343     		orrs	r3, r3, r2
 3907 003e A363     		str	r3, [r4, #56]
3248:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c **** #endif
 3908              		.loc 1 3248 7 is_stmt 1 view .LVU1417
 3909 0040 2046     		mov	r0, r4
 3910              	.LVL324:
3248:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c **** #endif
 3911              		.loc 1 3248 7 is_stmt 0 view .LVU1418
 3912 0042 FFF7FEFF 		bl	HAL_SD_ErrorCallback
 3913              	.LVL325:
 3914 0046 E0E7     		b	.L241
 3915              		.cfi_endproc
 3916              	.LFE316:
 3918              		.section	.text.HAL_SD_AbortCallback,"ax",%progbits
 3919              		.align	1
 3920              		.weak	HAL_SD_AbortCallback
 3921              		.syntax unified
 3922              		.thumb
 3923              		.thumb_func
 3925              	HAL_SD_AbortCallback:
 3926              	.LVL326:
 3927              	.LFB306:
2068:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****   /* Prevent unused argument(s) compilation warning */
 3928              		.loc 1 2068 1 is_stmt 1 view -0
 3929              		.cfi_startproc
 3930              		@ args = 0, pretend = 0, frame = 0
 3931              		@ frame_needed = 0, uses_anonymous_args = 0
 3932              		@ link register save eliminated.
2070:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c **** 
 3933              		.loc 1 2070 3 view .LVU1420
2075:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c **** 
 3934              		.loc 1 2075 1 is_stmt 0 view .LVU1421
 3935 0000 7047     		bx	lr
 3936              		.cfi_endproc
 3937              	.LFE306:
 3939              		.section	.text.HAL_SD_GetCardCID,"ax",%progbits
 3940              		.align	1
 3941              		.global	HAL_SD_GetCardCID
 3942              		.syntax unified
ARM GAS  /tmp/ccECQX6D.s 			page 165


 3943              		.thumb
 3944              		.thumb_func
 3946              	HAL_SD_GetCardCID:
 3947              	.LVL327:
 3948              	.LFB307:
2385:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****   pCID->ManufacturerID = (uint8_t)((hsd->CID[0] & 0xFF000000U) >> 24U);
 3949              		.loc 1 2385 1 is_stmt 1 view -0
 3950              		.cfi_startproc
 3951              		@ args = 0, pretend = 0, frame = 0
 3952              		@ frame_needed = 0, uses_anonymous_args = 0
 3953              		@ link register save eliminated.
2386:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c **** 
 3954              		.loc 1 2386 3 view .LVU1423
2386:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c **** 
 3955              		.loc 1 2386 26 is_stmt 0 view .LVU1424
 3956 0000 90F87730 		ldrb	r3, [r0, #119]	@ zero_extendqisi2
2386:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c **** 
 3957              		.loc 1 2386 24 view .LVU1425
 3958 0004 0B70     		strb	r3, [r1]
2388:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c **** 
 3959              		.loc 1 2388 3 is_stmt 1 view .LVU1426
2388:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c **** 
 3960              		.loc 1 2388 43 is_stmt 0 view .LVU1427
 3961 0006 436F     		ldr	r3, [r0, #116]
2388:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c **** 
 3962              		.loc 1 2388 23 view .LVU1428
 3963 0008 C3F30F23 		ubfx	r3, r3, #8, #16
2388:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c **** 
 3964              		.loc 1 2388 21 view .LVU1429
 3965 000c 4B80     		strh	r3, [r1, #2]	@ movhi
2390:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c **** 
 3966              		.loc 1 2390 3 is_stmt 1 view .LVU1430
2390:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c **** 
 3967              		.loc 1 2390 32 is_stmt 0 view .LVU1431
 3968 000e 426F     		ldr	r2, [r0, #116]
2390:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c **** 
 3969              		.loc 1 2390 71 view .LVU1432
 3970 0010 836F     		ldr	r3, [r0, #120]
2390:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c **** 
 3971              		.loc 1 2390 90 view .LVU1433
 3972 0012 1B0A     		lsrs	r3, r3, #8
2390:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c **** 
 3973              		.loc 1 2390 59 view .LVU1434
 3974 0014 43EA0263 		orr	r3, r3, r2, lsl #24
2390:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c **** 
 3975              		.loc 1 2390 19 view .LVU1435
 3976 0018 4B60     		str	r3, [r1, #4]
2392:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c **** 
 3977              		.loc 1 2392 3 is_stmt 1 view .LVU1436
2392:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c **** 
 3978              		.loc 1 2392 21 is_stmt 0 view .LVU1437
 3979 001a 90F87830 		ldrb	r3, [r0, #120]	@ zero_extendqisi2
2392:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c **** 
 3980              		.loc 1 2392 19 view .LVU1438
 3981 001e 0B72     		strb	r3, [r1, #8]
2394:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c **** 
 3982              		.loc 1 2394 3 is_stmt 1 view .LVU1439
ARM GAS  /tmp/ccECQX6D.s 			page 166


2394:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c **** 
 3983              		.loc 1 2394 19 is_stmt 0 view .LVU1440
 3984 0020 90F87F30 		ldrb	r3, [r0, #127]	@ zero_extendqisi2
2394:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c **** 
 3985              		.loc 1 2394 17 view .LVU1441
 3986 0024 4B72     		strb	r3, [r1, #9]
2396:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c **** 
 3987              		.loc 1 2396 3 is_stmt 1 view .LVU1442
2396:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c **** 
 3988              		.loc 1 2396 29 is_stmt 0 view .LVU1443
 3989 0026 C26F     		ldr	r2, [r0, #124]
2396:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c **** 
 3990              		.loc 1 2396 86 view .LVU1444
 3991 0028 90F88330 		ldrb	r3, [r0, #131]	@ zero_extendqisi2
2396:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c **** 
 3992              		.loc 1 2396 55 view .LVU1445
 3993 002c 43EA0223 		orr	r3, r3, r2, lsl #8
2396:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c **** 
 3994              		.loc 1 2396 16 view .LVU1446
 3995 0030 CB60     		str	r3, [r1, #12]
2398:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c **** 
 3996              		.loc 1 2398 3 is_stmt 1 view .LVU1447
2398:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c **** 
 3997              		.loc 1 2398 40 is_stmt 0 view .LVU1448
 3998 0032 D0F88030 		ldr	r3, [r0, #128]
2398:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c **** 
 3999              		.loc 1 2398 21 view .LVU1449
 4000 0036 C3F30353 		ubfx	r3, r3, #20, #4
2398:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c **** 
 4001              		.loc 1 2398 19 view .LVU1450
 4002 003a 0B74     		strb	r3, [r1, #16]
2400:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c **** 
 4003              		.loc 1 2400 3 is_stmt 1 view .LVU1451
2400:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c **** 
 4004              		.loc 1 2400 44 is_stmt 0 view .LVU1452
 4005 003c D0F88030 		ldr	r3, [r0, #128]
2400:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c **** 
 4006              		.loc 1 2400 24 view .LVU1453
 4007 0040 C3F30B23 		ubfx	r3, r3, #8, #12
2400:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c **** 
 4008              		.loc 1 2400 22 view .LVU1454
 4009 0044 4B82     		strh	r3, [r1, #18]	@ movhi
2402:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c **** 
 4010              		.loc 1 2402 3 is_stmt 1 view .LVU1455
2402:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c **** 
 4011              		.loc 1 2402 38 is_stmt 0 view .LVU1456
 4012 0046 D0F88030 		ldr	r3, [r0, #128]
2402:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c **** 
 4013              		.loc 1 2402 19 view .LVU1457
 4014 004a C3F34603 		ubfx	r3, r3, #1, #7
2402:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c **** 
 4015              		.loc 1 2402 17 view .LVU1458
 4016 004e 0B75     		strb	r3, [r1, #20]
2404:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c **** 
 4017              		.loc 1 2404 3 is_stmt 1 view .LVU1459
2404:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c **** 
 4018              		.loc 1 2404 19 is_stmt 0 view .LVU1460
ARM GAS  /tmp/ccECQX6D.s 			page 167


 4019 0050 0123     		movs	r3, #1
 4020 0052 4B75     		strb	r3, [r1, #21]
2406:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c **** }
 4021              		.loc 1 2406 3 is_stmt 1 view .LVU1461
2407:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c **** 
 4022              		.loc 1 2407 1 is_stmt 0 view .LVU1462
 4023 0054 0020     		movs	r0, #0
 4024              	.LVL328:
2407:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c **** 
 4025              		.loc 1 2407 1 view .LVU1463
 4026 0056 7047     		bx	lr
 4027              		.cfi_endproc
 4028              	.LFE307:
 4030              		.section	.text.HAL_SD_GetCardCSD,"ax",%progbits
 4031              		.align	1
 4032              		.global	HAL_SD_GetCardCSD
 4033              		.syntax unified
 4034              		.thumb
 4035              		.thumb_func
 4037              	HAL_SD_GetCardCSD:
 4038              	.LVL329:
 4039              	.LFB308:
2418:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****   pCSD->CSDStruct = (uint8_t)((hsd->CSD[0] & 0xC0000000U) >> 30U);
 4040              		.loc 1 2418 1 is_stmt 1 view -0
 4041              		.cfi_startproc
 4042              		@ args = 0, pretend = 0, frame = 0
 4043              		@ frame_needed = 0, uses_anonymous_args = 0
 4044              		@ link register save eliminated.
2418:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****   pCSD->CSDStruct = (uint8_t)((hsd->CSD[0] & 0xC0000000U) >> 30U);
 4045              		.loc 1 2418 1 is_stmt 0 view .LVU1465
 4046 0000 0346     		mov	r3, r0
2419:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c **** 
 4047              		.loc 1 2419 3 is_stmt 1 view .LVU1466
2419:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c **** 
 4048              		.loc 1 2419 40 is_stmt 0 view .LVU1467
 4049 0002 426E     		ldr	r2, [r0, #100]
2419:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c **** 
 4050              		.loc 1 2419 21 view .LVU1468
 4051 0004 920F     		lsrs	r2, r2, #30
2419:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c **** 
 4052              		.loc 1 2419 19 view .LVU1469
 4053 0006 0A70     		strb	r2, [r1]
2421:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c **** 
 4054              		.loc 1 2421 3 is_stmt 1 view .LVU1470
2421:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c **** 
 4055              		.loc 1 2421 45 is_stmt 0 view .LVU1471
 4056 0008 426E     		ldr	r2, [r0, #100]
2421:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c **** 
 4057              		.loc 1 2421 26 view .LVU1472
 4058 000a C2F38362 		ubfx	r2, r2, #26, #4
2421:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c **** 
 4059              		.loc 1 2421 24 view .LVU1473
 4060 000e 4A70     		strb	r2, [r1, #1]
2423:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c **** 
 4061              		.loc 1 2423 3 is_stmt 1 view .LVU1474
2423:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c **** 
 4062              		.loc 1 2423 59 is_stmt 0 view .LVU1475
ARM GAS  /tmp/ccECQX6D.s 			page 168


 4063 0010 90F86720 		ldrb	r2, [r0, #103]	@ zero_extendqisi2
2423:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c **** 
 4064              		.loc 1 2423 21 view .LVU1476
 4065 0014 02F00302 		and	r2, r2, #3
2423:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c **** 
 4066              		.loc 1 2423 19 view .LVU1477
 4067 0018 8A70     		strb	r2, [r1, #2]
2425:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c **** 
 4068              		.loc 1 2425 3 is_stmt 1 view .LVU1478
2425:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c **** 
 4069              		.loc 1 2425 16 is_stmt 0 view .LVU1479
 4070 001a 90F86620 		ldrb	r2, [r0, #102]	@ zero_extendqisi2
2425:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c **** 
 4071              		.loc 1 2425 14 view .LVU1480
 4072 001e CA70     		strb	r2, [r1, #3]
2427:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c **** 
 4073              		.loc 1 2427 3 is_stmt 1 view .LVU1481
2427:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c **** 
 4074              		.loc 1 2427 16 is_stmt 0 view .LVU1482
 4075 0020 90F86520 		ldrb	r2, [r0, #101]	@ zero_extendqisi2
2427:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c **** 
 4076              		.loc 1 2427 14 view .LVU1483
 4077 0024 0A71     		strb	r2, [r1, #4]
2429:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c **** 
 4078              		.loc 1 2429 3 is_stmt 1 view .LVU1484
2429:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c **** 
 4079              		.loc 1 2429 25 is_stmt 0 view .LVU1485
 4080 0026 90F86420 		ldrb	r2, [r0, #100]	@ zero_extendqisi2
2429:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c **** 
 4081              		.loc 1 2429 23 view .LVU1486
 4082 002a 4A71     		strb	r2, [r1, #5]
2431:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c **** 
 4083              		.loc 1 2431 3 is_stmt 1 view .LVU1487
2431:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c **** 
 4084              		.loc 1 2431 47 is_stmt 0 view .LVU1488
 4085 002c 826E     		ldr	r2, [r0, #104]
2431:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c **** 
 4086              		.loc 1 2431 27 view .LVU1489
 4087 002e 120D     		lsrs	r2, r2, #20
2431:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c **** 
 4088              		.loc 1 2431 25 view .LVU1490
 4089 0030 CA80     		strh	r2, [r1, #6]	@ movhi
2433:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c **** 
 4090              		.loc 1 2433 3 is_stmt 1 view .LVU1491
2433:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c **** 
 4091              		.loc 1 2433 60 is_stmt 0 view .LVU1492
 4092 0032 B0F86A20 		ldrh	r2, [r0, #106]
2433:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c **** 
 4093              		.loc 1 2433 22 view .LVU1493
 4094 0036 02F00F02 		and	r2, r2, #15
2433:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c **** 
 4095              		.loc 1 2433 20 view .LVU1494
 4096 003a 0A72     		strb	r2, [r1, #8]
2435:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c **** 
 4097              		.loc 1 2435 3 is_stmt 1 view .LVU1495
2435:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c **** 
 4098              		.loc 1 2435 46 is_stmt 0 view .LVU1496
ARM GAS  /tmp/ccECQX6D.s 			page 169


 4099 003c 826E     		ldr	r2, [r0, #104]
2435:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c **** 
 4100              		.loc 1 2435 27 view .LVU1497
 4101 003e C2F3C032 		ubfx	r2, r2, #15, #1
2435:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c **** 
 4102              		.loc 1 2435 25 view .LVU1498
 4103 0042 4A72     		strb	r2, [r1, #9]
2437:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c **** 
 4104              		.loc 1 2437 3 is_stmt 1 view .LVU1499
2437:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c **** 
 4105              		.loc 1 2437 46 is_stmt 0 view .LVU1500
 4106 0044 826E     		ldr	r2, [r0, #104]
2437:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c **** 
 4107              		.loc 1 2437 27 view .LVU1501
 4108 0046 C2F38032 		ubfx	r2, r2, #14, #1
2437:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c **** 
 4109              		.loc 1 2437 25 view .LVU1502
 4110 004a 8A72     		strb	r2, [r1, #10]
2439:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c **** 
 4111              		.loc 1 2439 3 is_stmt 1 view .LVU1503
2439:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c **** 
 4112              		.loc 1 2439 46 is_stmt 0 view .LVU1504
 4113 004c 826E     		ldr	r2, [r0, #104]
2439:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c **** 
 4114              		.loc 1 2439 27 view .LVU1505
 4115 004e C2F34032 		ubfx	r2, r2, #13, #1
2439:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c **** 
 4116              		.loc 1 2439 25 view .LVU1506
 4117 0052 CA72     		strb	r2, [r1, #11]
2441:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c **** 
 4118              		.loc 1 2441 3 is_stmt 1 view .LVU1507
2441:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c **** 
 4119              		.loc 1 2441 38 is_stmt 0 view .LVU1508
 4120 0054 826E     		ldr	r2, [r0, #104]
2441:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c **** 
 4121              		.loc 1 2441 19 view .LVU1509
 4122 0056 C2F30032 		ubfx	r2, r2, #12, #1
2441:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c **** 
 4123              		.loc 1 2441 17 view .LVU1510
 4124 005a 0A73     		strb	r2, [r1, #12]
2443:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c **** 
 4125              		.loc 1 2443 3 is_stmt 1 view .LVU1511
2443:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c **** 
 4126              		.loc 1 2443 19 is_stmt 0 view .LVU1512
 4127 005c 0022     		movs	r2, #0
 4128 005e 4A73     		strb	r2, [r1, #13]
2445:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****   {
 4129              		.loc 1 2445 3 is_stmt 1 view .LVU1513
2445:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****   {
 4130              		.loc 1 2445 17 is_stmt 0 view .LVU1514
 4131 0060 426C     		ldr	r2, [r0, #68]
2445:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****   {
 4132              		.loc 1 2445 5 view .LVU1515
 4133 0062 002A     		cmp	r2, #0
 4134 0064 40F08680 		bne	.L247
2447:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c **** 
 4135              		.loc 1 2447 5 is_stmt 1 view .LVU1516
ARM GAS  /tmp/ccECQX6D.s 			page 170


2447:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c **** 
 4136              		.loc 1 2447 35 is_stmt 0 view .LVU1517
 4137 0068 806E     		ldr	r0, [r0, #104]
 4138              	.LVL330:
2447:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c **** 
 4139              		.loc 1 2447 54 view .LVU1518
 4140 006a 40F6FC72 		movw	r2, #4092
 4141 006e 02EA8002 		and	r2, r2, r0, lsl #2
2447:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c **** 
 4142              		.loc 1 2447 73 view .LVU1519
 4143 0072 D86E     		ldr	r0, [r3, #108]
2447:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c **** 
 4144              		.loc 1 2447 61 view .LVU1520
 4145 0074 42EA9072 		orr	r2, r2, r0, lsr #30
2447:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c **** 
 4146              		.loc 1 2447 22 view .LVU1521
 4147 0078 0A61     		str	r2, [r1, #16]
2449:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c **** 
 4148              		.loc 1 2449 5 is_stmt 1 view .LVU1522
2449:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c **** 
 4149              		.loc 1 2449 51 is_stmt 0 view .LVU1523
 4150 007a DA6E     		ldr	r2, [r3, #108]
2449:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c **** 
 4151              		.loc 1 2449 32 view .LVU1524
 4152 007c C2F3C262 		ubfx	r2, r2, #27, #3
2449:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c **** 
 4153              		.loc 1 2449 30 view .LVU1525
 4154 0080 0A75     		strb	r2, [r1, #20]
2451:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c **** 
 4155              		.loc 1 2451 5 is_stmt 1 view .LVU1526
2451:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c **** 
 4156              		.loc 1 2451 70 is_stmt 0 view .LVU1527
 4157 0082 93F86F20 		ldrb	r2, [r3, #111]	@ zero_extendqisi2
2451:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c **** 
 4158              		.loc 1 2451 32 view .LVU1528
 4159 0086 02F00702 		and	r2, r2, #7
2451:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c **** 
 4160              		.loc 1 2451 30 view .LVU1529
 4161 008a 4A75     		strb	r2, [r1, #21]
2453:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c **** 
 4162              		.loc 1 2453 5 is_stmt 1 view .LVU1530
2453:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c **** 
 4163              		.loc 1 2453 51 is_stmt 0 view .LVU1531
 4164 008c DA6E     		ldr	r2, [r3, #108]
2453:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c **** 
 4165              		.loc 1 2453 32 view .LVU1532
 4166 008e C2F34252 		ubfx	r2, r2, #21, #3
2453:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c **** 
 4167              		.loc 1 2453 30 view .LVU1533
 4168 0092 8A75     		strb	r2, [r1, #22]
2455:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c **** 
 4169              		.loc 1 2455 5 is_stmt 1 view .LVU1534
2455:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c **** 
 4170              		.loc 1 2455 51 is_stmt 0 view .LVU1535
 4171 0094 DA6E     		ldr	r2, [r3, #108]
2455:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c **** 
 4172              		.loc 1 2455 32 view .LVU1536
ARM GAS  /tmp/ccECQX6D.s 			page 171


 4173 0096 C2F38242 		ubfx	r2, r2, #18, #3
2455:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c **** 
 4174              		.loc 1 2455 30 view .LVU1537
 4175 009a CA75     		strb	r2, [r1, #23]
2457:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c **** 
 4176              		.loc 1 2457 5 is_stmt 1 view .LVU1538
2457:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c **** 
 4177              		.loc 1 2457 46 is_stmt 0 view .LVU1539
 4178 009c DA6E     		ldr	r2, [r3, #108]
2457:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c **** 
 4179              		.loc 1 2457 27 view .LVU1540
 4180 009e C2F3C232 		ubfx	r2, r2, #15, #3
2457:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c **** 
 4181              		.loc 1 2457 25 view .LVU1541
 4182 00a2 0A76     		strb	r2, [r1, #24]
2459:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****     hsd->SdCard.BlockNbr *= (1UL << ((pCSD->DeviceSizeMul & 0x07U) + 2U));
 4183              		.loc 1 2459 5 is_stmt 1 view .LVU1542
2459:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****     hsd->SdCard.BlockNbr *= (1UL << ((pCSD->DeviceSizeMul & 0x07U) + 2U));
 4184              		.loc 1 2459 34 is_stmt 0 view .LVU1543
 4185 00a4 0A69     		ldr	r2, [r1, #16]
2459:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****     hsd->SdCard.BlockNbr *= (1UL << ((pCSD->DeviceSizeMul & 0x07U) + 2U));
 4186              		.loc 1 2459 47 view .LVU1544
 4187 00a6 0132     		adds	r2, r2, #1
2459:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****     hsd->SdCard.BlockNbr *= (1UL << ((pCSD->DeviceSizeMul & 0x07U) + 2U));
 4188              		.loc 1 2459 27 view .LVU1545
 4189 00a8 5A65     		str	r2, [r3, #84]
2460:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****     hsd->SdCard.BlockSize = (1UL << (pCSD->RdBlockLen & 0x0FU));
 4190              		.loc 1 2460 5 is_stmt 1 view .LVU1546
2460:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****     hsd->SdCard.BlockSize = (1UL << (pCSD->RdBlockLen & 0x0FU));
 4191              		.loc 1 2460 43 is_stmt 0 view .LVU1547
 4192 00aa 087E     		ldrb	r0, [r1, #24]	@ zero_extendqisi2
2460:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****     hsd->SdCard.BlockSize = (1UL << (pCSD->RdBlockLen & 0x0FU));
 4193              		.loc 1 2460 59 view .LVU1548
 4194 00ac 00F00700 		and	r0, r0, #7
2460:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****     hsd->SdCard.BlockSize = (1UL << (pCSD->RdBlockLen & 0x0FU));
 4195              		.loc 1 2460 68 view .LVU1549
 4196 00b0 0230     		adds	r0, r0, #2
2460:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****     hsd->SdCard.BlockSize = (1UL << (pCSD->RdBlockLen & 0x0FU));
 4197              		.loc 1 2460 26 view .LVU1550
 4198 00b2 8240     		lsls	r2, r2, r0
 4199 00b4 5A65     		str	r2, [r3, #84]
2461:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c **** 
 4200              		.loc 1 2461 5 is_stmt 1 view .LVU1551
2461:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c **** 
 4201              		.loc 1 2461 42 is_stmt 0 view .LVU1552
 4202 00b6 91F808C0 		ldrb	ip, [r1, #8]	@ zero_extendqisi2
2461:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c **** 
 4203              		.loc 1 2461 55 view .LVU1553
 4204 00ba 0CF00F0C 		and	ip, ip, #15
2461:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c **** 
 4205              		.loc 1 2461 34 view .LVU1554
 4206 00be 0120     		movs	r0, #1
 4207 00c0 00FA0CF0 		lsl	r0, r0, ip
2461:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c **** 
 4208              		.loc 1 2461 27 view .LVU1555
 4209 00c4 9865     		str	r0, [r3, #88]
2463:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****     hsd->SdCard.LogBlockSize = 512U;
ARM GAS  /tmp/ccECQX6D.s 			page 172


 4210              		.loc 1 2463 5 is_stmt 1 view .LVU1556
2463:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****     hsd->SdCard.LogBlockSize = 512U;
 4211              		.loc 1 2463 82 is_stmt 0 view .LVU1557
 4212 00c6 400A     		lsrs	r0, r0, #9
2463:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****     hsd->SdCard.LogBlockSize = 512U;
 4213              		.loc 1 2463 55 view .LVU1558
 4214 00c8 00FB02F2 		mul	r2, r0, r2
2463:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****     hsd->SdCard.LogBlockSize = 512U;
 4215              		.loc 1 2463 29 view .LVU1559
 4216 00cc DA65     		str	r2, [r3, #92]
2464:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****   }
 4217              		.loc 1 2464 5 is_stmt 1 view .LVU1560
2464:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****   }
 4218              		.loc 1 2464 30 is_stmt 0 view .LVU1561
 4219 00ce 4FF40072 		mov	r2, #512
 4220 00d2 1A66     		str	r2, [r3, #96]
 4221              	.L248:
2485:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c **** 
 4222              		.loc 1 2485 3 is_stmt 1 view .LVU1562
2485:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c **** 
 4223              		.loc 1 2485 42 is_stmt 0 view .LVU1563
 4224 00d4 DA6E     		ldr	r2, [r3, #108]
2485:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c **** 
 4225              		.loc 1 2485 23 view .LVU1564
 4226 00d6 C2F38032 		ubfx	r2, r2, #14, #1
2485:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c **** 
 4227              		.loc 1 2485 21 view .LVU1565
 4228 00da 4A76     		strb	r2, [r1, #25]
2487:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c **** 
 4229              		.loc 1 2487 3 is_stmt 1 view .LVU1566
2487:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c **** 
 4230              		.loc 1 2487 41 is_stmt 0 view .LVU1567
 4231 00dc DA6E     		ldr	r2, [r3, #108]
2487:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c **** 
 4232              		.loc 1 2487 22 view .LVU1568
 4233 00de C2F3C612 		ubfx	r2, r2, #7, #7
2487:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c **** 
 4234              		.loc 1 2487 20 view .LVU1569
 4235 00e2 8A76     		strb	r2, [r1, #26]
2489:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c **** 
 4236              		.loc 1 2489 3 is_stmt 1 view .LVU1570
2489:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c **** 
 4237              		.loc 1 2489 45 is_stmt 0 view .LVU1571
 4238 00e4 DA6E     		ldr	r2, [r3, #108]
2489:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c **** 
 4239              		.loc 1 2489 27 view .LVU1572
 4240 00e6 02F07F02 		and	r2, r2, #127
2489:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c **** 
 4241              		.loc 1 2489 25 view .LVU1573
 4242 00ea CA76     		strb	r2, [r1, #27]
2491:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c **** 
 4243              		.loc 1 2491 3 is_stmt 1 view .LVU1574
2491:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c **** 
 4244              		.loc 1 2491 48 is_stmt 0 view .LVU1575
 4245 00ec 1A6F     		ldr	r2, [r3, #112]
2491:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c **** 
 4246              		.loc 1 2491 29 view .LVU1576
ARM GAS  /tmp/ccECQX6D.s 			page 173


 4247 00ee D20F     		lsrs	r2, r2, #31
2491:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c **** 
 4248              		.loc 1 2491 27 view .LVU1577
 4249 00f0 0A77     		strb	r2, [r1, #28]
2493:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c **** 
 4250              		.loc 1 2493 3 is_stmt 1 view .LVU1578
2493:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c **** 
 4251              		.loc 1 2493 41 is_stmt 0 view .LVU1579
 4252 00f2 1A6F     		ldr	r2, [r3, #112]
2493:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c **** 
 4253              		.loc 1 2493 22 view .LVU1580
 4254 00f4 C2F34172 		ubfx	r2, r2, #29, #2
2493:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c **** 
 4255              		.loc 1 2493 20 view .LVU1581
 4256 00f8 4A77     		strb	r2, [r1, #29]
2495:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c **** 
 4257              		.loc 1 2495 3 is_stmt 1 view .LVU1582
2495:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c **** 
 4258              		.loc 1 2495 42 is_stmt 0 view .LVU1583
 4259 00fa 1A6F     		ldr	r2, [r3, #112]
2495:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c **** 
 4260              		.loc 1 2495 23 view .LVU1584
 4261 00fc C2F38262 		ubfx	r2, r2, #26, #3
2495:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c **** 
 4262              		.loc 1 2495 21 view .LVU1585
 4263 0100 8A77     		strb	r2, [r1, #30]
2497:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c **** 
 4264              		.loc 1 2497 3 is_stmt 1 view .LVU1586
2497:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c **** 
 4265              		.loc 1 2497 43 is_stmt 0 view .LVU1587
 4266 0102 1A6F     		ldr	r2, [r3, #112]
2497:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c **** 
 4267              		.loc 1 2497 24 view .LVU1588
 4268 0104 C2F38352 		ubfx	r2, r2, #22, #4
2497:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c **** 
 4269              		.loc 1 2497 22 view .LVU1589
 4270 0108 CA77     		strb	r2, [r1, #31]
2499:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c **** 
 4271              		.loc 1 2499 3 is_stmt 1 view .LVU1590
2499:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c **** 
 4272              		.loc 1 2499 50 is_stmt 0 view .LVU1591
 4273 010a 1A6F     		ldr	r2, [r3, #112]
2499:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c **** 
 4274              		.loc 1 2499 31 view .LVU1592
 4275 010c C2F34052 		ubfx	r2, r2, #21, #1
2499:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c **** 
 4276              		.loc 1 2499 29 view .LVU1593
 4277 0110 81F82020 		strb	r2, [r1, #32]
2501:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c **** 
 4278              		.loc 1 2501 3 is_stmt 1 view .LVU1594
2501:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c **** 
 4279              		.loc 1 2501 19 is_stmt 0 view .LVU1595
 4280 0114 0020     		movs	r0, #0
 4281 0116 81F82100 		strb	r0, [r1, #33]
2503:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c **** 
 4282              		.loc 1 2503 3 is_stmt 1 view .LVU1596
2503:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c **** 
ARM GAS  /tmp/ccECQX6D.s 			page 174


 4283              		.loc 1 2503 69 is_stmt 0 view .LVU1597
 4284 011a B3F87220 		ldrh	r2, [r3, #114]
2503:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c **** 
 4285              		.loc 1 2503 31 view .LVU1598
 4286 011e 02F00102 		and	r2, r2, #1
2503:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c **** 
 4287              		.loc 1 2503 29 view .LVU1599
 4288 0122 81F82220 		strb	r2, [r1, #34]
2505:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c **** 
 4289              		.loc 1 2505 3 is_stmt 1 view .LVU1600
2505:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c **** 
 4290              		.loc 1 2505 46 is_stmt 0 view .LVU1601
 4291 0126 1A6F     		ldr	r2, [r3, #112]
2505:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c **** 
 4292              		.loc 1 2505 27 view .LVU1602
 4293 0128 C2F3C032 		ubfx	r2, r2, #15, #1
2505:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c **** 
 4294              		.loc 1 2505 25 view .LVU1603
 4295 012c 81F82320 		strb	r2, [r1, #35]
2507:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c **** 
 4296              		.loc 1 2507 3 is_stmt 1 view .LVU1604
2507:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c **** 
 4297              		.loc 1 2507 39 is_stmt 0 view .LVU1605
 4298 0130 1A6F     		ldr	r2, [r3, #112]
2507:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c **** 
 4299              		.loc 1 2507 20 view .LVU1606
 4300 0132 C2F38032 		ubfx	r2, r2, #14, #1
2507:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c **** 
 4301              		.loc 1 2507 18 view .LVU1607
 4302 0136 81F82420 		strb	r2, [r1, #36]
2509:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c **** 
 4303              		.loc 1 2509 3 is_stmt 1 view .LVU1608
2509:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c **** 
 4304              		.loc 1 2509 44 is_stmt 0 view .LVU1609
 4305 013a 1A6F     		ldr	r2, [r3, #112]
2509:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c **** 
 4306              		.loc 1 2509 25 view .LVU1610
 4307 013c C2F34032 		ubfx	r2, r2, #13, #1
2509:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c **** 
 4308              		.loc 1 2509 23 view .LVU1611
 4309 0140 81F82520 		strb	r2, [r1, #37]
2511:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c **** 
 4310              		.loc 1 2511 3 is_stmt 1 view .LVU1612
2511:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c **** 
 4311              		.loc 1 2511 44 is_stmt 0 view .LVU1613
 4312 0144 1A6F     		ldr	r2, [r3, #112]
2511:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c **** 
 4313              		.loc 1 2511 25 view .LVU1614
 4314 0146 C2F30032 		ubfx	r2, r2, #12, #1
2511:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c **** 
 4315              		.loc 1 2511 23 view .LVU1615
 4316 014a 81F82620 		strb	r2, [r1, #38]
2513:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c **** 
 4317              		.loc 1 2513 3 is_stmt 1 view .LVU1616
2513:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c **** 
 4318              		.loc 1 2513 41 is_stmt 0 view .LVU1617
 4319 014e 1A6F     		ldr	r2, [r3, #112]
ARM GAS  /tmp/ccECQX6D.s 			page 175


2513:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c **** 
 4320              		.loc 1 2513 22 view .LVU1618
 4321 0150 C2F38122 		ubfx	r2, r2, #10, #2
2513:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c **** 
 4322              		.loc 1 2513 20 view .LVU1619
 4323 0154 81F82720 		strb	r2, [r1, #39]
2515:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c **** 
 4324              		.loc 1 2515 3 is_stmt 1 view .LVU1620
2515:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c **** 
 4325              		.loc 1 2515 33 is_stmt 0 view .LVU1621
 4326 0158 1A6F     		ldr	r2, [r3, #112]
2515:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c **** 
 4327              		.loc 1 2515 14 view .LVU1622
 4328 015a C2F30122 		ubfx	r2, r2, #8, #2
2515:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c **** 
 4329              		.loc 1 2515 12 view .LVU1623
 4330 015e 81F82820 		strb	r2, [r1, #40]
2517:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c **** 
 4331              		.loc 1 2517 3 is_stmt 1 view .LVU1624
2517:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c **** 
 4332              		.loc 1 2517 38 is_stmt 0 view .LVU1625
 4333 0162 1B6F     		ldr	r3, [r3, #112]
 4334              	.LVL331:
2517:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c **** 
 4335              		.loc 1 2517 19 view .LVU1626
 4336 0164 C3F34603 		ubfx	r3, r3, #1, #7
2517:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c **** 
 4337              		.loc 1 2517 17 view .LVU1627
 4338 0168 81F82930 		strb	r3, [r1, #41]
2519:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c **** 
 4339              		.loc 1 2519 3 is_stmt 1 view .LVU1628
2519:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c **** 
 4340              		.loc 1 2519 19 is_stmt 0 view .LVU1629
 4341 016c 0123     		movs	r3, #1
 4342 016e 81F82A30 		strb	r3, [r1, #42]
2521:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c **** }
 4343              		.loc 1 2521 3 is_stmt 1 view .LVU1630
2522:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c **** 
 4344              		.loc 1 2522 1 is_stmt 0 view .LVU1631
 4345 0172 7047     		bx	lr
 4346              	.LVL332:
 4347              	.L247:
2466:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****   {
 4348              		.loc 1 2466 8 is_stmt 1 view .LVU1632
2466:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****   {
 4349              		.loc 1 2466 10 is_stmt 0 view .LVU1633
 4350 0174 012A     		cmp	r2, #1
 4351 0176 11D1     		bne	.L249
2469:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c **** 
 4352              		.loc 1 2469 5 is_stmt 1 view .LVU1634
2469:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c **** 
 4353              		.loc 1 2469 35 is_stmt 0 view .LVU1635
 4354 0178 826E     		ldr	r2, [r0, #104]
2469:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c **** 
 4355              		.loc 1 2469 54 view .LVU1636
 4356 017a 1204     		lsls	r2, r2, #16
 4357 017c 02F47C12 		and	r2, r2, #4128768
ARM GAS  /tmp/ccECQX6D.s 			page 176


2469:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c **** 
 4358              		.loc 1 2469 93 view .LVU1637
 4359 0180 B0F86E00 		ldrh	r0, [r0, #110]
 4360              	.LVL333:
2469:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c **** 
 4361              		.loc 1 2469 62 view .LVU1638
 4362 0184 0243     		orrs	r2, r2, r0
2469:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c **** 
 4363              		.loc 1 2469 22 view .LVU1639
 4364 0186 0A61     		str	r2, [r1, #16]
2471:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****     hsd->SdCard.LogBlockNbr = hsd->SdCard.BlockNbr;
 4365              		.loc 1 2471 5 is_stmt 1 view .LVU1640
2471:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****     hsd->SdCard.LogBlockNbr = hsd->SdCard.BlockNbr;
 4366              		.loc 1 2471 34 is_stmt 0 view .LVU1641
 4367 0188 0A69     		ldr	r2, [r1, #16]
2471:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****     hsd->SdCard.LogBlockNbr = hsd->SdCard.BlockNbr;
 4368              		.loc 1 2471 47 view .LVU1642
 4369 018a 0132     		adds	r2, r2, #1
2471:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****     hsd->SdCard.LogBlockNbr = hsd->SdCard.BlockNbr;
 4370              		.loc 1 2471 53 view .LVU1643
 4371 018c 9202     		lsls	r2, r2, #10
2471:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****     hsd->SdCard.LogBlockNbr = hsd->SdCard.BlockNbr;
 4372              		.loc 1 2471 26 view .LVU1644
 4373 018e 5A65     		str	r2, [r3, #84]
2472:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****     hsd->SdCard.BlockSize = 512U;
 4374              		.loc 1 2472 5 is_stmt 1 view .LVU1645
2472:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****     hsd->SdCard.BlockSize = 512U;
 4375              		.loc 1 2472 29 is_stmt 0 view .LVU1646
 4376 0190 DA65     		str	r2, [r3, #92]
2473:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****     hsd->SdCard.LogBlockSize = hsd->SdCard.BlockSize;
 4377              		.loc 1 2473 5 is_stmt 1 view .LVU1647
2473:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****     hsd->SdCard.LogBlockSize = hsd->SdCard.BlockSize;
 4378              		.loc 1 2473 27 is_stmt 0 view .LVU1648
 4379 0192 4FF40072 		mov	r2, #512
 4380 0196 9A65     		str	r2, [r3, #88]
2474:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****   }
 4381              		.loc 1 2474 5 is_stmt 1 view .LVU1649
2474:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****   }
 4382              		.loc 1 2474 30 is_stmt 0 view .LVU1650
 4383 0198 1A66     		str	r2, [r3, #96]
 4384 019a 9BE7     		b	.L248
 4385              	.LVL334:
 4386              	.L249:
2479:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****     hsd->ErrorCode |= HAL_SD_ERROR_UNSUPPORTED_FEATURE;
 4387              		.loc 1 2479 5 is_stmt 1 view .LVU1651
 4388 019c 0268     		ldr	r2, [r0]
 4389 019e 0549     		ldr	r1, .L251
 4390              	.LVL335:
2479:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****     hsd->ErrorCode |= HAL_SD_ERROR_UNSUPPORTED_FEATURE;
 4391              		.loc 1 2479 5 is_stmt 0 view .LVU1652
 4392 01a0 9163     		str	r1, [r2, #56]
2480:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****     hsd->State = HAL_SD_STATE_READY;
 4393              		.loc 1 2480 5 is_stmt 1 view .LVU1653
2480:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****     hsd->State = HAL_SD_STATE_READY;
 4394              		.loc 1 2480 20 is_stmt 0 view .LVU1654
 4395 01a2 826B     		ldr	r2, [r0, #56]
 4396 01a4 42F08052 		orr	r2, r2, #268435456
ARM GAS  /tmp/ccECQX6D.s 			page 177


 4397 01a8 8263     		str	r2, [r0, #56]
2481:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****     return HAL_ERROR;
 4398              		.loc 1 2481 5 is_stmt 1 view .LVU1655
2481:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****     return HAL_ERROR;
 4399              		.loc 1 2481 16 is_stmt 0 view .LVU1656
 4400 01aa 0120     		movs	r0, #1
 4401              	.LVL336:
2481:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****     return HAL_ERROR;
 4402              		.loc 1 2481 16 view .LVU1657
 4403 01ac 83F83400 		strb	r0, [r3, #52]
2482:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****   }
 4404              		.loc 1 2482 5 is_stmt 1 view .LVU1658
2482:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****   }
 4405              		.loc 1 2482 12 is_stmt 0 view .LVU1659
 4406 01b0 7047     		bx	lr
 4407              	.L252:
 4408 01b2 00BF     		.align	2
 4409              	.L251:
 4410 01b4 FF054000 		.word	4195839
 4411              		.cfi_endproc
 4412              	.LFE308:
 4414              		.section	.text.SD_InitCard,"ax",%progbits
 4415              		.align	1
 4416              		.syntax unified
 4417              		.thumb
 4418              		.thumb_func
 4420              	SD_InitCard:
 4421              	.LVL337:
 4422              	.LFB320:
3395:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****   HAL_SD_CardCSDTypeDef CSD;
 4423              		.loc 1 3395 1 is_stmt 1 view -0
 4424              		.cfi_startproc
 4425              		@ args = 0, pretend = 0, frame = 48
 4426              		@ frame_needed = 0, uses_anonymous_args = 0
3395:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****   HAL_SD_CardCSDTypeDef CSD;
 4427              		.loc 1 3395 1 is_stmt 0 view .LVU1661
 4428 0000 70B5     		push	{r4, r5, r6, lr}
 4429              		.cfi_def_cfa_offset 16
 4430              		.cfi_offset 4, -16
 4431              		.cfi_offset 5, -12
 4432              		.cfi_offset 6, -8
 4433              		.cfi_offset 14, -4
 4434 0002 90B0     		sub	sp, sp, #64
 4435              		.cfi_def_cfa_offset 80
 4436 0004 0446     		mov	r4, r0
3396:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****   uint32_t errorstate;
 4437              		.loc 1 3396 3 is_stmt 1 view .LVU1662
3397:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****   uint16_t sd_rca = 1U;
 4438              		.loc 1 3397 3 view .LVU1663
3398:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c **** 
 4439              		.loc 1 3398 3 view .LVU1664
3398:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c **** 
 4440              		.loc 1 3398 12 is_stmt 0 view .LVU1665
 4441 0006 0123     		movs	r3, #1
 4442 0008 ADF81230 		strh	r3, [sp, #18]	@ movhi
3401:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****   {
 4443              		.loc 1 3401 3 is_stmt 1 view .LVU1666
ARM GAS  /tmp/ccECQX6D.s 			page 178


3401:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****   {
 4444              		.loc 1 3401 6 is_stmt 0 view .LVU1667
 4445 000c 0068     		ldr	r0, [r0]
 4446              	.LVL338:
3401:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****   {
 4447              		.loc 1 3401 6 view .LVU1668
 4448 000e FFF7FEFF 		bl	SDMMC_GetPowerState
 4449              	.LVL339:
3401:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****   {
 4450              		.loc 1 3401 5 view .LVU1669
 4451 0012 0028     		cmp	r0, #0
 4452 0014 6CD0     		beq	.L258
3407:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****   {
 4453              		.loc 1 3407 3 is_stmt 1 view .LVU1670
3407:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****   {
 4454              		.loc 1 3407 17 is_stmt 0 view .LVU1671
 4455 0016 636C     		ldr	r3, [r4, #68]
3407:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****   {
 4456              		.loc 1 3407 5 view .LVU1672
 4457 0018 032B     		cmp	r3, #3
 4458 001a 45D1     		bne	.L261
 4459              	.L255:
3425:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****   {
 4460              		.loc 1 3425 3 is_stmt 1 view .LVU1673
3425:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****   {
 4461              		.loc 1 3425 17 is_stmt 0 view .LVU1674
 4462 001c 636C     		ldr	r3, [r4, #68]
3425:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****   {
 4463              		.loc 1 3425 5 view .LVU1675
 4464 001e 032B     		cmp	r3, #3
 4465 0020 5DD1     		bne	.L262
 4466              	.L256:
3435:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****   {
 4467              		.loc 1 3435 3 is_stmt 1 view .LVU1676
3435:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****   {
 4468              		.loc 1 3435 17 is_stmt 0 view .LVU1677
 4469 0022 636C     		ldr	r3, [r4, #68]
3435:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****   {
 4470              		.loc 1 3435 5 view .LVU1678
 4471 0024 032B     		cmp	r3, #3
 4472 0026 1DD0     		beq	.L257
3438:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c **** 
 4473              		.loc 1 3438 5 is_stmt 1 view .LVU1679
3438:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c **** 
 4474              		.loc 1 3438 28 is_stmt 0 view .LVU1680
 4475 0028 BDF81210 		ldrh	r1, [sp, #18]
 4476 002c 2165     		str	r1, [r4, #80]
3441:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****     if(errorstate != HAL_SD_ERROR_NONE)
 4477              		.loc 1 3441 5 is_stmt 1 view .LVU1681
3441:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****     if(errorstate != HAL_SD_ERROR_NONE)
 4478              		.loc 1 3441 18 is_stmt 0 view .LVU1682
 4479 002e 0904     		lsls	r1, r1, #16
 4480 0030 2068     		ldr	r0, [r4]
 4481 0032 FFF7FEFF 		bl	SDMMC_CmdSendCSD
 4482              	.LVL340:
3442:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****     {
 4483              		.loc 1 3442 5 is_stmt 1 view .LVU1683
ARM GAS  /tmp/ccECQX6D.s 			page 179


3442:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****     {
 4484              		.loc 1 3442 7 is_stmt 0 view .LVU1684
 4485 0036 0546     		mov	r5, r0
 4486 0038 0028     		cmp	r0, #0
 4487 003a 5BD1     		bne	.L253
3449:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****       hsd->CSD[1U] = SDMMC_GetResponse(hsd->Instance, SDMMC_RESP2);
 4488              		.loc 1 3449 7 is_stmt 1 view .LVU1685
3449:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****       hsd->CSD[1U] = SDMMC_GetResponse(hsd->Instance, SDMMC_RESP2);
 4489              		.loc 1 3449 22 is_stmt 0 view .LVU1686
 4490 003c 0021     		movs	r1, #0
 4491 003e 2068     		ldr	r0, [r4]
 4492              	.LVL341:
3449:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****       hsd->CSD[1U] = SDMMC_GetResponse(hsd->Instance, SDMMC_RESP2);
 4493              		.loc 1 3449 22 view .LVU1687
 4494 0040 FFF7FEFF 		bl	SDMMC_GetResponse
 4495              	.LVL342:
3449:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****       hsd->CSD[1U] = SDMMC_GetResponse(hsd->Instance, SDMMC_RESP2);
 4496              		.loc 1 3449 20 view .LVU1688
 4497 0044 6066     		str	r0, [r4, #100]
3450:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****       hsd->CSD[2U] = SDMMC_GetResponse(hsd->Instance, SDMMC_RESP3);
 4498              		.loc 1 3450 7 is_stmt 1 view .LVU1689
3450:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****       hsd->CSD[2U] = SDMMC_GetResponse(hsd->Instance, SDMMC_RESP3);
 4499              		.loc 1 3450 22 is_stmt 0 view .LVU1690
 4500 0046 0421     		movs	r1, #4
 4501 0048 2068     		ldr	r0, [r4]
 4502 004a FFF7FEFF 		bl	SDMMC_GetResponse
 4503              	.LVL343:
3450:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****       hsd->CSD[2U] = SDMMC_GetResponse(hsd->Instance, SDMMC_RESP3);
 4504              		.loc 1 3450 20 view .LVU1691
 4505 004e A066     		str	r0, [r4, #104]
3451:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****       hsd->CSD[3U] = SDMMC_GetResponse(hsd->Instance, SDMMC_RESP4);
 4506              		.loc 1 3451 7 is_stmt 1 view .LVU1692
3451:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****       hsd->CSD[3U] = SDMMC_GetResponse(hsd->Instance, SDMMC_RESP4);
 4507              		.loc 1 3451 22 is_stmt 0 view .LVU1693
 4508 0050 0821     		movs	r1, #8
 4509 0052 2068     		ldr	r0, [r4]
 4510 0054 FFF7FEFF 		bl	SDMMC_GetResponse
 4511              	.LVL344:
3451:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****       hsd->CSD[3U] = SDMMC_GetResponse(hsd->Instance, SDMMC_RESP4);
 4512              		.loc 1 3451 20 view .LVU1694
 4513 0058 E066     		str	r0, [r4, #108]
3452:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****     }
 4514              		.loc 1 3452 7 is_stmt 1 view .LVU1695
3452:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****     }
 4515              		.loc 1 3452 22 is_stmt 0 view .LVU1696
 4516 005a 0C21     		movs	r1, #12
 4517 005c 2068     		ldr	r0, [r4]
 4518 005e FFF7FEFF 		bl	SDMMC_GetResponse
 4519              	.LVL345:
3452:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****     }
 4520              		.loc 1 3452 20 view .LVU1697
 4521 0062 2067     		str	r0, [r4, #112]
 4522              	.LVL346:
 4523              	.L257:
3457:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c **** 
 4524              		.loc 1 3457 3 is_stmt 1 view .LVU1698
3457:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c **** 
ARM GAS  /tmp/ccECQX6D.s 			page 180


 4525              		.loc 1 3457 24 is_stmt 0 view .LVU1699
 4526 0064 0421     		movs	r1, #4
 4527 0066 2068     		ldr	r0, [r4]
 4528 0068 FFF7FEFF 		bl	SDMMC_GetResponse
 4529              	.LVL347:
3457:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c **** 
 4530              		.loc 1 3457 70 view .LVU1700
 4531 006c 000D     		lsrs	r0, r0, #20
3457:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c **** 
 4532              		.loc 1 3457 21 view .LVU1701
 4533 006e E064     		str	r0, [r4, #76]
3460:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****   {
 4534              		.loc 1 3460 3 is_stmt 1 view .LVU1702
3460:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****   {
 4535              		.loc 1 3460 7 is_stmt 0 view .LVU1703
 4536 0070 05A9     		add	r1, sp, #20
 4537 0072 2046     		mov	r0, r4
 4538 0074 FFF7FEFF 		bl	HAL_SD_GetCardCSD
 4539              	.LVL348:
3460:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****   {
 4540              		.loc 1 3460 6 view .LVU1704
 4541 0078 0028     		cmp	r0, #0
 4542 007a 3ED1     		bne	.L259
3466:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****   if(errorstate != HAL_SD_ERROR_NONE)
 4543              		.loc 1 3466 3 is_stmt 1 view .LVU1705
3466:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****   if(errorstate != HAL_SD_ERROR_NONE)
 4544              		.loc 1 3466 82 is_stmt 0 view .LVU1706
 4545 007c 226D     		ldr	r2, [r4, #80]
3466:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****   if(errorstate != HAL_SD_ERROR_NONE)
 4546              		.loc 1 3466 16 view .LVU1707
 4547 007e 1204     		lsls	r2, r2, #16
 4548 0080 0023     		movs	r3, #0
 4549 0082 2068     		ldr	r0, [r4]
 4550 0084 FFF7FEFF 		bl	SDMMC_CmdSelDesel
 4551              	.LVL349:
3467:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****   {
 4552              		.loc 1 3467 3 is_stmt 1 view .LVU1708
3467:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****   {
 4553              		.loc 1 3467 5 is_stmt 0 view .LVU1709
 4554 0088 0546     		mov	r5, r0
 4555 008a 98BB     		cbnz	r0, .L253
3474:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c **** #endif /* !STM32L4P5xx && !STM32L4Q5xx && !STM32L4R5xx && !STM32L4R7xx && !STM32L4R9xx && !STM32L4S
 4556              		.loc 1 3474 3 is_stmt 1 view .LVU1710
3474:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c **** #endif /* !STM32L4P5xx && !STM32L4Q5xx && !STM32L4R5xx && !STM32L4R7xx && !STM32L4R9xx && !STM32L4S
 4557              		.loc 1 3474 9 is_stmt 0 view .LVU1711
 4558 008c 2346     		mov	r3, r4
 4559 008e 53F8106B 		ldr	r6, [r3], #16
 4560 0092 93E80700 		ldm	r3, {r0, r1, r2}
 4561              	.LVL350:
3474:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c **** #endif /* !STM32L4P5xx && !STM32L4Q5xx && !STM32L4R5xx && !STM32L4R7xx && !STM32L4R9xx && !STM32L4S
 4562              		.loc 1 3474 9 view .LVU1712
 4563 0096 8DE80700 		stm	sp, {r0, r1, r2}
 4564 009a 0434     		adds	r4, r4, #4
 4565              	.LVL351:
3474:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c **** #endif /* !STM32L4P5xx && !STM32L4Q5xx && !STM32L4R5xx && !STM32L4R7xx && !STM32L4R9xx && !STM32L4S
 4566              		.loc 1 3474 9 view .LVU1713
 4567 009c 94E80E00 		ldm	r4, {r1, r2, r3}
ARM GAS  /tmp/ccECQX6D.s 			page 181


 4568 00a0 3046     		mov	r0, r6
 4569 00a2 FFF7FEFF 		bl	SDMMC_Init
 4570              	.LVL352:
3478:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c **** }
 4571              		.loc 1 3478 3 is_stmt 1 view .LVU1714
3478:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c **** }
 4572              		.loc 1 3478 10 is_stmt 0 view .LVU1715
 4573 00a6 25E0     		b	.L253
 4574              	.LVL353:
 4575              	.L261:
3410:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****     if(errorstate != HAL_SD_ERROR_NONE)
 4576              		.loc 1 3410 5 is_stmt 1 view .LVU1716
3410:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****     if(errorstate != HAL_SD_ERROR_NONE)
 4577              		.loc 1 3410 18 is_stmt 0 view .LVU1717
 4578 00a8 2068     		ldr	r0, [r4]
 4579 00aa FFF7FEFF 		bl	SDMMC_CmdSendCID
 4580              	.LVL354:
3411:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****     {
 4581              		.loc 1 3411 5 is_stmt 1 view .LVU1718
3411:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****     {
 4582              		.loc 1 3411 7 is_stmt 0 view .LVU1719
 4583 00ae 0546     		mov	r5, r0
 4584 00b0 00BB     		cbnz	r0, .L253
3418:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****       hsd->CID[1U] = SDMMC_GetResponse(hsd->Instance, SDMMC_RESP2);
 4585              		.loc 1 3418 7 is_stmt 1 view .LVU1720
3418:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****       hsd->CID[1U] = SDMMC_GetResponse(hsd->Instance, SDMMC_RESP2);
 4586              		.loc 1 3418 22 is_stmt 0 view .LVU1721
 4587 00b2 0021     		movs	r1, #0
 4588 00b4 2068     		ldr	r0, [r4]
 4589              	.LVL355:
3418:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****       hsd->CID[1U] = SDMMC_GetResponse(hsd->Instance, SDMMC_RESP2);
 4590              		.loc 1 3418 22 view .LVU1722
 4591 00b6 FFF7FEFF 		bl	SDMMC_GetResponse
 4592              	.LVL356:
3418:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****       hsd->CID[1U] = SDMMC_GetResponse(hsd->Instance, SDMMC_RESP2);
 4593              		.loc 1 3418 20 view .LVU1723
 4594 00ba 6067     		str	r0, [r4, #116]
3419:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****       hsd->CID[2U] = SDMMC_GetResponse(hsd->Instance, SDMMC_RESP3);
 4595              		.loc 1 3419 7 is_stmt 1 view .LVU1724
3419:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****       hsd->CID[2U] = SDMMC_GetResponse(hsd->Instance, SDMMC_RESP3);
 4596              		.loc 1 3419 22 is_stmt 0 view .LVU1725
 4597 00bc 0421     		movs	r1, #4
 4598 00be 2068     		ldr	r0, [r4]
 4599 00c0 FFF7FEFF 		bl	SDMMC_GetResponse
 4600              	.LVL357:
3419:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****       hsd->CID[2U] = SDMMC_GetResponse(hsd->Instance, SDMMC_RESP3);
 4601              		.loc 1 3419 20 view .LVU1726
 4602 00c4 A067     		str	r0, [r4, #120]
3420:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****       hsd->CID[3U] = SDMMC_GetResponse(hsd->Instance, SDMMC_RESP4);
 4603              		.loc 1 3420 7 is_stmt 1 view .LVU1727
3420:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****       hsd->CID[3U] = SDMMC_GetResponse(hsd->Instance, SDMMC_RESP4);
 4604              		.loc 1 3420 22 is_stmt 0 view .LVU1728
 4605 00c6 0821     		movs	r1, #8
 4606 00c8 2068     		ldr	r0, [r4]
 4607 00ca FFF7FEFF 		bl	SDMMC_GetResponse
 4608              	.LVL358:
3420:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****       hsd->CID[3U] = SDMMC_GetResponse(hsd->Instance, SDMMC_RESP4);
ARM GAS  /tmp/ccECQX6D.s 			page 182


 4609              		.loc 1 3420 20 view .LVU1729
 4610 00ce E067     		str	r0, [r4, #124]
3421:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****     }
 4611              		.loc 1 3421 7 is_stmt 1 view .LVU1730
3421:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****     }
 4612              		.loc 1 3421 22 is_stmt 0 view .LVU1731
 4613 00d0 0C21     		movs	r1, #12
 4614 00d2 2068     		ldr	r0, [r4]
 4615 00d4 FFF7FEFF 		bl	SDMMC_GetResponse
 4616              	.LVL359:
3421:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****     }
 4617              		.loc 1 3421 20 view .LVU1732
 4618 00d8 C4F88000 		str	r0, [r4, #128]
 4619 00dc 9EE7     		b	.L255
 4620              	.LVL360:
 4621              	.L262:
3429:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****     if(errorstate != HAL_SD_ERROR_NONE)
 4622              		.loc 1 3429 5 is_stmt 1 view .LVU1733
3429:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****     if(errorstate != HAL_SD_ERROR_NONE)
 4623              		.loc 1 3429 18 is_stmt 0 view .LVU1734
 4624 00de 0DF11201 		add	r1, sp, #18
 4625 00e2 2068     		ldr	r0, [r4]
 4626 00e4 FFF7FEFF 		bl	SDMMC_CmdSetRelAdd
 4627              	.LVL361:
3430:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****     {
 4628              		.loc 1 3430 5 is_stmt 1 view .LVU1735
3430:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****     {
 4629              		.loc 1 3430 7 is_stmt 0 view .LVU1736
 4630 00e8 0546     		mov	r5, r0
 4631 00ea 0028     		cmp	r0, #0
 4632 00ec 99D0     		beq	.L256
 4633 00ee 01E0     		b	.L253
 4634              	.LVL362:
 4635              	.L258:
3404:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****   }
 4636              		.loc 1 3404 12 view .LVU1737
 4637 00f0 4FF08065 		mov	r5, #67108864
 4638              	.LVL363:
 4639              	.L253:
3479:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c **** 
 4640              		.loc 1 3479 1 view .LVU1738
 4641 00f4 2846     		mov	r0, r5
 4642 00f6 10B0     		add	sp, sp, #64
 4643              		.cfi_remember_state
 4644              		.cfi_def_cfa_offset 16
 4645              		@ sp needed
 4646 00f8 70BD     		pop	{r4, r5, r6, pc}
 4647              	.LVL364:
 4648              	.L259:
 4649              		.cfi_restore_state
3462:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****   }
 4650              		.loc 1 3462 12 view .LVU1739
 4651 00fa 4FF08055 		mov	r5, #268435456
 4652 00fe F9E7     		b	.L253
 4653              		.cfi_endproc
 4654              	.LFE320:
 4656              		.section	.text.HAL_SD_InitCard,"ax",%progbits
ARM GAS  /tmp/ccECQX6D.s 			page 183


 4657              		.align	1
 4658              		.global	HAL_SD_InitCard
 4659              		.syntax unified
 4660              		.thumb
 4661              		.thumb_func
 4663              	HAL_SD_InitCard:
 4664              	.LVL365:
 4665              	.LFB289:
 485:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****   uint32_t errorstate;
 4666              		.loc 1 485 1 is_stmt 1 view -0
 4667              		.cfi_startproc
 4668              		@ args = 0, pretend = 0, frame = 24
 4669              		@ frame_needed = 0, uses_anonymous_args = 0
 485:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****   uint32_t errorstate;
 4670              		.loc 1 485 1 is_stmt 0 view .LVU1741
 4671 0000 70B5     		push	{r4, r5, r6, lr}
 4672              		.cfi_def_cfa_offset 16
 4673              		.cfi_offset 4, -16
 4674              		.cfi_offset 5, -12
 4675              		.cfi_offset 6, -8
 4676              		.cfi_offset 14, -4
 4677 0002 8AB0     		sub	sp, sp, #40
 4678              		.cfi_def_cfa_offset 56
 4679 0004 0446     		mov	r4, r0
 486:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****   SD_InitTypeDef Init;
 4680              		.loc 1 486 3 is_stmt 1 view .LVU1742
 487:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****   uint32_t sdmmc_clk;
 4681              		.loc 1 487 3 view .LVU1743
 488:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c **** 
 4682              		.loc 1 488 3 view .LVU1744
 491:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c **** #if !defined(STM32L4P5xx) && !defined(STM32L4Q5xx) && !defined(STM32L4R5xx) && !defined(STM32L4R7xx
 4683              		.loc 1 491 3 view .LVU1745
 491:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c **** #if !defined(STM32L4P5xx) && !defined(STM32L4Q5xx) && !defined(STM32L4R5xx) && !defined(STM32L4R7xx
 4684              		.loc 1 491 28 is_stmt 0 view .LVU1746
 4685 0006 0023     		movs	r3, #0
 4686 0008 0493     		str	r3, [sp, #16]
 493:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c **** #endif /* !STM32L4P5xx && !STM32L4Q5xx && !STM32L4R5xx && !STM32L4R7xx && !STM32L4R9xx && !STM32L4S
 4687              		.loc 1 493 3 is_stmt 1 view .LVU1747
 493:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c **** #endif /* !STM32L4P5xx && !STM32L4Q5xx && !STM32L4R5xx && !STM32L4R7xx && !STM32L4R9xx && !STM32L4S
 4688              		.loc 1 493 28 is_stmt 0 view .LVU1748
 4689 000a 0593     		str	r3, [sp, #20]
 495:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****   Init.BusWide             = SDMMC_BUS_WIDE_1B;
 4690              		.loc 1 495 3 is_stmt 1 view .LVU1749
 495:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****   Init.BusWide             = SDMMC_BUS_WIDE_1B;
 4691              		.loc 1 495 28 is_stmt 0 view .LVU1750
 4692 000c 0693     		str	r3, [sp, #24]
 496:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****   Init.HardwareFlowControl = SDMMC_HARDWARE_FLOW_CONTROL_DISABLE;
 4693              		.loc 1 496 3 is_stmt 1 view .LVU1751
 496:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****   Init.HardwareFlowControl = SDMMC_HARDWARE_FLOW_CONTROL_DISABLE;
 4694              		.loc 1 496 28 is_stmt 0 view .LVU1752
 4695 000e 0793     		str	r3, [sp, #28]
 497:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c **** 
 4696              		.loc 1 497 3 is_stmt 1 view .LVU1753
 497:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c **** 
 4697              		.loc 1 497 28 is_stmt 0 view .LVU1754
 4698 0010 0893     		str	r3, [sp, #32]
 500:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****   if (sdmmc_clk == 0U)
ARM GAS  /tmp/ccECQX6D.s 			page 184


 4699              		.loc 1 500 3 is_stmt 1 view .LVU1755
 500:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****   if (sdmmc_clk == 0U)
 4700              		.loc 1 500 15 is_stmt 0 view .LVU1756
 4701 0012 4FF40020 		mov	r0, #524288
 4702              	.LVL366:
 500:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****   if (sdmmc_clk == 0U)
 4703              		.loc 1 500 15 view .LVU1757
 4704 0016 FFF7FEFF 		bl	HAL_RCCEx_GetPeriphCLKFreq
 4705              	.LVL367:
 501:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****   {
 4706              		.loc 1 501 3 is_stmt 1 view .LVU1758
 501:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****   {
 4707              		.loc 1 501 6 is_stmt 0 view .LVU1759
 4708 001a 38B9     		cbnz	r0, .L264
 503:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****       hsd->ErrorCode = SDMMC_ERROR_INVALID_PARAMETER;
 4709              		.loc 1 503 7 is_stmt 1 view .LVU1760
 503:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****       hsd->ErrorCode = SDMMC_ERROR_INVALID_PARAMETER;
 4710              		.loc 1 503 18 is_stmt 0 view .LVU1761
 4711 001c 0120     		movs	r0, #1
 4712              	.LVL368:
 503:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****       hsd->ErrorCode = SDMMC_ERROR_INVALID_PARAMETER;
 4713              		.loc 1 503 18 view .LVU1762
 4714 001e 84F83400 		strb	r0, [r4, #52]
 504:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****       return HAL_ERROR;
 4715              		.loc 1 504 7 is_stmt 1 view .LVU1763
 504:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****       return HAL_ERROR;
 4716              		.loc 1 504 22 is_stmt 0 view .LVU1764
 4717 0022 4FF00063 		mov	r3, #134217728
 4718 0026 A363     		str	r3, [r4, #56]
 505:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****   }
 4719              		.loc 1 505 7 is_stmt 1 view .LVU1765
 4720              	.L265:
 577:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c **** 
 4721              		.loc 1 577 1 is_stmt 0 view .LVU1766
 4722 0028 0AB0     		add	sp, sp, #40
 4723              		.cfi_remember_state
 4724              		.cfi_def_cfa_offset 16
 4725              		@ sp needed
 4726 002a 70BD     		pop	{r4, r5, r6, pc}
 4727              	.LVL369:
 4728              	.L264:
 4729              		.cfi_restore_state
 577:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c **** 
 4730              		.loc 1 577 1 view .LVU1767
 4731 002c 0646     		mov	r6, r0
 508:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c **** #else
 4732              		.loc 1 508 3 is_stmt 1 view .LVU1768
 508:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c **** #else
 4733              		.loc 1 508 31 is_stmt 0 view .LVU1769
 4734 002e C509     		lsrs	r5, r0, #7
 4735 0030 274B     		ldr	r3, .L271
 4736 0032 A3FB0535 		umull	r3, r5, r3, r5
 4737 0036 2D09     		lsrs	r5, r5, #4
 508:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c **** #else
 4738              		.loc 1 508 47 view .LVU1770
 4739 0038 AB1E     		subs	r3, r5, #2
 508:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c **** #else
ARM GAS  /tmp/ccECQX6D.s 			page 185


 4740              		.loc 1 508 17 view .LVU1771
 4741 003a 0993     		str	r3, [sp, #36]
 523:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c **** 
 4742              		.loc 1 523 3 is_stmt 1 view .LVU1772
 523:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c **** 
 4743              		.loc 1 523 9 is_stmt 0 view .LVU1773
 4744 003c 0AAB     		add	r3, sp, #40
 4745 003e 13E90700 		ldmdb	r3, {r0, r1, r2}
 4746              	.LVL370:
 523:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c **** 
 4747              		.loc 1 523 9 view .LVU1774
 4748 0042 8DE80700 		stm	sp, {r0, r1, r2}
 4749 0046 04AB     		add	r3, sp, #16
 4750 0048 0ECB     		ldm	r3, {r1, r2, r3}
 4751 004a 2068     		ldr	r0, [r4]
 4752 004c FFF7FEFF 		bl	SDMMC_Init
 4753              	.LVL371:
 527:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c **** #endif /* !STM32L4P5xx && !STM32L4Q5xx && !STM32L4R5xx && !STM32L4R7xx && !STM32L4R9xx && !STM32L4S
 4754              		.loc 1 527 3 is_stmt 1 view .LVU1775
 4755 0050 2268     		ldr	r2, [r4]
 4756 0052 5368     		ldr	r3, [r2, #4]
 4757 0054 23F48073 		bic	r3, r3, #256
 4758 0058 5360     		str	r3, [r2, #4]
 531:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c **** 
 4759              		.loc 1 531 3 view .LVU1776
 531:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c **** 
 4760              		.loc 1 531 9 is_stmt 0 view .LVU1777
 4761 005a 2068     		ldr	r0, [r4]
 4762 005c FFF7FEFF 		bl	SDMMC_PowerState_ON
 4763              	.LVL372:
 535:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c **** #endif /* !STM32L4P5xx && !STM32L4Q5xx && !STM32L4R5xx && !STM32L4R7xx && !STM32L4R9xx && !STM32L4S
 4764              		.loc 1 535 3 is_stmt 1 view .LVU1778
 4765 0060 2268     		ldr	r2, [r4]
 4766 0062 5368     		ldr	r3, [r2, #4]
 4767 0064 43F48073 		orr	r3, r3, #256
 4768 0068 5360     		str	r3, [r2, #4]
 541:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c **** #else
 4769              		.loc 1 541 3 view .LVU1779
 541:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c **** #else
 4770              		.loc 1 541 13 is_stmt 0 view .LVU1780
 4771 006a B6FBF5F6 		udiv	r6, r6, r5
 4772              	.LVL373:
 545:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c **** 
 4773              		.loc 1 545 3 is_stmt 1 view .LVU1781
 545:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c **** 
 4774              		.loc 1 545 27 is_stmt 0 view .LVU1782
 4775 006e 1948     		ldr	r0, .L271+4
 4776 0070 B0FBF6F0 		udiv	r0, r0, r6
 545:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c **** 
 4777              		.loc 1 545 3 view .LVU1783
 4778 0074 0130     		adds	r0, r0, #1
 4779 0076 FFF7FEFF 		bl	HAL_Delay
 4780              	.LVL374:
 548:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****   if(errorstate != HAL_SD_ERROR_NONE)
 4781              		.loc 1 548 3 is_stmt 1 view .LVU1784
 548:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****   if(errorstate != HAL_SD_ERROR_NONE)
 4782              		.loc 1 548 16 is_stmt 0 view .LVU1785
ARM GAS  /tmp/ccECQX6D.s 			page 186


 4783 007a 2046     		mov	r0, r4
 4784 007c FFF7FEFF 		bl	SD_PowerON
 4785              	.LVL375:
 549:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****   {
 4786              		.loc 1 549 3 is_stmt 1 view .LVU1786
 549:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****   {
 4787              		.loc 1 549 5 is_stmt 0 view .LVU1787
 4788 0080 0246     		mov	r2, r0
 4789 0082 30B1     		cbz	r0, .L266
 551:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****     hsd->ErrorCode |= errorstate;
 4790              		.loc 1 551 5 is_stmt 1 view .LVU1788
 551:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****     hsd->ErrorCode |= errorstate;
 4791              		.loc 1 551 16 is_stmt 0 view .LVU1789
 4792 0084 0120     		movs	r0, #1
 4793              	.LVL376:
 551:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****     hsd->ErrorCode |= errorstate;
 4794              		.loc 1 551 16 view .LVU1790
 4795 0086 84F83400 		strb	r0, [r4, #52]
 552:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****     return HAL_ERROR;
 4796              		.loc 1 552 5 is_stmt 1 view .LVU1791
 552:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****     return HAL_ERROR;
 4797              		.loc 1 552 20 is_stmt 0 view .LVU1792
 4798 008a A36B     		ldr	r3, [r4, #56]
 4799 008c 1343     		orrs	r3, r3, r2
 4800 008e A363     		str	r3, [r4, #56]
 553:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****   }
 4801              		.loc 1 553 5 is_stmt 1 view .LVU1793
 553:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****   }
 4802              		.loc 1 553 12 is_stmt 0 view .LVU1794
 4803 0090 CAE7     		b	.L265
 4804              	.LVL377:
 4805              	.L266:
 557:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****   if(errorstate != HAL_SD_ERROR_NONE)
 4806              		.loc 1 557 3 is_stmt 1 view .LVU1795
 557:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****   if(errorstate != HAL_SD_ERROR_NONE)
 4807              		.loc 1 557 16 is_stmt 0 view .LVU1796
 4808 0092 2046     		mov	r0, r4
 4809              	.LVL378:
 557:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****   if(errorstate != HAL_SD_ERROR_NONE)
 4810              		.loc 1 557 16 view .LVU1797
 4811 0094 FFF7FEFF 		bl	SD_InitCard
 4812              	.LVL379:
 558:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****   {
 4813              		.loc 1 558 3 is_stmt 1 view .LVU1798
 558:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****   {
 4814              		.loc 1 558 5 is_stmt 0 view .LVU1799
 4815 0098 0246     		mov	r2, r0
 4816 009a 30B1     		cbz	r0, .L267
 560:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****     hsd->ErrorCode |= errorstate;
 4817              		.loc 1 560 5 is_stmt 1 view .LVU1800
 560:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****     hsd->ErrorCode |= errorstate;
 4818              		.loc 1 560 16 is_stmt 0 view .LVU1801
 4819 009c 0120     		movs	r0, #1
 4820              	.LVL380:
 560:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****     hsd->ErrorCode |= errorstate;
 4821              		.loc 1 560 16 view .LVU1802
 4822 009e 84F83400 		strb	r0, [r4, #52]
ARM GAS  /tmp/ccECQX6D.s 			page 187


 561:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****     return HAL_ERROR;
 4823              		.loc 1 561 5 is_stmt 1 view .LVU1803
 561:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****     return HAL_ERROR;
 4824              		.loc 1 561 20 is_stmt 0 view .LVU1804
 4825 00a2 A36B     		ldr	r3, [r4, #56]
 4826 00a4 1343     		orrs	r3, r3, r2
 4827 00a6 A363     		str	r3, [r4, #56]
 562:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****   }
 4828              		.loc 1 562 5 is_stmt 1 view .LVU1805
 562:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****   }
 4829              		.loc 1 562 12 is_stmt 0 view .LVU1806
 4830 00a8 BEE7     		b	.L265
 4831              	.LVL381:
 4832              	.L267:
 566:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****   if(errorstate != HAL_SD_ERROR_NONE)
 4833              		.loc 1 566 3 is_stmt 1 view .LVU1807
 566:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****   if(errorstate != HAL_SD_ERROR_NONE)
 4834              		.loc 1 566 16 is_stmt 0 view .LVU1808
 4835 00aa 4FF40071 		mov	r1, #512
 4836 00ae 2068     		ldr	r0, [r4]
 4837              	.LVL382:
 566:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****   if(errorstate != HAL_SD_ERROR_NONE)
 4838              		.loc 1 566 16 view .LVU1809
 4839 00b0 FFF7FEFF 		bl	SDMMC_CmdBlockLength
 4840              	.LVL383:
 567:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****   {
 4841              		.loc 1 567 3 is_stmt 1 view .LVU1810
 567:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****   {
 4842              		.loc 1 567 5 is_stmt 0 view .LVU1811
 4843 00b4 08B9     		cbnz	r0, .L270
 576:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c **** }
 4844              		.loc 1 576 10 view .LVU1812
 4845 00b6 0020     		movs	r0, #0
 4846              	.LVL384:
 576:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c **** }
 4847              		.loc 1 576 10 view .LVU1813
 4848 00b8 B6E7     		b	.L265
 4849              	.LVL385:
 4850              	.L270:
 570:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****     hsd->ErrorCode |= errorstate;
 4851              		.loc 1 570 5 is_stmt 1 view .LVU1814
 4852 00ba 2368     		ldr	r3, [r4]
 4853 00bc 0649     		ldr	r1, .L271+8
 4854 00be 9963     		str	r1, [r3, #56]
 571:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****     hsd->State = HAL_SD_STATE_READY;
 4855              		.loc 1 571 5 view .LVU1815
 571:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****     hsd->State = HAL_SD_STATE_READY;
 4856              		.loc 1 571 20 is_stmt 0 view .LVU1816
 4857 00c0 A36B     		ldr	r3, [r4, #56]
 4858 00c2 0343     		orrs	r3, r3, r0
 4859 00c4 A363     		str	r3, [r4, #56]
 572:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****     return HAL_ERROR;
 4860              		.loc 1 572 5 is_stmt 1 view .LVU1817
 572:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****     return HAL_ERROR;
 4861              		.loc 1 572 16 is_stmt 0 view .LVU1818
 4862 00c6 0120     		movs	r0, #1
 4863              	.LVL386:
ARM GAS  /tmp/ccECQX6D.s 			page 188


 572:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****     return HAL_ERROR;
 4864              		.loc 1 572 16 view .LVU1819
 4865 00c8 84F83400 		strb	r0, [r4, #52]
 573:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****   }
 4866              		.loc 1 573 5 is_stmt 1 view .LVU1820
 573:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****   }
 4867              		.loc 1 573 12 is_stmt 0 view .LVU1821
 4868 00cc ACE7     		b	.L265
 4869              	.L272:
 4870 00ce 00BF     		.align	2
 4871              	.L271:
 4872 00d0 598B4F01 		.word	21990233
 4873 00d4 10210100 		.word	74000
 4874 00d8 FF054000 		.word	4195839
 4875              		.cfi_endproc
 4876              	.LFE289:
 4878              		.section	.text.HAL_SD_Init,"ax",%progbits
 4879              		.align	1
 4880              		.global	HAL_SD_Init
 4881              		.syntax unified
 4882              		.thumb
 4883              		.thumb_func
 4885              	HAL_SD_Init:
 4886              	.LVL387:
 4887              	.LFB288:
 358:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c **** #if defined(STM32L4P5xx) || defined(STM32L4Q5xx) || defined(STM32L4R5xx) || defined(STM32L4R7xx) ||
 4888              		.loc 1 358 1 is_stmt 1 view -0
 4889              		.cfi_startproc
 4890              		@ args = 0, pretend = 0, frame = 0
 4891              		@ frame_needed = 0, uses_anonymous_args = 0
 366:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****   {
 4892              		.loc 1 366 3 view .LVU1823
 366:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****   {
 4893              		.loc 1 366 5 is_stmt 0 view .LVU1824
 4894 0000 A8B1     		cbz	r0, .L276
 358:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c **** #if defined(STM32L4P5xx) || defined(STM32L4Q5xx) || defined(STM32L4R5xx) || defined(STM32L4R7xx) ||
 4895              		.loc 1 358 1 view .LVU1825
 4896 0002 10B5     		push	{r4, lr}
 4897              		.cfi_def_cfa_offset 8
 4898              		.cfi_offset 4, -8
 4899              		.cfi_offset 14, -4
 4900 0004 0446     		mov	r4, r0
 372:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****   assert_param(IS_SDMMC_CLOCK_EDGE(hsd->Init.ClockEdge));
 4901              		.loc 1 372 3 is_stmt 1 view .LVU1826
 373:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c **** #if !defined(STM32L4P5xx) && !defined(STM32L4Q5xx) && !defined(STM32L4R5xx) && !defined(STM32L4R7xx
 4902              		.loc 1 373 3 view .LVU1827
 375:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c **** #endif /* !STM32L4P5xx && !STM32L4Q5xx && !STM32L4R5xx && !STM32L4R7xx && !STM32L4R9xx && !STM32L4S
 4903              		.loc 1 375 3 view .LVU1828
 377:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****   assert_param(IS_SDMMC_BUS_WIDE(hsd->Init.BusWide));
 4904              		.loc 1 377 3 view .LVU1829
 378:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****   assert_param(IS_SDMMC_HARDWARE_FLOW_CONTROL(hsd->Init.HardwareFlowControl));
 4905              		.loc 1 378 3 view .LVU1830
 379:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****   assert_param(IS_SDMMC_CLKDIV(hsd->Init.ClockDiv));
 4906              		.loc 1 379 3 view .LVU1831
 380:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c **** 
 4907              		.loc 1 380 3 view .LVU1832
 382:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****   {
ARM GAS  /tmp/ccECQX6D.s 			page 189


 4908              		.loc 1 382 3 view .LVU1833
 382:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****   {
 4909              		.loc 1 382 9 is_stmt 0 view .LVU1834
 4910 0006 90F83430 		ldrb	r3, [r0, #52]	@ zero_extendqisi2
 382:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****   {
 4911              		.loc 1 382 5 view .LVU1835
 4912 000a 63B1     		cbz	r3, .L282
 4913              	.LVL388:
 4914              	.L275:
 413:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c **** 
 4915              		.loc 1 413 3 is_stmt 1 view .LVU1836
 413:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c **** 
 4916              		.loc 1 413 14 is_stmt 0 view .LVU1837
 4917 000c 0323     		movs	r3, #3
 4918 000e 84F83430 		strb	r3, [r4, #52]
 416:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****   {
 4919              		.loc 1 416 3 is_stmt 1 view .LVU1838
 416:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****   {
 4920              		.loc 1 416 7 is_stmt 0 view .LVU1839
 4921 0012 2046     		mov	r0, r4
 4922 0014 FFF7FEFF 		bl	HAL_SD_InitCard
 4923              	.LVL389:
 416:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****   {
 4924              		.loc 1 416 6 view .LVU1840
 4925 0018 58B9     		cbnz	r0, .L277
 466:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c **** 
 4926              		.loc 1 466 3 is_stmt 1 view .LVU1841
 466:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c **** 
 4927              		.loc 1 466 18 is_stmt 0 view .LVU1842
 4928 001a A063     		str	r0, [r4, #56]
 469:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c **** 
 4929              		.loc 1 469 3 is_stmt 1 view .LVU1843
 469:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c **** 
 4930              		.loc 1 469 16 is_stmt 0 view .LVU1844
 4931 001c 2063     		str	r0, [r4, #48]
 472:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c **** 
 4932              		.loc 1 472 3 is_stmt 1 view .LVU1845
 472:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c **** 
 4933              		.loc 1 472 14 is_stmt 0 view .LVU1846
 4934 001e 0123     		movs	r3, #1
 4935 0020 84F83430 		strb	r3, [r4, #52]
 474:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c **** }
 4936              		.loc 1 474 3 is_stmt 1 view .LVU1847
 4937              	.L274:
 475:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c **** 
 4938              		.loc 1 475 1 is_stmt 0 view .LVU1848
 4939 0024 10BD     		pop	{r4, pc}
 4940              	.LVL390:
 4941              	.L282:
 385:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c **** #if defined (USE_HAL_SD_REGISTER_CALLBACKS) && (USE_HAL_SD_REGISTER_CALLBACKS == 1U)
 4942              		.loc 1 385 5 is_stmt 1 view .LVU1849
 385:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c **** #if defined (USE_HAL_SD_REGISTER_CALLBACKS) && (USE_HAL_SD_REGISTER_CALLBACKS == 1U)
 4943              		.loc 1 385 15 is_stmt 0 view .LVU1850
 4944 0026 0377     		strb	r3, [r0, #28]
 409:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c **** #endif /* USE_HAL_SD_REGISTER_CALLBACKS */
 4945              		.loc 1 409 5 is_stmt 1 view .LVU1851
 4946 0028 FFF7FEFF 		bl	HAL_SD_MspInit
ARM GAS  /tmp/ccECQX6D.s 			page 190


 4947              	.LVL391:
 409:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c **** #endif /* USE_HAL_SD_REGISTER_CALLBACKS */
 4948              		.loc 1 409 5 is_stmt 0 view .LVU1852
 4949 002c EEE7     		b	.L275
 4950              	.LVL392:
 4951              	.L276:
 4952              		.cfi_def_cfa_offset 0
 4953              		.cfi_restore 4
 4954              		.cfi_restore 14
 368:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****   }
 4955              		.loc 1 368 12 view .LVU1853
 4956 002e 0120     		movs	r0, #1
 4957              	.LVL393:
 475:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c **** 
 4958              		.loc 1 475 1 view .LVU1854
 4959 0030 7047     		bx	lr
 4960              	.LVL394:
 4961              	.L277:
 4962              		.cfi_def_cfa_offset 8
 4963              		.cfi_offset 4, -8
 4964              		.cfi_offset 14, -4
 418:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****   }
 4965              		.loc 1 418 12 view .LVU1855
 4966 0032 0120     		movs	r0, #1
 4967 0034 F6E7     		b	.L274
 4968              		.cfi_endproc
 4969              	.LFE288:
 4971              		.section	.text.HAL_SD_GetCardStatus,"ax",%progbits
 4972              		.align	1
 4973              		.global	HAL_SD_GetCardStatus
 4974              		.syntax unified
 4975              		.thumb
 4976              		.thumb_func
 4978              	HAL_SD_GetCardStatus:
 4979              	.LVL395:
 4980              	.LFB309:
2532:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****   uint32_t sd_status[16];
 4981              		.loc 1 2532 1 is_stmt 1 view -0
 4982              		.cfi_startproc
 4983              		@ args = 0, pretend = 0, frame = 64
 4984              		@ frame_needed = 0, uses_anonymous_args = 0
2532:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****   uint32_t sd_status[16];
 4985              		.loc 1 2532 1 is_stmt 0 view .LVU1857
 4986 0000 30B5     		push	{r4, r5, lr}
 4987              		.cfi_def_cfa_offset 12
 4988              		.cfi_offset 4, -12
 4989              		.cfi_offset 5, -8
 4990              		.cfi_offset 14, -4
 4991 0002 91B0     		sub	sp, sp, #68
 4992              		.cfi_def_cfa_offset 80
 4993 0004 0546     		mov	r5, r0
 4994 0006 0C46     		mov	r4, r1
2533:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****   uint32_t errorstate;
 4995              		.loc 1 2533 3 is_stmt 1 view .LVU1858
2534:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****   HAL_StatusTypeDef status = HAL_OK;
 4996              		.loc 1 2534 3 view .LVU1859
2535:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c **** 
ARM GAS  /tmp/ccECQX6D.s 			page 191


 4997              		.loc 1 2535 3 view .LVU1860
 4998              	.LVL396:
2537:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****   if(errorstate != HAL_SD_ERROR_NONE)
 4999              		.loc 1 2537 3 view .LVU1861
2537:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****   if(errorstate != HAL_SD_ERROR_NONE)
 5000              		.loc 1 2537 16 is_stmt 0 view .LVU1862
 5001 0008 6946     		mov	r1, sp
 5002              	.LVL397:
2537:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****   if(errorstate != HAL_SD_ERROR_NONE)
 5003              		.loc 1 2537 16 view .LVU1863
 5004 000a FFF7FEFF 		bl	SD_SendSDStatus
 5005              	.LVL398:
2538:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****   {
 5006              		.loc 1 2538 3 is_stmt 1 view .LVU1864
2538:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****   {
 5007              		.loc 1 2538 5 is_stmt 0 view .LVU1865
 5008 000e C0B1     		cbz	r0, .L284
2541:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****     hsd->ErrorCode |= errorstate;
 5009              		.loc 1 2541 5 is_stmt 1 view .LVU1866
 5010 0010 2B68     		ldr	r3, [r5]
 5011 0012 2549     		ldr	r1, .L288
 5012 0014 9963     		str	r1, [r3, #56]
2542:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****     hsd->State = HAL_SD_STATE_READY;
 5013              		.loc 1 2542 5 view .LVU1867
2542:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****     hsd->State = HAL_SD_STATE_READY;
 5014              		.loc 1 2542 20 is_stmt 0 view .LVU1868
 5015 0016 AB6B     		ldr	r3, [r5, #56]
 5016 0018 0343     		orrs	r3, r3, r0
 5017 001a AB63     		str	r3, [r5, #56]
2543:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****     status = HAL_ERROR;
 5018              		.loc 1 2543 5 is_stmt 1 view .LVU1869
2543:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****     status = HAL_ERROR;
 5019              		.loc 1 2543 16 is_stmt 0 view .LVU1870
 5020 001c 0124     		movs	r4, #1
 5021              	.LVL399:
2543:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****     status = HAL_ERROR;
 5022              		.loc 1 2543 16 view .LVU1871
 5023 001e 85F83440 		strb	r4, [r5, #52]
2544:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****   }
 5024              		.loc 1 2544 5 is_stmt 1 view .LVU1872
 5025              	.LVL400:
 5026              	.L285:
2577:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****   if(errorstate != HAL_SD_ERROR_NONE)
 5027              		.loc 1 2577 3 view .LVU1873
2577:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****   if(errorstate != HAL_SD_ERROR_NONE)
 5028              		.loc 1 2577 16 is_stmt 0 view .LVU1874
 5029 0022 4FF40071 		mov	r1, #512
 5030 0026 2868     		ldr	r0, [r5]
 5031              	.LVL401:
2577:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****   if(errorstate != HAL_SD_ERROR_NONE)
 5032              		.loc 1 2577 16 view .LVU1875
 5033 0028 FFF7FEFF 		bl	SDMMC_CmdBlockLength
 5034              	.LVL402:
2578:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****   {
 5035              		.loc 1 2578 3 is_stmt 1 view .LVU1876
2578:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****   {
 5036              		.loc 1 2578 5 is_stmt 0 view .LVU1877
ARM GAS  /tmp/ccECQX6D.s 			page 192


 5037 002c 30B1     		cbz	r0, .L286
2581:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****     hsd->ErrorCode = errorstate;
 5038              		.loc 1 2581 5 is_stmt 1 view .LVU1878
 5039 002e 2A68     		ldr	r2, [r5]
 5040 0030 1D49     		ldr	r1, .L288
 5041 0032 9163     		str	r1, [r2, #56]
2582:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****     hsd->State = HAL_SD_STATE_READY;
 5042              		.loc 1 2582 5 view .LVU1879
2582:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****     hsd->State = HAL_SD_STATE_READY;
 5043              		.loc 1 2582 20 is_stmt 0 view .LVU1880
 5044 0034 A863     		str	r0, [r5, #56]
2583:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****     status = HAL_ERROR;
 5045              		.loc 1 2583 5 is_stmt 1 view .LVU1881
2583:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****     status = HAL_ERROR;
 5046              		.loc 1 2583 16 is_stmt 0 view .LVU1882
 5047 0036 0124     		movs	r4, #1
 5048              	.LVL403:
2583:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****     status = HAL_ERROR;
 5049              		.loc 1 2583 16 view .LVU1883
 5050 0038 85F83440 		strb	r4, [r5, #52]
2584:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****   }
 5051              		.loc 1 2584 5 is_stmt 1 view .LVU1884
 5052              	.LVL404:
 5053              	.L286:
2587:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c **** }
 5054              		.loc 1 2587 3 view .LVU1885
2588:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c **** 
 5055              		.loc 1 2588 1 is_stmt 0 view .LVU1886
 5056 003c 2046     		mov	r0, r4
 5057              	.LVL405:
2588:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c **** 
 5058              		.loc 1 2588 1 view .LVU1887
 5059 003e 11B0     		add	sp, sp, #68
 5060              		.cfi_remember_state
 5061              		.cfi_def_cfa_offset 12
 5062              		@ sp needed
 5063 0040 30BD     		pop	{r4, r5, pc}
 5064              	.LVL406:
 5065              	.L284:
 5066              		.cfi_restore_state
2548:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c **** 
 5067              		.loc 1 2548 5 is_stmt 1 view .LVU1888
2548:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c **** 
 5068              		.loc 1 2548 49 is_stmt 0 view .LVU1889
 5069 0042 009A     		ldr	r2, [sp]
2548:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c **** 
 5070              		.loc 1 2548 29 view .LVU1890
 5071 0044 C2F38113 		ubfx	r3, r2, #6, #2
2548:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c **** 
 5072              		.loc 1 2548 27 view .LVU1891
 5073 0048 2370     		strb	r3, [r4]
2550:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c **** 
 5074              		.loc 1 2550 5 is_stmt 1 view .LVU1892
2550:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c **** 
 5075              		.loc 1 2550 28 is_stmt 0 view .LVU1893
 5076 004a C2F34013 		ubfx	r3, r2, #5, #1
2550:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c **** 
ARM GAS  /tmp/ccECQX6D.s 			page 193


 5077              		.loc 1 2550 26 view .LVU1894
 5078 004e 6370     		strb	r3, [r4, #1]
2552:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c **** 
 5079              		.loc 1 2552 5 is_stmt 1 view .LVU1895
2552:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c **** 
 5080              		.loc 1 2552 66 is_stmt 0 view .LVU1896
 5081 0050 130A     		lsrs	r3, r2, #8
2552:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c **** 
 5082              		.loc 1 2552 25 view .LVU1897
 5083 0052 23F0FF03 		bic	r3, r3, #255
 5084 0056 43EA1263 		orr	r3, r3, r2, lsr #24
 5085 005a 9BB2     		uxth	r3, r3
2552:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c **** 
 5086              		.loc 1 2552 23 view .LVU1898
 5087 005c 6380     		strh	r3, [r4, #2]	@ movhi
2554:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****                                   ((sd_status[1] & 0xFF0000U) >> 8U) | ((sd_status[1] & 0xFF000000U
 5088              		.loc 1 2554 5 is_stmt 1 view .LVU1899
2554:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****                                   ((sd_status[1] & 0xFF0000U) >> 8U) | ((sd_status[1] & 0xFF000000U
 5089              		.loc 1 2554 46 is_stmt 0 view .LVU1900
 5090 005e 019A     		ldr	r2, [sp, #4]
2554:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****                                   ((sd_status[1] & 0xFF0000U) >> 8U) | ((sd_status[1] & 0xFF000000U
 5091              		.loc 1 2554 98 view .LVU1901
 5092 0060 1302     		lsls	r3, r2, #8
 5093 0062 03F47F03 		and	r3, r3, #16711680
2554:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****                                   ((sd_status[1] & 0xFF0000U) >> 8U) | ((sd_status[1] & 0xFF000000U
 5094              		.loc 1 2554 70 view .LVU1902
 5095 0066 43EA0263 		orr	r3, r3, r2, lsl #24
2555:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c **** 
 5096              		.loc 1 2555 63 view .LVU1903
 5097 006a 110A     		lsrs	r1, r2, #8
 5098 006c 01F47F41 		and	r1, r1, #65280
2554:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****                                   ((sd_status[1] & 0xFF0000U) >> 8U) | ((sd_status[1] & 0xFF000000U
 5099              		.loc 1 2554 105 view .LVU1904
 5100 0070 0B43     		orrs	r3, r3, r1
2555:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c **** 
 5101              		.loc 1 2555 70 view .LVU1905
 5102 0072 43EA1263 		orr	r3, r3, r2, lsr #24
2554:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****                                   ((sd_status[1] & 0xFF0000U) >> 8U) | ((sd_status[1] & 0xFF000000U
 5103              		.loc 1 2554 32 view .LVU1906
 5104 0076 6360     		str	r3, [r4, #4]
2557:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c **** 
 5105              		.loc 1 2557 5 is_stmt 1 view .LVU1907
2557:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c **** 
 5106              		.loc 1 2557 46 is_stmt 0 view .LVU1908
 5107 0078 029B     		ldr	r3, [sp, #8]
2557:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c **** 
 5108              		.loc 1 2557 27 view .LVU1909
 5109 007a DAB2     		uxtb	r2, r3
2557:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c **** 
 5110              		.loc 1 2557 25 view .LVU1910
 5111 007c 2272     		strb	r2, [r4, #8]
2559:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c **** 
 5112              		.loc 1 2559 5 is_stmt 1 view .LVU1911
2559:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c **** 
 5113              		.loc 1 2559 32 is_stmt 0 view .LVU1912
 5114 007e C3F30722 		ubfx	r2, r3, #8, #8
2559:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c **** 
ARM GAS  /tmp/ccECQX6D.s 			page 194


 5115              		.loc 1 2559 30 view .LVU1913
 5116 0082 6272     		strb	r2, [r4, #9]
2561:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c **** 
 5117              		.loc 1 2561 5 is_stmt 1 view .LVU1914
2561:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c **** 
 5118              		.loc 1 2561 35 is_stmt 0 view .LVU1915
 5119 0084 C3F30352 		ubfx	r2, r3, #20, #4
2561:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c **** 
 5120              		.loc 1 2561 33 view .LVU1916
 5121 0088 A272     		strb	r2, [r4, #10]
2563:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c **** 
 5122              		.loc 1 2563 5 is_stmt 1 view .LVU1917
2563:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c **** 
 5123              		.loc 1 2563 67 is_stmt 0 view .LVU1918
 5124 008a 1B0C     		lsrs	r3, r3, #16
2563:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c **** 
 5125              		.loc 1 2563 87 view .LVU1919
 5126 008c 039A     		ldr	r2, [sp, #12]
2563:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c **** 
 5127              		.loc 1 2563 91 view .LVU1920
 5128 008e D1B2     		uxtb	r1, r2
2563:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c **** 
 5129              		.loc 1 2563 26 view .LVU1921
 5130 0090 23F0FF03 		bic	r3, r3, #255
 5131 0094 0B43     		orrs	r3, r3, r1
2563:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c **** 
 5132              		.loc 1 2563 24 view .LVU1922
 5133 0096 A381     		strh	r3, [r4, #12]	@ movhi
2565:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c **** 
 5134              		.loc 1 2565 5 is_stmt 1 view .LVU1923
2565:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c **** 
 5135              		.loc 1 2565 29 is_stmt 0 view .LVU1924
 5136 0098 C2F38523 		ubfx	r3, r2, #10, #6
2565:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c **** 
 5137              		.loc 1 2565 27 view .LVU1925
 5138 009c A373     		strb	r3, [r4, #14]
2567:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c **** 
 5139              		.loc 1 2567 5 is_stmt 1 view .LVU1926
2567:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c **** 
 5140              		.loc 1 2567 28 is_stmt 0 view .LVU1927
 5141 009e C2F30122 		ubfx	r2, r2, #8, #2
2567:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c **** 
 5142              		.loc 1 2567 26 view .LVU1928
 5143 00a2 E273     		strb	r2, [r4, #15]
2535:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c **** 
 5144              		.loc 1 2535 21 view .LVU1929
 5145 00a4 0024     		movs	r4, #0
 5146              	.LVL407:
2535:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c **** 
 5147              		.loc 1 2535 21 view .LVU1930
 5148 00a6 BCE7     		b	.L285
 5149              	.L289:
 5150              		.align	2
 5151              	.L288:
 5152 00a8 FF054000 		.word	4195839
 5153              		.cfi_endproc
 5154              	.LFE309:
ARM GAS  /tmp/ccECQX6D.s 			page 195


 5156              		.section	.text.HAL_SD_GetCardInfo,"ax",%progbits
 5157              		.align	1
 5158              		.global	HAL_SD_GetCardInfo
 5159              		.syntax unified
 5160              		.thumb
 5161              		.thumb_func
 5163              	HAL_SD_GetCardInfo:
 5164              	.LVL408:
 5165              	.LFB310:
2598:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****   pCardInfo->CardType     = (uint32_t)(hsd->SdCard.CardType);
 5166              		.loc 1 2598 1 is_stmt 1 view -0
 5167              		.cfi_startproc
 5168              		@ args = 0, pretend = 0, frame = 0
 5169              		@ frame_needed = 0, uses_anonymous_args = 0
 5170              		@ link register save eliminated.
2599:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****   pCardInfo->CardVersion  = (uint32_t)(hsd->SdCard.CardVersion);
 5171              		.loc 1 2599 3 view .LVU1932
2599:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****   pCardInfo->CardVersion  = (uint32_t)(hsd->SdCard.CardVersion);
 5172              		.loc 1 2599 51 is_stmt 0 view .LVU1933
 5173 0000 436C     		ldr	r3, [r0, #68]
2599:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****   pCardInfo->CardVersion  = (uint32_t)(hsd->SdCard.CardVersion);
 5174              		.loc 1 2599 27 view .LVU1934
 5175 0002 0B60     		str	r3, [r1]
2600:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****   pCardInfo->Class        = (uint32_t)(hsd->SdCard.Class);
 5176              		.loc 1 2600 3 is_stmt 1 view .LVU1935
2600:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****   pCardInfo->Class        = (uint32_t)(hsd->SdCard.Class);
 5177              		.loc 1 2600 51 is_stmt 0 view .LVU1936
 5178 0004 836C     		ldr	r3, [r0, #72]
2600:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****   pCardInfo->Class        = (uint32_t)(hsd->SdCard.Class);
 5179              		.loc 1 2600 27 view .LVU1937
 5180 0006 4B60     		str	r3, [r1, #4]
2601:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****   pCardInfo->RelCardAdd   = (uint32_t)(hsd->SdCard.RelCardAdd);
 5181              		.loc 1 2601 3 is_stmt 1 view .LVU1938
2601:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****   pCardInfo->RelCardAdd   = (uint32_t)(hsd->SdCard.RelCardAdd);
 5182              		.loc 1 2601 51 is_stmt 0 view .LVU1939
 5183 0008 C36C     		ldr	r3, [r0, #76]
2601:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****   pCardInfo->RelCardAdd   = (uint32_t)(hsd->SdCard.RelCardAdd);
 5184              		.loc 1 2601 27 view .LVU1940
 5185 000a 8B60     		str	r3, [r1, #8]
2602:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****   pCardInfo->BlockNbr     = (uint32_t)(hsd->SdCard.BlockNbr);
 5186              		.loc 1 2602 3 is_stmt 1 view .LVU1941
2602:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****   pCardInfo->BlockNbr     = (uint32_t)(hsd->SdCard.BlockNbr);
 5187              		.loc 1 2602 51 is_stmt 0 view .LVU1942
 5188 000c 036D     		ldr	r3, [r0, #80]
2602:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****   pCardInfo->BlockNbr     = (uint32_t)(hsd->SdCard.BlockNbr);
 5189              		.loc 1 2602 27 view .LVU1943
 5190 000e CB60     		str	r3, [r1, #12]
2603:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****   pCardInfo->BlockSize    = (uint32_t)(hsd->SdCard.BlockSize);
 5191              		.loc 1 2603 3 is_stmt 1 view .LVU1944
2603:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****   pCardInfo->BlockSize    = (uint32_t)(hsd->SdCard.BlockSize);
 5192              		.loc 1 2603 51 is_stmt 0 view .LVU1945
 5193 0010 436D     		ldr	r3, [r0, #84]
2603:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****   pCardInfo->BlockSize    = (uint32_t)(hsd->SdCard.BlockSize);
 5194              		.loc 1 2603 27 view .LVU1946
 5195 0012 0B61     		str	r3, [r1, #16]
2604:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****   pCardInfo->LogBlockNbr  = (uint32_t)(hsd->SdCard.LogBlockNbr);
 5196              		.loc 1 2604 3 is_stmt 1 view .LVU1947
ARM GAS  /tmp/ccECQX6D.s 			page 196


2604:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****   pCardInfo->LogBlockNbr  = (uint32_t)(hsd->SdCard.LogBlockNbr);
 5197              		.loc 1 2604 51 is_stmt 0 view .LVU1948
 5198 0014 836D     		ldr	r3, [r0, #88]
2604:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****   pCardInfo->LogBlockNbr  = (uint32_t)(hsd->SdCard.LogBlockNbr);
 5199              		.loc 1 2604 27 view .LVU1949
 5200 0016 4B61     		str	r3, [r1, #20]
2605:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****   pCardInfo->LogBlockSize = (uint32_t)(hsd->SdCard.LogBlockSize);
 5201              		.loc 1 2605 3 is_stmt 1 view .LVU1950
2605:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****   pCardInfo->LogBlockSize = (uint32_t)(hsd->SdCard.LogBlockSize);
 5202              		.loc 1 2605 51 is_stmt 0 view .LVU1951
 5203 0018 C36D     		ldr	r3, [r0, #92]
2605:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****   pCardInfo->LogBlockSize = (uint32_t)(hsd->SdCard.LogBlockSize);
 5204              		.loc 1 2605 27 view .LVU1952
 5205 001a 8B61     		str	r3, [r1, #24]
2606:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c **** 
 5206              		.loc 1 2606 3 is_stmt 1 view .LVU1953
2606:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c **** 
 5207              		.loc 1 2606 51 is_stmt 0 view .LVU1954
 5208 001c 036E     		ldr	r3, [r0, #96]
2606:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c **** 
 5209              		.loc 1 2606 27 view .LVU1955
 5210 001e CB61     		str	r3, [r1, #28]
2608:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c **** }
 5211              		.loc 1 2608 3 is_stmt 1 view .LVU1956
2609:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c **** 
 5212              		.loc 1 2609 1 is_stmt 0 view .LVU1957
 5213 0020 0020     		movs	r0, #0
 5214              	.LVL409:
2609:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c **** 
 5215              		.loc 1 2609 1 view .LVU1958
 5216 0022 7047     		bx	lr
 5217              		.cfi_endproc
 5218              	.LFE310:
 5220              		.section	.text.HAL_SD_ConfigWideBusOperation,"ax",%progbits
 5221              		.align	1
 5222              		.global	HAL_SD_ConfigWideBusOperation
 5223              		.syntax unified
 5224              		.thumb
 5225              		.thumb_func
 5227              	HAL_SD_ConfigWideBusOperation:
 5228              	.LVL410:
 5229              	.LFB311:
2623:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****   SDMMC_InitTypeDef Init;
 5230              		.loc 1 2623 1 is_stmt 1 view -0
 5231              		.cfi_startproc
 5232              		@ args = 0, pretend = 0, frame = 24
 5233              		@ frame_needed = 0, uses_anonymous_args = 0
2623:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****   SDMMC_InitTypeDef Init;
 5234              		.loc 1 2623 1 is_stmt 0 view .LVU1960
 5235 0000 30B5     		push	{r4, r5, lr}
 5236              		.cfi_def_cfa_offset 12
 5237              		.cfi_offset 4, -12
 5238              		.cfi_offset 5, -8
 5239              		.cfi_offset 14, -4
 5240 0002 8BB0     		sub	sp, sp, #44
 5241              		.cfi_def_cfa_offset 56
 5242 0004 0446     		mov	r4, r0
ARM GAS  /tmp/ccECQX6D.s 			page 197


 5243 0006 0D46     		mov	r5, r1
2624:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****   uint32_t errorstate;
 5244              		.loc 1 2624 3 is_stmt 1 view .LVU1961
2625:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****   uint32_t sdmmc_clk;
 5245              		.loc 1 2625 3 view .LVU1962
2626:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****   HAL_StatusTypeDef status = HAL_OK;
 5246              		.loc 1 2626 3 view .LVU1963
2627:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c **** 
 5247              		.loc 1 2627 3 view .LVU1964
 5248              	.LVL411:
2630:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c **** 
 5249              		.loc 1 2630 3 view .LVU1965
2633:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c **** 
 5250              		.loc 1 2633 3 view .LVU1966
2633:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c **** 
 5251              		.loc 1 2633 14 is_stmt 0 view .LVU1967
 5252 0008 0323     		movs	r3, #3
 5253 000a 80F83430 		strb	r3, [r0, #52]
2635:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****   {
 5254              		.loc 1 2635 3 is_stmt 1 view .LVU1968
2635:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****   {
 5255              		.loc 1 2635 17 is_stmt 0 view .LVU1969
 5256 000e 436C     		ldr	r3, [r0, #68]
2635:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****   {
 5257              		.loc 1 2635 5 view .LVU1970
 5258 0010 032B     		cmp	r3, #3
 5259 0012 1CD0     		beq	.L292
2637:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****     {
 5260              		.loc 1 2637 5 is_stmt 1 view .LVU1971
2637:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****     {
 5261              		.loc 1 2637 7 is_stmt 0 view .LVU1972
 5262 0014 B1F5805F 		cmp	r1, #4096
 5263 0018 08D0     		beq	.L304
2641:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****     {
 5264              		.loc 1 2641 10 is_stmt 1 view .LVU1973
2641:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****     {
 5265              		.loc 1 2641 12 is_stmt 0 view .LVU1974
 5266 001a B1F5006F 		cmp	r1, #2048
 5267 001e 0AD0     		beq	.L305
2647:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****     {
 5268              		.loc 1 2647 10 is_stmt 1 view .LVU1975
2647:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****     {
 5269              		.loc 1 2647 12 is_stmt 0 view .LVU1976
 5270 0020 79B1     		cbz	r1, .L306
2656:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****     }
 5271              		.loc 1 2656 7 is_stmt 1 view .LVU1977
2656:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****     }
 5272              		.loc 1 2656 22 is_stmt 0 view .LVU1978
 5273 0022 836B     		ldr	r3, [r0, #56]
 5274 0024 43F00063 		orr	r3, r3, #134217728
 5275 0028 8363     		str	r3, [r0, #56]
 5276 002a 14E0     		b	.L294
 5277              	.L304:
2639:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****     }
 5278              		.loc 1 2639 7 is_stmt 1 view .LVU1979
2639:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****     }
 5279              		.loc 1 2639 22 is_stmt 0 view .LVU1980
ARM GAS  /tmp/ccECQX6D.s 			page 198


 5280 002c 836B     		ldr	r3, [r0, #56]
 5281 002e 43F08053 		orr	r3, r3, #268435456
 5282 0032 8363     		str	r3, [r0, #56]
 5283 0034 0FE0     		b	.L294
 5284              	.L305:
2643:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c **** 
 5285              		.loc 1 2643 7 is_stmt 1 view .LVU1981
2643:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c **** 
 5286              		.loc 1 2643 20 is_stmt 0 view .LVU1982
 5287 0036 FFF7FEFF 		bl	SD_WideBus_Enable
 5288              	.LVL412:
2645:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****     }
 5289              		.loc 1 2645 7 is_stmt 1 view .LVU1983
2645:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****     }
 5290              		.loc 1 2645 22 is_stmt 0 view .LVU1984
 5291 003a A36B     		ldr	r3, [r4, #56]
 5292 003c 0343     		orrs	r3, r3, r0
 5293 003e A363     		str	r3, [r4, #56]
 5294 0040 09E0     		b	.L294
 5295              	.LVL413:
 5296              	.L306:
2649:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c **** 
 5297              		.loc 1 2649 7 is_stmt 1 view .LVU1985
2649:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c **** 
 5298              		.loc 1 2649 20 is_stmt 0 view .LVU1986
 5299 0042 FFF7FEFF 		bl	SD_WideBus_Disable
 5300              	.LVL414:
2651:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****     }
 5301              		.loc 1 2651 7 is_stmt 1 view .LVU1987
2651:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****     }
 5302              		.loc 1 2651 22 is_stmt 0 view .LVU1988
 5303 0046 A36B     		ldr	r3, [r4, #56]
 5304 0048 0343     		orrs	r3, r3, r0
 5305 004a A363     		str	r3, [r4, #56]
 5306 004c 03E0     		b	.L294
 5307              	.LVL415:
 5308              	.L292:
2662:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****   }
 5309              		.loc 1 2662 5 is_stmt 1 view .LVU1989
2662:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****   }
 5310              		.loc 1 2662 20 is_stmt 0 view .LVU1990
 5311 004e 836B     		ldr	r3, [r0, #56]
 5312 0050 43F08053 		orr	r3, r3, #268435456
 5313 0054 8363     		str	r3, [r0, #56]
 5314              	.LVL416:
 5315              	.L294:
2665:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****   {
 5316              		.loc 1 2665 3 is_stmt 1 view .LVU1991
2665:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****   {
 5317              		.loc 1 2665 9 is_stmt 0 view .LVU1992
 5318 0056 A36B     		ldr	r3, [r4, #56]
2665:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****   {
 5319              		.loc 1 2665 5 view .LVU1993
 5320 0058 B3B1     		cbz	r3, .L297
2668:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****     status = HAL_ERROR;
 5321              		.loc 1 2668 5 is_stmt 1 view .LVU1994
 5322 005a 2368     		ldr	r3, [r4]
ARM GAS  /tmp/ccECQX6D.s 			page 199


 5323 005c 224A     		ldr	r2, .L307
 5324 005e 9A63     		str	r2, [r3, #56]
2669:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****   }
 5325              		.loc 1 2669 5 view .LVU1995
 5326              	.LVL417:
2669:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****   }
 5327              		.loc 1 2669 12 is_stmt 0 view .LVU1996
 5328 0060 0125     		movs	r5, #1
 5329              	.LVL418:
 5330              	.L298:
2771:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****   if(errorstate != HAL_SD_ERROR_NONE)
 5331              		.loc 1 2771 3 is_stmt 1 view .LVU1997
2771:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****   if(errorstate != HAL_SD_ERROR_NONE)
 5332              		.loc 1 2771 16 is_stmt 0 view .LVU1998
 5333 0062 4FF40071 		mov	r1, #512
 5334 0066 2068     		ldr	r0, [r4]
 5335 0068 FFF7FEFF 		bl	SDMMC_CmdBlockLength
 5336              	.LVL419:
2772:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****   {
 5337              		.loc 1 2772 3 is_stmt 1 view .LVU1999
2772:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****   {
 5338              		.loc 1 2772 5 is_stmt 0 view .LVU2000
 5339 006c 30B1     		cbz	r0, .L302
2775:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****     hsd->ErrorCode |= errorstate;
 5340              		.loc 1 2775 5 is_stmt 1 view .LVU2001
 5341 006e 2368     		ldr	r3, [r4]
 5342 0070 1D49     		ldr	r1, .L307
 5343 0072 9963     		str	r1, [r3, #56]
2776:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****     status = HAL_ERROR;
 5344              		.loc 1 2776 5 view .LVU2002
2776:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****     status = HAL_ERROR;
 5345              		.loc 1 2776 20 is_stmt 0 view .LVU2003
 5346 0074 A36B     		ldr	r3, [r4, #56]
 5347 0076 0343     		orrs	r3, r3, r0
 5348 0078 A363     		str	r3, [r4, #56]
2777:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****   }
 5349              		.loc 1 2777 5 is_stmt 1 view .LVU2004
 5350              	.LVL420:
2777:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****   }
 5351              		.loc 1 2777 12 is_stmt 0 view .LVU2005
 5352 007a 0125     		movs	r5, #1
 5353              	.LVL421:
 5354              	.L302:
2781:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c **** 
 5355              		.loc 1 2781 3 is_stmt 1 view .LVU2006
2781:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c **** 
 5356              		.loc 1 2781 14 is_stmt 0 view .LVU2007
 5357 007c 0123     		movs	r3, #1
 5358 007e 84F83430 		strb	r3, [r4, #52]
2783:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c **** }
 5359              		.loc 1 2783 3 is_stmt 1 view .LVU2008
2784:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c **** 
 5360              		.loc 1 2784 1 is_stmt 0 view .LVU2009
 5361 0082 2846     		mov	r0, r5
 5362              	.LVL422:
2784:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c **** 
 5363              		.loc 1 2784 1 view .LVU2010
ARM GAS  /tmp/ccECQX6D.s 			page 200


 5364 0084 0BB0     		add	sp, sp, #44
 5365              		.cfi_remember_state
 5366              		.cfi_def_cfa_offset 12
 5367              		@ sp needed
 5368 0086 30BD     		pop	{r4, r5, pc}
 5369              	.LVL423:
 5370              	.L297:
 5371              		.cfi_restore_state
2673:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****     if (sdmmc_clk != 0U)
 5372              		.loc 1 2673 5 is_stmt 1 view .LVU2011
2673:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****     if (sdmmc_clk != 0U)
 5373              		.loc 1 2673 17 is_stmt 0 view .LVU2012
 5374 0088 4FF40020 		mov	r0, #524288
 5375 008c FFF7FEFF 		bl	HAL_RCCEx_GetPeriphCLKFreq
 5376              	.LVL424:
2674:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****     {
 5377              		.loc 1 2674 5 is_stmt 1 view .LVU2013
2674:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****     {
 5378              		.loc 1 2674 8 is_stmt 0 view .LVU2014
 5379 0090 0346     		mov	r3, r0
 5380 0092 18B3     		cbz	r0, .L299
2677:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c **** #if !defined(STM32L4P5xx) && !defined(STM32L4Q5xx) && !defined(STM32L4R5xx) && !defined(STM32L4R7xx
 5381              		.loc 1 2677 7 is_stmt 1 view .LVU2015
2677:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c **** #if !defined(STM32L4P5xx) && !defined(STM32L4Q5xx) && !defined(STM32L4R5xx) && !defined(STM32L4R7xx
 5382              		.loc 1 2677 43 is_stmt 0 view .LVU2016
 5383 0094 6268     		ldr	r2, [r4, #4]
2677:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c **** #if !defined(STM32L4P5xx) && !defined(STM32L4Q5xx) && !defined(STM32L4R5xx) && !defined(STM32L4R7xx
 5384              		.loc 1 2677 32 view .LVU2017
 5385 0096 0492     		str	r2, [sp, #16]
2679:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c **** #endif /* !STM32L4P5xx && !STM32L4Q5xx && !STM32L4R5xx && !STM32L4R7xx && !STM32L4R9xx && !STM32L4S
 5386              		.loc 1 2679 7 is_stmt 1 view .LVU2018
2679:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c **** #endif /* !STM32L4P5xx && !STM32L4Q5xx && !STM32L4R5xx && !STM32L4R7xx && !STM32L4R9xx && !STM32L4S
 5387              		.loc 1 2679 43 is_stmt 0 view .LVU2019
 5388 0098 A268     		ldr	r2, [r4, #8]
2679:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c **** #endif /* !STM32L4P5xx && !STM32L4Q5xx && !STM32L4R5xx && !STM32L4R7xx && !STM32L4R9xx && !STM32L4S
 5389              		.loc 1 2679 32 view .LVU2020
 5390 009a 0592     		str	r2, [sp, #20]
2681:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****       Init.BusWide             = WideMode;
 5391              		.loc 1 2681 7 is_stmt 1 view .LVU2021
2681:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****       Init.BusWide             = WideMode;
 5392              		.loc 1 2681 43 is_stmt 0 view .LVU2022
 5393 009c E268     		ldr	r2, [r4, #12]
2681:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****       Init.BusWide             = WideMode;
 5394              		.loc 1 2681 32 view .LVU2023
 5395 009e 0692     		str	r2, [sp, #24]
2682:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****       Init.HardwareFlowControl = hsd->Init.HardwareFlowControl;
 5396              		.loc 1 2682 7 is_stmt 1 view .LVU2024
2682:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****       Init.HardwareFlowControl = hsd->Init.HardwareFlowControl;
 5397              		.loc 1 2682 32 is_stmt 0 view .LVU2025
 5398 00a0 0795     		str	r5, [sp, #28]
2683:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c **** 
 5399              		.loc 1 2683 7 is_stmt 1 view .LVU2026
2683:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c **** 
 5400              		.loc 1 2683 43 is_stmt 0 view .LVU2027
 5401 00a2 6269     		ldr	r2, [r4, #20]
2683:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c **** 
 5402              		.loc 1 2683 32 view .LVU2028
ARM GAS  /tmp/ccECQX6D.s 			page 201


 5403 00a4 0892     		str	r2, [sp, #32]
2751:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****       {
 5404              		.loc 1 2751 7 is_stmt 1 view .LVU2029
2751:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****       {
 5405              		.loc 1 2751 34 is_stmt 0 view .LVU2030
 5406 00a6 A169     		ldr	r1, [r4, #24]
2751:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****       {
 5407              		.loc 1 2751 44 view .LVU2031
 5408 00a8 8A1C     		adds	r2, r1, #2
2751:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****       {
 5409              		.loc 1 2751 22 view .LVU2032
 5410 00aa B0FBF2F2 		udiv	r2, r0, r2
2751:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****       {
 5411              		.loc 1 2751 10 view .LVU2033
 5412 00ae 0F48     		ldr	r0, .L307+4
 5413              	.LVL425:
2751:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****       {
 5414              		.loc 1 2751 10 view .LVU2034
 5415 00b0 8242     		cmp	r2, r0
 5416 00b2 11D9     		bls	.L300
2753:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****       }
 5417              		.loc 1 2753 9 is_stmt 1 view .LVU2035
2753:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****       }
 5418              		.loc 1 2753 37 is_stmt 0 view .LVU2036
 5419 00b4 0E4A     		ldr	r2, .L307+8
 5420 00b6 A2FB0323 		umull	r2, r3, r2, r3
 5421              	.LVL426:
2753:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****       }
 5422              		.loc 1 2753 37 view .LVU2037
 5423 00ba DB0D     		lsrs	r3, r3, #23
2753:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****       }
 5424              		.loc 1 2753 61 view .LVU2038
 5425 00bc 023B     		subs	r3, r3, #2
2753:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****       }
 5426              		.loc 1 2753 23 view .LVU2039
 5427 00be 0993     		str	r3, [sp, #36]
 5428              	.L301:
2761:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****     }
 5429              		.loc 1 2761 7 is_stmt 1 view .LVU2040
2761:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****     }
 5430              		.loc 1 2761 13 is_stmt 0 view .LVU2041
 5431 00c0 0AAB     		add	r3, sp, #40
 5432 00c2 13E90700 		ldmdb	r3, {r0, r1, r2}
 5433 00c6 8DE80700 		stm	sp, {r0, r1, r2}
 5434 00ca 04AB     		add	r3, sp, #16
 5435 00cc 0ECB     		ldm	r3, {r1, r2, r3}
 5436 00ce 2068     		ldr	r0, [r4]
 5437 00d0 FFF7FEFF 		bl	SDMMC_Init
 5438              	.LVL427:
2627:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c **** 
 5439              		.loc 1 2627 21 view .LVU2042
 5440 00d4 0025     		movs	r5, #0
 5441              	.LVL428:
2627:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c **** 
 5442              		.loc 1 2627 21 view .LVU2043
 5443 00d6 C4E7     		b	.L298
 5444              	.LVL429:
ARM GAS  /tmp/ccECQX6D.s 			page 202


 5445              	.L300:
2757:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****       }
 5446              		.loc 1 2757 9 is_stmt 1 view .LVU2044
2757:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****       }
 5447              		.loc 1 2757 23 is_stmt 0 view .LVU2045
 5448 00d8 0991     		str	r1, [sp, #36]
 5449 00da F1E7     		b	.L301
 5450              	.LVL430:
 5451              	.L299:
2765:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****       status = HAL_ERROR;
 5452              		.loc 1 2765 7 is_stmt 1 view .LVU2046
2765:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****       status = HAL_ERROR;
 5453              		.loc 1 2765 22 is_stmt 0 view .LVU2047
 5454 00dc A36B     		ldr	r3, [r4, #56]
 5455 00de 43F00063 		orr	r3, r3, #134217728
 5456 00e2 A363     		str	r3, [r4, #56]
2766:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****     }
 5457              		.loc 1 2766 7 is_stmt 1 view .LVU2048
 5458              	.LVL431:
2766:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****     }
 5459              		.loc 1 2766 14 is_stmt 0 view .LVU2049
 5460 00e4 0125     		movs	r5, #1
 5461              	.LVL432:
2766:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****     }
 5462              		.loc 1 2766 14 view .LVU2050
 5463 00e6 BCE7     		b	.L298
 5464              	.L308:
 5465              		.align	2
 5466              	.L307:
 5467 00e8 FF054000 		.word	4195839
 5468 00ec 40787D01 		.word	25000000
 5469 00f0 893BE655 		.word	1441151881
 5470              		.cfi_endproc
 5471              	.LFE311:
 5473              		.section	.text.HAL_SD_GetCardState,"ax",%progbits
 5474              		.align	1
 5475              		.global	HAL_SD_GetCardState
 5476              		.syntax unified
 5477              		.thumb
 5478              		.thumb_func
 5480              	HAL_SD_GetCardState:
 5481              	.LVL433:
 5482              	.LFB312:
3008:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****   uint32_t cardstate;
 5483              		.loc 1 3008 1 is_stmt 1 view -0
 5484              		.cfi_startproc
 5485              		@ args = 0, pretend = 0, frame = 8
 5486              		@ frame_needed = 0, uses_anonymous_args = 0
3008:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****   uint32_t cardstate;
 5487              		.loc 1 3008 1 is_stmt 0 view .LVU2052
 5488 0000 10B5     		push	{r4, lr}
 5489              		.cfi_def_cfa_offset 8
 5490              		.cfi_offset 4, -8
 5491              		.cfi_offset 14, -4
 5492 0002 82B0     		sub	sp, sp, #8
 5493              		.cfi_def_cfa_offset 16
 5494 0004 0446     		mov	r4, r0
ARM GAS  /tmp/ccECQX6D.s 			page 203


3009:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****   uint32_t errorstate;
 5495              		.loc 1 3009 3 is_stmt 1 view .LVU2053
3010:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****   uint32_t resp1 = 0;
 5496              		.loc 1 3010 3 view .LVU2054
3011:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c **** 
 5497              		.loc 1 3011 3 view .LVU2055
3011:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c **** 
 5498              		.loc 1 3011 12 is_stmt 0 view .LVU2056
 5499 0006 0023     		movs	r3, #0
 5500 0008 0193     		str	r3, [sp, #4]
3013:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****   if(errorstate != HAL_SD_ERROR_NONE)
 5501              		.loc 1 3013 3 is_stmt 1 view .LVU2057
3013:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****   if(errorstate != HAL_SD_ERROR_NONE)
 5502              		.loc 1 3013 16 is_stmt 0 view .LVU2058
 5503 000a 01A9     		add	r1, sp, #4
 5504 000c FFF7FEFF 		bl	SD_SendStatus
 5505              	.LVL434:
3014:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****   {
 5506              		.loc 1 3014 3 is_stmt 1 view .LVU2059
3014:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****   {
 5507              		.loc 1 3014 5 is_stmt 0 view .LVU2060
 5508 0010 10B1     		cbz	r0, .L310
3016:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****   }
 5509              		.loc 1 3016 5 is_stmt 1 view .LVU2061
3016:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****   }
 5510              		.loc 1 3016 20 is_stmt 0 view .LVU2062
 5511 0012 A36B     		ldr	r3, [r4, #56]
 5512 0014 0343     		orrs	r3, r3, r0
 5513 0016 A363     		str	r3, [r4, #56]
 5514              	.L310:
3019:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c **** 
 5515              		.loc 1 3019 3 is_stmt 1 view .LVU2063
 5516              	.LVL435:
3021:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c **** }
 5517              		.loc 1 3021 3 view .LVU2064
3022:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c **** 
 5518              		.loc 1 3022 1 is_stmt 0 view .LVU2065
 5519 0018 0198     		ldr	r0, [sp, #4]
 5520              	.LVL436:
3022:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c **** 
 5521              		.loc 1 3022 1 view .LVU2066
 5522 001a C0F34320 		ubfx	r0, r0, #9, #4
 5523              	.LVL437:
3022:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c **** 
 5524              		.loc 1 3022 1 view .LVU2067
 5525 001e 02B0     		add	sp, sp, #8
 5526              		.cfi_def_cfa_offset 8
 5527              		@ sp needed
 5528 0020 10BD     		pop	{r4, pc}
3022:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c **** 
 5529              		.loc 1 3022 1 view .LVU2068
 5530              		.cfi_endproc
 5531              	.LFE312:
 5533              		.section	.text.SD_DMAError,"ax",%progbits
 5534              		.align	1
 5535              		.syntax unified
 5536              		.thumb
ARM GAS  /tmp/ccECQX6D.s 			page 204


 5537              		.thumb_func
 5539              	SD_DMAError:
 5540              	.LVL438:
 5541              	.LFB317:
3276:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****   SD_HandleTypeDef* hsd = (SD_HandleTypeDef* )(hdma->Parent);
 5542              		.loc 1 3276 1 is_stmt 1 view -0
 5543              		.cfi_startproc
 5544              		@ args = 0, pretend = 0, frame = 0
 5545              		@ frame_needed = 0, uses_anonymous_args = 0
3276:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****   SD_HandleTypeDef* hsd = (SD_HandleTypeDef* )(hdma->Parent);
 5546              		.loc 1 3276 1 is_stmt 0 view .LVU2070
 5547 0000 10B5     		push	{r4, lr}
 5548              		.cfi_def_cfa_offset 8
 5549              		.cfi_offset 4, -8
 5550              		.cfi_offset 14, -4
3277:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****   HAL_SD_CardStateTypeDef CardState;
 5551              		.loc 1 3277 3 is_stmt 1 view .LVU2071
3277:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****   HAL_SD_CardStateTypeDef CardState;
 5552              		.loc 1 3277 21 is_stmt 0 view .LVU2072
 5553 0002 846A     		ldr	r4, [r0, #40]
 5554              	.LVL439:
3278:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****   uint32_t RxErrorCode, TxErrorCode;
 5555              		.loc 1 3278 3 is_stmt 1 view .LVU2073
3279:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c **** 
 5556              		.loc 1 3279 3 view .LVU2074
3281:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****   TxErrorCode = hsd->hdmatx->ErrorCode;
 5557              		.loc 1 3281 3 view .LVU2075
3281:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****   TxErrorCode = hsd->hdmatx->ErrorCode;
 5558              		.loc 1 3281 20 is_stmt 0 view .LVU2076
 5559 0004 236C     		ldr	r3, [r4, #64]
3281:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****   TxErrorCode = hsd->hdmatx->ErrorCode;
 5560              		.loc 1 3281 15 view .LVU2077
 5561 0006 DB6B     		ldr	r3, [r3, #60]
 5562              	.LVL440:
3282:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****   if((RxErrorCode == HAL_DMA_ERROR_TE) || (TxErrorCode == HAL_DMA_ERROR_TE))
 5563              		.loc 1 3282 3 is_stmt 1 view .LVU2078
3282:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****   if((RxErrorCode == HAL_DMA_ERROR_TE) || (TxErrorCode == HAL_DMA_ERROR_TE))
 5564              		.loc 1 3282 20 is_stmt 0 view .LVU2079
 5565 0008 E26B     		ldr	r2, [r4, #60]
3282:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****   if((RxErrorCode == HAL_DMA_ERROR_TE) || (TxErrorCode == HAL_DMA_ERROR_TE))
 5566              		.loc 1 3282 15 view .LVU2080
 5567 000a D26B     		ldr	r2, [r2, #60]
 5568              	.LVL441:
3283:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****   {
 5569              		.loc 1 3283 3 is_stmt 1 view .LVU2081
3283:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****   {
 5570              		.loc 1 3283 5 is_stmt 0 view .LVU2082
 5571 000c 012B     		cmp	r3, #1
 5572 000e 05D0     		beq	.L313
3283:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****   {
 5573              		.loc 1 3283 40 discriminator 1 view .LVU2083
 5574 0010 012A     		cmp	r2, #1
 5575 0012 03D0     		beq	.L313
 5576              	.LVL442:
 5577              	.L314:
3306:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c **** #endif
 5578              		.loc 1 3306 3 is_stmt 1 view .LVU2084
ARM GAS  /tmp/ccECQX6D.s 			page 205


 5579 0014 2046     		mov	r0, r4
 5580 0016 FFF7FEFF 		bl	HAL_SD_ErrorCallback
 5581              	.LVL443:
3308:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c **** 
 5582              		.loc 1 3308 1 is_stmt 0 view .LVU2085
 5583 001a 10BD     		pop	{r4, pc}
 5584              	.LVL444:
 5585              	.L313:
3286:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c **** 
 5586              		.loc 1 3286 5 is_stmt 1 view .LVU2086
 5587 001c 2368     		ldr	r3, [r4]
 5588              	.LVL445:
3286:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c **** 
 5589              		.loc 1 3286 5 is_stmt 0 view .LVU2087
 5590 001e 0F4A     		ldr	r2, .L318
 5591              	.LVL446:
3286:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c **** 
 5592              		.loc 1 3286 5 view .LVU2088
 5593 0020 9A63     		str	r2, [r3, #56]
3289:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****       SDMMC_IT_TXUNDERR| SDMMC_IT_RXOVERR);
 5594              		.loc 1 3289 5 is_stmt 1 view .LVU2089
 5595 0022 2268     		ldr	r2, [r4]
 5596 0024 D36B     		ldr	r3, [r2, #60]
 5597 0026 23F49D73 		bic	r3, r3, #314
 5598 002a D363     		str	r3, [r2, #60]
3292:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****     CardState = HAL_SD_GetCardState(hsd);
 5599              		.loc 1 3292 5 view .LVU2090
3292:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****     CardState = HAL_SD_GetCardState(hsd);
 5600              		.loc 1 3292 20 is_stmt 0 view .LVU2091
 5601 002c A36B     		ldr	r3, [r4, #56]
 5602 002e 43F08043 		orr	r3, r3, #1073741824
 5603 0032 A363     		str	r3, [r4, #56]
3293:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****     if((CardState == HAL_SD_CARD_RECEIVING) || (CardState == HAL_SD_CARD_SENDING))
 5604              		.loc 1 3293 5 is_stmt 1 view .LVU2092
3293:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****     if((CardState == HAL_SD_CARD_RECEIVING) || (CardState == HAL_SD_CARD_SENDING))
 5605              		.loc 1 3293 17 is_stmt 0 view .LVU2093
 5606 0034 2046     		mov	r0, r4
 5607              	.LVL447:
3293:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****     if((CardState == HAL_SD_CARD_RECEIVING) || (CardState == HAL_SD_CARD_SENDING))
 5608              		.loc 1 3293 17 view .LVU2094
 5609 0036 FFF7FEFF 		bl	HAL_SD_GetCardState
 5610              	.LVL448:
3294:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****     {
 5611              		.loc 1 3294 5 is_stmt 1 view .LVU2095
3294:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****     {
 5612              		.loc 1 3294 45 is_stmt 0 view .LVU2096
 5613 003a 0538     		subs	r0, r0, #5
 5614              	.LVL449:
3294:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****     {
 5615              		.loc 1 3294 7 view .LVU2097
 5616 003c 0128     		cmp	r0, #1
 5617 003e 05D9     		bls	.L317
 5618              	.LVL450:
 5619              	.L315:
3299:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****     hsd->Context = SD_CONTEXT_NONE;
 5620              		.loc 1 3299 5 is_stmt 1 view .LVU2098
3299:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****     hsd->Context = SD_CONTEXT_NONE;
ARM GAS  /tmp/ccECQX6D.s 			page 206


 5621              		.loc 1 3299 15 is_stmt 0 view .LVU2099
 5622 0040 0123     		movs	r3, #1
 5623 0042 84F83430 		strb	r3, [r4, #52]
3300:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****   }
 5624              		.loc 1 3300 5 is_stmt 1 view .LVU2100
3300:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****   }
 5625              		.loc 1 3300 18 is_stmt 0 view .LVU2101
 5626 0046 0023     		movs	r3, #0
 5627 0048 2363     		str	r3, [r4, #48]
 5628 004a E3E7     		b	.L314
 5629              	.LVL451:
 5630              	.L317:
3296:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****     }
 5631              		.loc 1 3296 7 is_stmt 1 view .LVU2102
3296:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****     }
 5632              		.loc 1 3296 25 is_stmt 0 view .LVU2103
 5633 004c 2068     		ldr	r0, [r4]
 5634              	.LVL452:
3296:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****     }
 5635              		.loc 1 3296 25 view .LVU2104
 5636 004e FFF7FEFF 		bl	SDMMC_CmdStopTransfer
 5637              	.LVL453:
3296:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****     }
 5638              		.loc 1 3296 22 view .LVU2105
 5639 0052 A36B     		ldr	r3, [r4, #56]
 5640 0054 0343     		orrs	r3, r3, r0
 5641 0056 A363     		str	r3, [r4, #56]
 5642 0058 F2E7     		b	.L315
 5643              	.L319:
 5644 005a 00BF     		.align	2
 5645              	.L318:
 5646 005c FF054000 		.word	4195839
 5647              		.cfi_endproc
 5648              	.LFE317:
 5650              		.section	.text.SD_DMATxAbort,"ax",%progbits
 5651              		.align	1
 5652              		.syntax unified
 5653              		.thumb
 5654              		.thumb_func
 5656              	SD_DMATxAbort:
 5657              	.LVL454:
 5658              	.LFB318:
3316:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****   SD_HandleTypeDef* hsd = (SD_HandleTypeDef* )(hdma->Parent);
 5659              		.loc 1 3316 1 is_stmt 1 view -0
 5660              		.cfi_startproc
 5661              		@ args = 0, pretend = 0, frame = 0
 5662              		@ frame_needed = 0, uses_anonymous_args = 0
3316:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****   SD_HandleTypeDef* hsd = (SD_HandleTypeDef* )(hdma->Parent);
 5663              		.loc 1 3316 1 is_stmt 0 view .LVU2107
 5664 0000 10B5     		push	{r4, lr}
 5665              		.cfi_def_cfa_offset 8
 5666              		.cfi_offset 4, -8
 5667              		.cfi_offset 14, -4
3317:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****   HAL_SD_CardStateTypeDef CardState;
 5668              		.loc 1 3317 3 is_stmt 1 view .LVU2108
3317:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****   HAL_SD_CardStateTypeDef CardState;
 5669              		.loc 1 3317 21 is_stmt 0 view .LVU2109
ARM GAS  /tmp/ccECQX6D.s 			page 207


 5670 0002 846A     		ldr	r4, [r0, #40]
 5671              	.LVL455:
3318:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c **** 
 5672              		.loc 1 3318 3 is_stmt 1 view .LVU2110
3321:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c **** 
 5673              		.loc 1 3321 3 view .LVU2111
 5674 0004 2368     		ldr	r3, [r4]
 5675 0006 40F23A52 		movw	r2, #1338
 5676 000a 9A63     		str	r2, [r3, #56]
3323:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****   hsd->State = HAL_SD_STATE_READY;
 5677              		.loc 1 3323 3 view .LVU2112
3323:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****   hsd->State = HAL_SD_STATE_READY;
 5678              		.loc 1 3323 15 is_stmt 0 view .LVU2113
 5679 000c 2046     		mov	r0, r4
 5680              	.LVL456:
3323:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****   hsd->State = HAL_SD_STATE_READY;
 5681              		.loc 1 3323 15 view .LVU2114
 5682 000e FFF7FEFF 		bl	HAL_SD_GetCardState
 5683              	.LVL457:
3324:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****   hsd->Context = SD_CONTEXT_NONE;
 5684              		.loc 1 3324 3 is_stmt 1 view .LVU2115
3324:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****   hsd->Context = SD_CONTEXT_NONE;
 5685              		.loc 1 3324 14 is_stmt 0 view .LVU2116
 5686 0012 0123     		movs	r3, #1
 5687 0014 84F83430 		strb	r3, [r4, #52]
3325:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****   if((CardState == HAL_SD_CARD_RECEIVING) || (CardState == HAL_SD_CARD_SENDING))
 5688              		.loc 1 3325 3 is_stmt 1 view .LVU2117
3325:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****   if((CardState == HAL_SD_CARD_RECEIVING) || (CardState == HAL_SD_CARD_SENDING))
 5689              		.loc 1 3325 16 is_stmt 0 view .LVU2118
 5690 0018 0023     		movs	r3, #0
 5691 001a 2363     		str	r3, [r4, #48]
3326:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****   {
 5692              		.loc 1 3326 3 is_stmt 1 view .LVU2119
3326:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****   {
 5693              		.loc 1 3326 43 is_stmt 0 view .LVU2120
 5694 001c 0538     		subs	r0, r0, #5
 5695              	.LVL458:
3326:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****   {
 5696              		.loc 1 3326 5 view .LVU2121
 5697 001e 0128     		cmp	r0, #1
 5698 0020 05D9     		bls	.L325
 5699              	.LVL459:
 5700              	.L321:
3331:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****   {
 5701              		.loc 1 3331 3 is_stmt 1 view .LVU2122
3331:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****   {
 5702              		.loc 1 3331 9 is_stmt 0 view .LVU2123
 5703 0022 A36B     		ldr	r3, [r4, #56]
3331:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****   {
 5704              		.loc 1 3331 5 view .LVU2124
 5705 0024 53B9     		cbnz	r3, .L322
3336:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c **** #endif
 5706              		.loc 1 3336 5 is_stmt 1 view .LVU2125
 5707 0026 2046     		mov	r0, r4
 5708 0028 FFF7FEFF 		bl	HAL_SD_AbortCallback
 5709              	.LVL460:
 5710              	.L320:
ARM GAS  /tmp/ccECQX6D.s 			page 208


3347:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c **** 
 5711              		.loc 1 3347 1 is_stmt 0 view .LVU2126
 5712 002c 10BD     		pop	{r4, pc}
 5713              	.LVL461:
 5714              	.L325:
3328:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****   }
 5715              		.loc 1 3328 5 is_stmt 1 view .LVU2127
3328:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****   }
 5716              		.loc 1 3328 23 is_stmt 0 view .LVU2128
 5717 002e 2068     		ldr	r0, [r4]
 5718              	.LVL462:
3328:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****   }
 5719              		.loc 1 3328 23 view .LVU2129
 5720 0030 FFF7FEFF 		bl	SDMMC_CmdStopTransfer
 5721              	.LVL463:
3328:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****   }
 5722              		.loc 1 3328 20 view .LVU2130
 5723 0034 A36B     		ldr	r3, [r4, #56]
 5724 0036 0343     		orrs	r3, r3, r0
 5725 0038 A363     		str	r3, [r4, #56]
 5726 003a F2E7     		b	.L321
 5727              	.L322:
3344:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c **** #endif
 5728              		.loc 1 3344 5 is_stmt 1 view .LVU2131
 5729 003c 2046     		mov	r0, r4
 5730 003e FFF7FEFF 		bl	HAL_SD_ErrorCallback
 5731              	.LVL464:
3347:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c **** 
 5732              		.loc 1 3347 1 is_stmt 0 view .LVU2132
 5733 0042 F3E7     		b	.L320
 5734              		.cfi_endproc
 5735              	.LFE318:
 5737              		.section	.text.SD_DMARxAbort,"ax",%progbits
 5738              		.align	1
 5739              		.syntax unified
 5740              		.thumb
 5741              		.thumb_func
 5743              	SD_DMARxAbort:
 5744              	.LVL465:
 5745              	.LFB319:
3355:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****   SD_HandleTypeDef* hsd = (SD_HandleTypeDef* )(hdma->Parent);
 5746              		.loc 1 3355 1 is_stmt 1 view -0
 5747              		.cfi_startproc
 5748              		@ args = 0, pretend = 0, frame = 0
 5749              		@ frame_needed = 0, uses_anonymous_args = 0
3355:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****   SD_HandleTypeDef* hsd = (SD_HandleTypeDef* )(hdma->Parent);
 5750              		.loc 1 3355 1 is_stmt 0 view .LVU2134
 5751 0000 10B5     		push	{r4, lr}
 5752              		.cfi_def_cfa_offset 8
 5753              		.cfi_offset 4, -8
 5754              		.cfi_offset 14, -4
3356:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****   HAL_SD_CardStateTypeDef CardState;
 5755              		.loc 1 3356 3 is_stmt 1 view .LVU2135
3356:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****   HAL_SD_CardStateTypeDef CardState;
 5756              		.loc 1 3356 21 is_stmt 0 view .LVU2136
 5757 0002 846A     		ldr	r4, [r0, #40]
 5758              	.LVL466:
ARM GAS  /tmp/ccECQX6D.s 			page 209


3357:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c **** 
 5759              		.loc 1 3357 3 is_stmt 1 view .LVU2137
3360:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c **** 
 5760              		.loc 1 3360 3 view .LVU2138
 5761 0004 2368     		ldr	r3, [r4]
 5762 0006 40F23A52 		movw	r2, #1338
 5763 000a 9A63     		str	r2, [r3, #56]
3362:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****   hsd->State = HAL_SD_STATE_READY;
 5764              		.loc 1 3362 3 view .LVU2139
3362:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****   hsd->State = HAL_SD_STATE_READY;
 5765              		.loc 1 3362 15 is_stmt 0 view .LVU2140
 5766 000c 2046     		mov	r0, r4
 5767              	.LVL467:
3362:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****   hsd->State = HAL_SD_STATE_READY;
 5768              		.loc 1 3362 15 view .LVU2141
 5769 000e FFF7FEFF 		bl	HAL_SD_GetCardState
 5770              	.LVL468:
3363:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****   hsd->Context = SD_CONTEXT_NONE;
 5771              		.loc 1 3363 3 is_stmt 1 view .LVU2142
3363:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****   hsd->Context = SD_CONTEXT_NONE;
 5772              		.loc 1 3363 14 is_stmt 0 view .LVU2143
 5773 0012 0123     		movs	r3, #1
 5774 0014 84F83430 		strb	r3, [r4, #52]
3364:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****   if((CardState == HAL_SD_CARD_RECEIVING) || (CardState == HAL_SD_CARD_SENDING))
 5775              		.loc 1 3364 3 is_stmt 1 view .LVU2144
3364:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****   if((CardState == HAL_SD_CARD_RECEIVING) || (CardState == HAL_SD_CARD_SENDING))
 5776              		.loc 1 3364 16 is_stmt 0 view .LVU2145
 5777 0018 0023     		movs	r3, #0
 5778 001a 2363     		str	r3, [r4, #48]
3365:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****   {
 5779              		.loc 1 3365 3 is_stmt 1 view .LVU2146
3365:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****   {
 5780              		.loc 1 3365 43 is_stmt 0 view .LVU2147
 5781 001c 0538     		subs	r0, r0, #5
 5782              	.LVL469:
3365:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****   {
 5783              		.loc 1 3365 5 view .LVU2148
 5784 001e 0128     		cmp	r0, #1
 5785 0020 05D9     		bls	.L331
 5786              	.LVL470:
 5787              	.L327:
3370:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****   {
 5788              		.loc 1 3370 3 is_stmt 1 view .LVU2149
3370:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****   {
 5789              		.loc 1 3370 9 is_stmt 0 view .LVU2150
 5790 0022 A36B     		ldr	r3, [r4, #56]
3370:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****   {
 5791              		.loc 1 3370 5 view .LVU2151
 5792 0024 53B9     		cbnz	r3, .L328
3375:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c **** #endif
 5793              		.loc 1 3375 5 is_stmt 1 view .LVU2152
 5794 0026 2046     		mov	r0, r4
 5795 0028 FFF7FEFF 		bl	HAL_SD_AbortCallback
 5796              	.LVL471:
 5797              	.L326:
3386:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c **** #endif /* !STM32L4P5xx && !STM32L4Q5xx && !STM32L4R5xx && !STM32L4R7xx && !STM32L4R9xx && !STM32L4S
 5798              		.loc 1 3386 1 is_stmt 0 view .LVU2153
ARM GAS  /tmp/ccECQX6D.s 			page 210


 5799 002c 10BD     		pop	{r4, pc}
 5800              	.LVL472:
 5801              	.L331:
3367:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****   }
 5802              		.loc 1 3367 5 is_stmt 1 view .LVU2154
3367:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****   }
 5803              		.loc 1 3367 23 is_stmt 0 view .LVU2155
 5804 002e 2068     		ldr	r0, [r4]
 5805              	.LVL473:
3367:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****   }
 5806              		.loc 1 3367 23 view .LVU2156
 5807 0030 FFF7FEFF 		bl	SDMMC_CmdStopTransfer
 5808              	.LVL474:
3367:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****   }
 5809              		.loc 1 3367 20 view .LVU2157
 5810 0034 A36B     		ldr	r3, [r4, #56]
 5811 0036 0343     		orrs	r3, r3, r0
 5812 0038 A363     		str	r3, [r4, #56]
 5813 003a F2E7     		b	.L327
 5814              	.L328:
3383:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c **** #endif
 5815              		.loc 1 3383 5 is_stmt 1 view .LVU2158
 5816 003c 2046     		mov	r0, r4
 5817 003e FFF7FEFF 		bl	HAL_SD_ErrorCallback
 5818              	.LVL475:
3386:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c **** #endif /* !STM32L4P5xx && !STM32L4Q5xx && !STM32L4R5xx && !STM32L4R7xx && !STM32L4R9xx && !STM32L4S
 5819              		.loc 1 3386 1 is_stmt 0 view .LVU2159
 5820 0042 F3E7     		b	.L326
 5821              		.cfi_endproc
 5822              	.LFE319:
 5824              		.section	.text.HAL_SD_IRQHandler,"ax",%progbits
 5825              		.align	1
 5826              		.global	HAL_SD_IRQHandler
 5827              		.syntax unified
 5828              		.thumb
 5829              		.thumb_func
 5831              	HAL_SD_IRQHandler:
 5832              	.LVL476:
 5833              	.LFB300:
1693:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****   uint32_t errorstate;
 5834              		.loc 1 1693 1 is_stmt 1 view -0
 5835              		.cfi_startproc
 5836              		@ args = 0, pretend = 0, frame = 0
 5837              		@ frame_needed = 0, uses_anonymous_args = 0
1693:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****   uint32_t errorstate;
 5838              		.loc 1 1693 1 is_stmt 0 view .LVU2161
 5839 0000 38B5     		push	{r3, r4, r5, lr}
 5840              		.cfi_def_cfa_offset 16
 5841              		.cfi_offset 3, -16
 5842              		.cfi_offset 4, -12
 5843              		.cfi_offset 5, -8
 5844              		.cfi_offset 14, -4
 5845 0002 0446     		mov	r4, r0
1694:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****   uint32_t context = hsd->Context;
 5846              		.loc 1 1694 3 is_stmt 1 view .LVU2162
1695:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c **** 
 5847              		.loc 1 1695 3 view .LVU2163
ARM GAS  /tmp/ccECQX6D.s 			page 211


1695:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c **** 
 5848              		.loc 1 1695 12 is_stmt 0 view .LVU2164
 5849 0004 056B     		ldr	r5, [r0, #48]
 5850              	.LVL477:
1698:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****   {
 5851              		.loc 1 1698 3 is_stmt 1 view .LVU2165
1698:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****   {
 5852              		.loc 1 1698 7 is_stmt 0 view .LVU2166
 5853 0006 0368     		ldr	r3, [r0]
 5854 0008 5A6B     		ldr	r2, [r3, #52]
1698:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****   {
 5855              		.loc 1 1698 5 view .LVU2167
 5856 000a 12F4004F 		tst	r2, #32768
 5857 000e 02D0     		beq	.L333
1698:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****   {
 5858              		.loc 1 1698 61 discriminator 1 view .LVU2168
 5859 0010 15F0080F 		tst	r5, #8
 5860 0014 28D1     		bne	.L349
 5861              	.L333:
1703:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****   {
 5862              		.loc 1 1703 8 is_stmt 1 view .LVU2169
1703:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****   {
 5863              		.loc 1 1703 11 is_stmt 0 view .LVU2170
 5864 0016 5A6B     		ldr	r2, [r3, #52]
1703:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****   {
 5865              		.loc 1 1703 10 view .LVU2171
 5866 0018 12F4807F 		tst	r2, #256
 5867 001c 5AD0     		beq	.L335
1705:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c **** 
 5868              		.loc 1 1705 5 is_stmt 1 view .LVU2172
 5869 001e 4FF48072 		mov	r2, #256
 5870 0022 9A63     		str	r2, [r3, #56]
1707:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****                              SDMMC_IT_TXUNDERR | SDMMC_IT_RXOVERR  | SDMMC_IT_TXFIFOHE |\
 5871              		.loc 1 1707 5 view .LVU2173
 5872 0024 2268     		ldr	r2, [r4]
 5873 0026 D36B     		ldr	r3, [r2, #60]
 5874 0028 23F44143 		bic	r3, r3, #49408
 5875 002c 23F03A03 		bic	r3, r3, #58
 5876 0030 D363     		str	r3, [r2, #60]
1715:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c **** #endif /* STM32L4P5xx || STM32L4Q5xx || STM32L4R5xx || STM32L4R7xx || STM32L4R9xx || STM32L4S5xx ||
 5877              		.loc 1 1715 5 view .LVU2174
1715:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c **** #endif /* STM32L4P5xx || STM32L4Q5xx || STM32L4R5xx || STM32L4R7xx || STM32L4R9xx || STM32L4S5xx ||
 5878              		.loc 1 1715 8 is_stmt 0 view .LVU2175
 5879 0032 2268     		ldr	r2, [r4]
1715:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c **** #endif /* STM32L4P5xx || STM32L4Q5xx || STM32L4R5xx || STM32L4R7xx || STM32L4R9xx || STM32L4S5xx ||
 5880              		.loc 1 1715 26 view .LVU2176
 5881 0034 D36A     		ldr	r3, [r2, #44]
 5882 0036 23F00103 		bic	r3, r3, #1
 5883 003a D362     		str	r3, [r2, #44]
1718:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****     {
 5884              		.loc 1 1718 5 is_stmt 1 view .LVU2177
1718:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****     {
 5885              		.loc 1 1718 7 is_stmt 0 view .LVU2178
 5886 003c 15F0080F 		tst	r5, #8
 5887 0040 26D0     		beq	.L336
1720:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****       {
 5888              		.loc 1 1720 7 is_stmt 1 view .LVU2179
ARM GAS  /tmp/ccECQX6D.s 			page 212


1720:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****       {
 5889              		.loc 1 1720 9 is_stmt 0 view .LVU2180
 5890 0042 15F0220F 		tst	r5, #34
 5891 0046 12D1     		bne	.L350
 5892              	.LVL478:
 5893              	.L337:
1735:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c **** 
 5894              		.loc 1 1735 7 is_stmt 1 view .LVU2181
 5895 0048 2368     		ldr	r3, [r4]
 5896 004a 40F23A52 		movw	r2, #1338
 5897 004e 9A63     		str	r2, [r3, #56]
1737:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****       hsd->Context = SD_CONTEXT_NONE;
 5898              		.loc 1 1737 7 view .LVU2182
1737:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****       hsd->Context = SD_CONTEXT_NONE;
 5899              		.loc 1 1737 18 is_stmt 0 view .LVU2183
 5900 0050 0123     		movs	r3, #1
 5901 0052 84F83430 		strb	r3, [r4, #52]
1738:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****       if(((context & SD_CONTEXT_READ_SINGLE_BLOCK) != 0U) || ((context & SD_CONTEXT_READ_MULTIPLE_B
 5902              		.loc 1 1738 7 is_stmt 1 view .LVU2184
1738:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****       if(((context & SD_CONTEXT_READ_SINGLE_BLOCK) != 0U) || ((context & SD_CONTEXT_READ_MULTIPLE_B
 5903              		.loc 1 1738 20 is_stmt 0 view .LVU2185
 5904 0056 0023     		movs	r3, #0
 5905 0058 2363     		str	r3, [r4, #48]
1739:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****       {
 5906              		.loc 1 1739 7 is_stmt 1 view .LVU2186
1739:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****       {
 5907              		.loc 1 1739 9 is_stmt 0 view .LVU2187
 5908 005a 15F0030F 		tst	r5, #3
 5909 005e 13D0     		beq	.L338
1744:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c **** #endif /* USE_HAL_SD_REGISTER_CALLBACKS */
 5910              		.loc 1 1744 9 is_stmt 1 view .LVU2188
 5911 0060 2046     		mov	r0, r4
 5912 0062 FFF7FEFF 		bl	HAL_SD_RxCpltCallback
 5913              	.LVL479:
 5914 0066 01E0     		b	.L332
 5915              	.LVL480:
 5916              	.L349:
1700:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****   }
 5917              		.loc 1 1700 5 view .LVU2189
 5918 0068 FFF7FEFF 		bl	SD_Read_IT
 5919              	.LVL481:
 5920              	.L332:
1994:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c **** 
 5921              		.loc 1 1994 1 is_stmt 0 view .LVU2190
 5922 006c 38BD     		pop	{r3, r4, r5, pc}
 5923              	.LVL482:
 5924              	.L350:
1722:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****         if(errorstate != HAL_SD_ERROR_NONE)
 5925              		.loc 1 1722 9 is_stmt 1 view .LVU2191
1722:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****         if(errorstate != HAL_SD_ERROR_NONE)
 5926              		.loc 1 1722 22 is_stmt 0 view .LVU2192
 5927 006e 2068     		ldr	r0, [r4]
 5928              	.LVL483:
1722:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****         if(errorstate != HAL_SD_ERROR_NONE)
 5929              		.loc 1 1722 22 view .LVU2193
 5930 0070 FFF7FEFF 		bl	SDMMC_CmdStopTransfer
 5931              	.LVL484:
ARM GAS  /tmp/ccECQX6D.s 			page 213


1723:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****         {
 5932              		.loc 1 1723 9 is_stmt 1 view .LVU2194
1723:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****         {
 5933              		.loc 1 1723 11 is_stmt 0 view .LVU2195
 5934 0074 0346     		mov	r3, r0
 5935 0076 0028     		cmp	r0, #0
 5936 0078 E6D0     		beq	.L337
1725:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c **** #if defined (USE_HAL_SD_REGISTER_CALLBACKS) && (USE_HAL_SD_REGISTER_CALLBACKS == 1U)
 5937              		.loc 1 1725 11 is_stmt 1 view .LVU2196
1725:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c **** #if defined (USE_HAL_SD_REGISTER_CALLBACKS) && (USE_HAL_SD_REGISTER_CALLBACKS == 1U)
 5938              		.loc 1 1725 26 is_stmt 0 view .LVU2197
 5939 007a A26B     		ldr	r2, [r4, #56]
 5940 007c 1343     		orrs	r3, r3, r2
 5941 007e A363     		str	r3, [r4, #56]
1729:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c **** #endif /* USE_HAL_SD_REGISTER_CALLBACKS */
 5942              		.loc 1 1729 11 is_stmt 1 view .LVU2198
 5943 0080 2046     		mov	r0, r4
 5944              	.LVL485:
1729:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c **** #endif /* USE_HAL_SD_REGISTER_CALLBACKS */
 5945              		.loc 1 1729 11 is_stmt 0 view .LVU2199
 5946 0082 FFF7FEFF 		bl	HAL_SD_ErrorCallback
 5947              	.LVL486:
 5948 0086 DFE7     		b	.L337
 5949              	.L338:
1752:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c **** #endif /* USE_HAL_SD_REGISTER_CALLBACKS */
 5950              		.loc 1 1752 9 is_stmt 1 view .LVU2200
 5951 0088 2046     		mov	r0, r4
 5952 008a FFF7FEFF 		bl	HAL_SD_TxCpltCallback
 5953              	.LVL487:
 5954 008e EDE7     		b	.L332
 5955              	.LVL488:
 5956              	.L336:
1756:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****     {
 5957              		.loc 1 1756 10 view .LVU2201
1756:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****     {
 5958              		.loc 1 1756 12 is_stmt 0 view .LVU2202
 5959 0090 15F0800F 		tst	r5, #128
 5960 0094 EAD0     		beq	.L332
1797:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****       {
 5961              		.loc 1 1797 7 is_stmt 1 view .LVU2203
1797:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****       {
 5962              		.loc 1 1797 9 is_stmt 0 view .LVU2204
 5963 0096 15F0200F 		tst	r5, #32
 5964 009a 0ED1     		bne	.L351
 5965              	.LVL489:
 5966              	.L339:
1810:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****       {
 5967              		.loc 1 1810 7 is_stmt 1 view .LVU2205
1810:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****       {
 5968              		.loc 1 1810 9 is_stmt 0 view .LVU2206
 5969 009c 15F0030F 		tst	r5, #3
 5970 00a0 E4D1     		bne	.L332
1814:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c **** 
 5971              		.loc 1 1814 9 is_stmt 1 view .LVU2207
1814:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c **** 
 5972              		.loc 1 1814 12 is_stmt 0 view .LVU2208
 5973 00a2 2268     		ldr	r2, [r4]
ARM GAS  /tmp/ccECQX6D.s 			page 214


1814:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c **** 
 5974              		.loc 1 1814 30 view .LVU2209
 5975 00a4 D36A     		ldr	r3, [r2, #44]
 5976 00a6 23F00803 		bic	r3, r3, #8
 5977 00aa D362     		str	r3, [r2, #44]
1816:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c **** 
 5978              		.loc 1 1816 9 is_stmt 1 view .LVU2210
1816:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c **** 
 5979              		.loc 1 1816 20 is_stmt 0 view .LVU2211
 5980 00ac 0123     		movs	r3, #1
 5981 00ae 84F83430 		strb	r3, [r4, #52]
1821:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c **** #endif /* USE_HAL_SD_REGISTER_CALLBACKS */
 5982              		.loc 1 1821 9 is_stmt 1 view .LVU2212
 5983 00b2 2046     		mov	r0, r4
 5984 00b4 FFF7FEFF 		bl	HAL_SD_TxCpltCallback
 5985              	.LVL490:
 5986 00b8 D8E7     		b	.L332
 5987              	.LVL491:
 5988              	.L351:
1799:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****         if(errorstate != HAL_SD_ERROR_NONE)
 5989              		.loc 1 1799 9 view .LVU2213
1799:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****         if(errorstate != HAL_SD_ERROR_NONE)
 5990              		.loc 1 1799 22 is_stmt 0 view .LVU2214
 5991 00ba 2068     		ldr	r0, [r4]
 5992              	.LVL492:
1799:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****         if(errorstate != HAL_SD_ERROR_NONE)
 5993              		.loc 1 1799 22 view .LVU2215
 5994 00bc FFF7FEFF 		bl	SDMMC_CmdStopTransfer
 5995              	.LVL493:
1800:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****         {
 5996              		.loc 1 1800 9 is_stmt 1 view .LVU2216
1800:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****         {
 5997              		.loc 1 1800 11 is_stmt 0 view .LVU2217
 5998 00c0 0346     		mov	r3, r0
 5999 00c2 0028     		cmp	r0, #0
 6000 00c4 EAD0     		beq	.L339
1802:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c **** #if defined (USE_HAL_SD_REGISTER_CALLBACKS) && (USE_HAL_SD_REGISTER_CALLBACKS == 1U)
 6001              		.loc 1 1802 11 is_stmt 1 view .LVU2218
1802:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c **** #if defined (USE_HAL_SD_REGISTER_CALLBACKS) && (USE_HAL_SD_REGISTER_CALLBACKS == 1U)
 6002              		.loc 1 1802 26 is_stmt 0 view .LVU2219
 6003 00c6 A26B     		ldr	r2, [r4, #56]
 6004 00c8 1343     		orrs	r3, r3, r2
 6005 00ca A363     		str	r3, [r4, #56]
1806:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c **** #endif /* USE_HAL_SD_REGISTER_CALLBACKS */
 6006              		.loc 1 1806 11 is_stmt 1 view .LVU2220
 6007 00cc 2046     		mov	r0, r4
 6008              	.LVL494:
1806:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c **** #endif /* USE_HAL_SD_REGISTER_CALLBACKS */
 6009              		.loc 1 1806 11 is_stmt 0 view .LVU2221
 6010 00ce FFF7FEFF 		bl	HAL_SD_ErrorCallback
 6011              	.LVL495:
 6012 00d2 E3E7     		b	.L339
 6013              	.LVL496:
 6014              	.L335:
1832:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****   {
 6015              		.loc 1 1832 8 is_stmt 1 view .LVU2222
1832:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****   {
ARM GAS  /tmp/ccECQX6D.s 			page 215


 6016              		.loc 1 1832 12 is_stmt 0 view .LVU2223
 6017 00d4 5A6B     		ldr	r2, [r3, #52]
1832:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****   {
 6018              		.loc 1 1832 10 view .LVU2224
 6019 00d6 12F4804F 		tst	r2, #16384
 6020 00da 02D0     		beq	.L340
1832:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****   {
 6021              		.loc 1 1832 66 discriminator 1 view .LVU2225
 6022 00dc 15F0080F 		tst	r5, #8
 6023 00e0 4AD1     		bne	.L352
 6024              	.L340:
1837:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****   {
 6025              		.loc 1 1837 8 is_stmt 1 view .LVU2226
1837:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****   {
 6026              		.loc 1 1837 11 is_stmt 0 view .LVU2227
 6027 00e2 5A6B     		ldr	r2, [r3, #52]
1837:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****   {
 6028              		.loc 1 1837 10 view .LVU2228
 6029 00e4 12F03A0F 		tst	r2, #58
 6030 00e8 C0D0     		beq	.L332
1840:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****     {
 6031              		.loc 1 1840 5 is_stmt 1 view .LVU2229
1840:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****     {
 6032              		.loc 1 1840 8 is_stmt 0 view .LVU2230
 6033 00ea 5A6B     		ldr	r2, [r3, #52]
1840:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****     {
 6034              		.loc 1 1840 7 view .LVU2231
 6035 00ec 12F0020F 		tst	r2, #2
 6036 00f0 03D0     		beq	.L341
1842:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****     }
 6037              		.loc 1 1842 7 is_stmt 1 view .LVU2232
1842:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****     }
 6038              		.loc 1 1842 22 is_stmt 0 view .LVU2233
 6039 00f2 A26B     		ldr	r2, [r4, #56]
 6040 00f4 42F00202 		orr	r2, r2, #2
 6041 00f8 A263     		str	r2, [r4, #56]
 6042              	.L341:
1844:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****     {
 6043              		.loc 1 1844 5 is_stmt 1 view .LVU2234
1844:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****     {
 6044              		.loc 1 1844 8 is_stmt 0 view .LVU2235
 6045 00fa 5A6B     		ldr	r2, [r3, #52]
1844:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****     {
 6046              		.loc 1 1844 7 view .LVU2236
 6047 00fc 12F0080F 		tst	r2, #8
 6048 0100 03D0     		beq	.L342
1846:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****     }
 6049              		.loc 1 1846 7 is_stmt 1 view .LVU2237
1846:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****     }
 6050              		.loc 1 1846 22 is_stmt 0 view .LVU2238
 6051 0102 A26B     		ldr	r2, [r4, #56]
 6052 0104 42F00802 		orr	r2, r2, #8
 6053 0108 A263     		str	r2, [r4, #56]
 6054              	.L342:
1848:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****     {
 6055              		.loc 1 1848 5 is_stmt 1 view .LVU2239
1848:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****     {
ARM GAS  /tmp/ccECQX6D.s 			page 216


 6056              		.loc 1 1848 8 is_stmt 0 view .LVU2240
 6057 010a 5A6B     		ldr	r2, [r3, #52]
1848:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****     {
 6058              		.loc 1 1848 7 view .LVU2241
 6059 010c 12F0200F 		tst	r2, #32
 6060 0110 03D0     		beq	.L343
1850:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****     }
 6061              		.loc 1 1850 7 is_stmt 1 view .LVU2242
1850:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****     }
 6062              		.loc 1 1850 22 is_stmt 0 view .LVU2243
 6063 0112 A26B     		ldr	r2, [r4, #56]
 6064 0114 42F02002 		orr	r2, r2, #32
 6065 0118 A263     		str	r2, [r4, #56]
 6066              	.L343:
1852:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****     {
 6067              		.loc 1 1852 5 is_stmt 1 view .LVU2244
1852:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****     {
 6068              		.loc 1 1852 8 is_stmt 0 view .LVU2245
 6069 011a 5A6B     		ldr	r2, [r3, #52]
1852:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****     {
 6070              		.loc 1 1852 7 view .LVU2246
 6071 011c 12F0100F 		tst	r2, #16
 6072 0120 03D0     		beq	.L344
1854:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****     }
 6073              		.loc 1 1854 7 is_stmt 1 view .LVU2247
1854:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****     }
 6074              		.loc 1 1854 22 is_stmt 0 view .LVU2248
 6075 0122 A26B     		ldr	r2, [r4, #56]
 6076 0124 42F01002 		orr	r2, r2, #16
 6077 0128 A263     		str	r2, [r4, #56]
 6078              	.L344:
1858:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c **** 
 6079              		.loc 1 1858 5 is_stmt 1 view .LVU2249
 6080 012a 40F23A52 		movw	r2, #1338
 6081 012e 9A63     		str	r2, [r3, #56]
1861:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****                              SDMMC_IT_TXUNDERR| SDMMC_IT_RXOVERR);
 6082              		.loc 1 1861 5 view .LVU2250
 6083 0130 2268     		ldr	r2, [r4]
 6084 0132 D36B     		ldr	r3, [r2, #60]
 6085 0134 23F49D73 		bic	r3, r3, #314
 6086 0138 D363     		str	r3, [r2, #60]
1869:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c **** #if defined(STM32L4P5xx) || defined(STM32L4Q5xx) || defined(STM32L4R5xx) || defined(STM32L4R7xx) ||
 6087              		.loc 1 1869 5 view .LVU2251
1869:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c **** #if defined(STM32L4P5xx) || defined(STM32L4Q5xx) || defined(STM32L4R5xx) || defined(STM32L4R7xx) ||
 6088              		.loc 1 1869 23 is_stmt 0 view .LVU2252
 6089 013a 2068     		ldr	r0, [r4]
 6090              	.LVL497:
1869:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c **** #if defined(STM32L4P5xx) || defined(STM32L4Q5xx) || defined(STM32L4R5xx) || defined(STM32L4R7xx) ||
 6091              		.loc 1 1869 23 view .LVU2253
 6092 013c FFF7FEFF 		bl	SDMMC_CmdStopTransfer
 6093              	.LVL498:
1869:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c **** #if defined(STM32L4P5xx) || defined(STM32L4Q5xx) || defined(STM32L4R5xx) || defined(STM32L4R7xx) ||
 6094              		.loc 1 1869 20 view .LVU2254
 6095 0140 A36B     		ldr	r3, [r4, #56]
 6096 0142 0343     		orrs	r3, r3, r0
 6097 0144 A363     		str	r3, [r4, #56]
1875:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****     {
ARM GAS  /tmp/ccECQX6D.s 			page 217


 6098              		.loc 1 1875 5 is_stmt 1 view .LVU2255
1875:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****     {
 6099              		.loc 1 1875 7 is_stmt 0 view .LVU2256
 6100 0146 15F0080F 		tst	r5, #8
 6101 014a 19D1     		bne	.L353
1886:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****     {
 6102              		.loc 1 1886 10 is_stmt 1 view .LVU2257
1886:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****     {
 6103              		.loc 1 1886 12 is_stmt 0 view .LVU2258
 6104 014c 15F0800F 		tst	r5, #128
 6105 0150 8CD0     		beq	.L332
1905:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****       {
 6106              		.loc 1 1905 7 is_stmt 1 view .LVU2259
1905:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****       {
 6107              		.loc 1 1905 9 is_stmt 0 view .LVU2260
 6108 0152 15F0300F 		tst	r5, #48
 6109 0156 1CD1     		bne	.L354
1915:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****       {
 6110              		.loc 1 1915 12 is_stmt 1 view .LVU2261
1915:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****       {
 6111              		.loc 1 1915 14 is_stmt 0 view .LVU2262
 6112 0158 15F0030F 		tst	r5, #3
 6113 015c 26D0     		beq	.L347
1918:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****         /* Abort DMA in IT mode */
 6114              		.loc 1 1918 9 is_stmt 1 view .LVU2263
1918:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****         /* Abort DMA in IT mode */
 6115              		.loc 1 1918 12 is_stmt 0 view .LVU2264
 6116 015e 236C     		ldr	r3, [r4, #64]
1918:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****         /* Abort DMA in IT mode */
 6117              		.loc 1 1918 40 view .LVU2265
 6118 0160 174A     		ldr	r2, .L355
 6119 0162 9A63     		str	r2, [r3, #56]
1920:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****         {
 6120              		.loc 1 1920 9 is_stmt 1 view .LVU2266
1920:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****         {
 6121              		.loc 1 1920 12 is_stmt 0 view .LVU2267
 6122 0164 206C     		ldr	r0, [r4, #64]
 6123 0166 FFF7FEFF 		bl	HAL_DMA_Abort_IT
 6124              	.LVL499:
1920:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****         {
 6125              		.loc 1 1920 11 view .LVU2268
 6126 016a 0028     		cmp	r0, #0
 6127 016c 3FF47EAF 		beq	.L332
1922:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****         }
 6128              		.loc 1 1922 11 is_stmt 1 view .LVU2269
 6129 0170 206C     		ldr	r0, [r4, #64]
 6130 0172 FFF7FEFF 		bl	SD_DMARxAbort
 6131              	.LVL500:
 6132 0176 79E7     		b	.L332
 6133              	.LVL501:
 6134              	.L352:
1834:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****   }
 6135              		.loc 1 1834 5 view .LVU2270
 6136 0178 2046     		mov	r0, r4
 6137              	.LVL502:
1834:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****   }
 6138              		.loc 1 1834 5 is_stmt 0 view .LVU2271
ARM GAS  /tmp/ccECQX6D.s 			page 218


 6139 017a FFF7FEFF 		bl	SD_Write_IT
 6140              	.LVL503:
 6141 017e 75E7     		b	.L332
 6142              	.L353:
1878:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****       hsd->Context = SD_CONTEXT_NONE;
 6143              		.loc 1 1878 7 is_stmt 1 view .LVU2272
1878:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****       hsd->Context = SD_CONTEXT_NONE;
 6144              		.loc 1 1878 18 is_stmt 0 view .LVU2273
 6145 0180 0123     		movs	r3, #1
 6146 0182 84F83430 		strb	r3, [r4, #52]
1879:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c **** #if defined (USE_HAL_SD_REGISTER_CALLBACKS) && (USE_HAL_SD_REGISTER_CALLBACKS == 1U)
 6147              		.loc 1 1879 7 is_stmt 1 view .LVU2274
1879:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c **** #if defined (USE_HAL_SD_REGISTER_CALLBACKS) && (USE_HAL_SD_REGISTER_CALLBACKS == 1U)
 6148              		.loc 1 1879 20 is_stmt 0 view .LVU2275
 6149 0186 0023     		movs	r3, #0
 6150 0188 2363     		str	r3, [r4, #48]
1883:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c **** #endif /* USE_HAL_SD_REGISTER_CALLBACKS */
 6151              		.loc 1 1883 7 is_stmt 1 view .LVU2276
 6152 018a 2046     		mov	r0, r4
 6153 018c FFF7FEFF 		bl	HAL_SD_ErrorCallback
 6154              	.LVL504:
 6155 0190 6CE7     		b	.L332
 6156              	.L354:
1908:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****         /* Abort DMA in IT mode */
 6157              		.loc 1 1908 9 view .LVU2277
1908:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****         /* Abort DMA in IT mode */
 6158              		.loc 1 1908 12 is_stmt 0 view .LVU2278
 6159 0192 E36B     		ldr	r3, [r4, #60]
1908:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****         /* Abort DMA in IT mode */
 6160              		.loc 1 1908 40 view .LVU2279
 6161 0194 0B4A     		ldr	r2, .L355+4
 6162 0196 9A63     		str	r2, [r3, #56]
1910:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****         {
 6163              		.loc 1 1910 9 is_stmt 1 view .LVU2280
1910:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****         {
 6164              		.loc 1 1910 12 is_stmt 0 view .LVU2281
 6165 0198 E06B     		ldr	r0, [r4, #60]
 6166 019a FFF7FEFF 		bl	HAL_DMA_Abort_IT
 6167              	.LVL505:
1910:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****         {
 6168              		.loc 1 1910 11 view .LVU2282
 6169 019e 0028     		cmp	r0, #0
 6170 01a0 3FF464AF 		beq	.L332
1912:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****         }
 6171              		.loc 1 1912 11 is_stmt 1 view .LVU2283
 6172 01a4 E06B     		ldr	r0, [r4, #60]
 6173 01a6 FFF7FEFF 		bl	SD_DMATxAbort
 6174              	.LVL506:
 6175 01aa 5FE7     		b	.L332
 6176              	.L347:
1927:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****         hsd->State = HAL_SD_STATE_READY;
 6177              		.loc 1 1927 9 view .LVU2284
1927:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****         hsd->State = HAL_SD_STATE_READY;
 6178              		.loc 1 1927 24 is_stmt 0 view .LVU2285
 6179 01ac 0023     		movs	r3, #0
 6180 01ae A363     		str	r3, [r4, #56]
1928:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****         hsd->Context = SD_CONTEXT_NONE;
ARM GAS  /tmp/ccECQX6D.s 			page 219


 6181              		.loc 1 1928 9 is_stmt 1 view .LVU2286
1928:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****         hsd->Context = SD_CONTEXT_NONE;
 6182              		.loc 1 1928 20 is_stmt 0 view .LVU2287
 6183 01b0 0122     		movs	r2, #1
 6184 01b2 84F83420 		strb	r2, [r4, #52]
1929:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c **** #if defined (USE_HAL_SD_REGISTER_CALLBACKS) && (USE_HAL_SD_REGISTER_CALLBACKS == 1U)
 6185              		.loc 1 1929 9 is_stmt 1 view .LVU2288
1929:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c **** #if defined (USE_HAL_SD_REGISTER_CALLBACKS) && (USE_HAL_SD_REGISTER_CALLBACKS == 1U)
 6186              		.loc 1 1929 22 is_stmt 0 view .LVU2289
 6187 01b6 2363     		str	r3, [r4, #48]
1933:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c **** #endif /* USE_HAL_SD_REGISTER_CALLBACKS */
 6188              		.loc 1 1933 9 is_stmt 1 view .LVU2290
 6189 01b8 2046     		mov	r0, r4
 6190 01ba FFF7FEFF 		bl	HAL_SD_AbortCallback
 6191              	.LVL507:
1993:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c **** }
 6192              		.loc 1 1993 3 view .LVU2291
1994:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c **** 
 6193              		.loc 1 1994 1 is_stmt 0 view .LVU2292
 6194 01be 55E7     		b	.L332
 6195              	.L356:
 6196              		.align	2
 6197              	.L355:
 6198 01c0 00000000 		.word	SD_DMARxAbort
 6199 01c4 00000000 		.word	SD_DMATxAbort
 6200              		.cfi_endproc
 6201              	.LFE300:
 6203              		.section	.text.HAL_SD_Abort,"ax",%progbits
 6204              		.align	1
 6205              		.global	HAL_SD_Abort
 6206              		.syntax unified
 6207              		.thumb
 6208              		.thumb_func
 6210              	HAL_SD_Abort:
 6211              	.LVL508:
 6212              	.LFB313:
3031:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****   HAL_SD_CardStateTypeDef CardState;
 6213              		.loc 1 3031 1 is_stmt 1 view -0
 6214              		.cfi_startproc
 6215              		@ args = 0, pretend = 0, frame = 0
 6216              		@ frame_needed = 0, uses_anonymous_args = 0
3031:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****   HAL_SD_CardStateTypeDef CardState;
 6217              		.loc 1 3031 1 is_stmt 0 view .LVU2294
 6218 0000 10B5     		push	{r4, lr}
 6219              		.cfi_def_cfa_offset 8
 6220              		.cfi_offset 4, -8
 6221              		.cfi_offset 14, -4
 6222 0002 0446     		mov	r4, r0
3032:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c **** #if !defined(STM32L4P5xx) && !defined(STM32L4Q5xx) && !defined(STM32L4R5xx) && !defined(STM32L4R7xx
 6223              		.loc 1 3032 3 is_stmt 1 view .LVU2295
3034:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c **** #endif
 6224              		.loc 1 3034 3 view .LVU2296
3034:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c **** #endif
 6225              		.loc 1 3034 12 is_stmt 0 view .LVU2297
 6226 0004 016B     		ldr	r1, [r0, #48]
 6227              	.LVL509:
3038:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****                            SDMMC_IT_TXUNDERR| SDMMC_IT_RXOVERR);
ARM GAS  /tmp/ccECQX6D.s 			page 220


 6228              		.loc 1 3038 3 is_stmt 1 view .LVU2298
 6229 0006 0268     		ldr	r2, [r0]
 6230 0008 D36B     		ldr	r3, [r2, #60]
 6231 000a 23F49D73 		bic	r3, r3, #314
 6232 000e D363     		str	r3, [r2, #60]
3042:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c **** 
 6233              		.loc 1 3042 3 view .LVU2299
 6234 0010 0368     		ldr	r3, [r0]
 6235 0012 40F23A52 		movw	r2, #1338
 6236 0016 9A63     		str	r2, [r3, #56]
3048:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c **** 
 6237              		.loc 1 3048 3 view .LVU2300
 6238 0018 0268     		ldr	r2, [r0]
 6239 001a D36A     		ldr	r3, [r2, #44]
 6240 001c 23F00103 		bic	r3, r3, #1
 6241 0020 D362     		str	r3, [r2, #44]
3050:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****   {
 6242              		.loc 1 3050 3 view .LVU2301
3050:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****   {
 6243              		.loc 1 3050 6 is_stmt 0 view .LVU2302
 6244 0022 11F0800F 		tst	r1, #128
 6245 0026 0AD0     		beq	.L358
3053:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c **** 
 6246              		.loc 1 3053 5 is_stmt 1 view .LVU2303
3053:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c **** 
 6247              		.loc 1 3053 8 is_stmt 0 view .LVU2304
 6248 0028 0268     		ldr	r2, [r0]
3053:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c **** 
 6249              		.loc 1 3053 26 view .LVU2305
 6250 002a D36A     		ldr	r3, [r2, #44]
 6251 002c 23F00803 		bic	r3, r3, #8
 6252 0030 D362     		str	r3, [r2, #44]
3056:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****     {
 6253              		.loc 1 3056 5 is_stmt 1 view .LVU2306
3056:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****     {
 6254              		.loc 1 3056 8 is_stmt 0 view .LVU2307
 6255 0032 11F0300F 		tst	r1, #48
 6256 0036 11D1     		bne	.L364
3064:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****     {
 6257              		.loc 1 3064 10 is_stmt 1 view .LVU2308
3064:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****     {
 6258              		.loc 1 3064 13 is_stmt 0 view .LVU2309
 6259 0038 11F0030F 		tst	r1, #3
 6260 003c 18D1     		bne	.L365
 6261              	.LVL510:
 6262              	.L358:
3074:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****   }
 6263              		.loc 1 3074 5 is_stmt 1 view .LVU2310
3078:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c **** 
 6264              		.loc 1 3078 3 view .LVU2311
3078:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c **** 
 6265              		.loc 1 3078 14 is_stmt 0 view .LVU2312
 6266 003e 0123     		movs	r3, #1
 6267 0040 84F83430 		strb	r3, [r4, #52]
3081:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c **** 
 6268              		.loc 1 3081 3 is_stmt 1 view .LVU2313
3081:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c **** 
ARM GAS  /tmp/ccECQX6D.s 			page 221


 6269              		.loc 1 3081 16 is_stmt 0 view .LVU2314
 6270 0044 0023     		movs	r3, #0
 6271 0046 2363     		str	r3, [r4, #48]
3083:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****   if((CardState == HAL_SD_CARD_RECEIVING) || (CardState == HAL_SD_CARD_SENDING))
 6272              		.loc 1 3083 3 is_stmt 1 view .LVU2315
3083:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****   if((CardState == HAL_SD_CARD_RECEIVING) || (CardState == HAL_SD_CARD_SENDING))
 6273              		.loc 1 3083 15 is_stmt 0 view .LVU2316
 6274 0048 2046     		mov	r0, r4
 6275 004a FFF7FEFF 		bl	HAL_SD_GetCardState
 6276              	.LVL511:
3084:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****   {
 6277              		.loc 1 3084 3 is_stmt 1 view .LVU2317
3084:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****   {
 6278              		.loc 1 3084 43 is_stmt 0 view .LVU2318
 6279 004e 0538     		subs	r0, r0, #5
 6280              	.LVL512:
3084:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****   {
 6281              		.loc 1 3084 5 view .LVU2319
 6282 0050 0128     		cmp	r0, #1
 6283 0052 17D9     		bls	.L366
 6284              	.LVL513:
 6285              	.L360:
3088:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****   {
 6286              		.loc 1 3088 3 is_stmt 1 view .LVU2320
3088:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****   {
 6287              		.loc 1 3088 9 is_stmt 0 view .LVU2321
 6288 0054 A36B     		ldr	r3, [r4, #56]
3088:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****   {
 6289              		.loc 1 3088 5 view .LVU2322
 6290 0056 D3B9     		cbnz	r3, .L362
3092:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c **** }
 6291              		.loc 1 3092 10 view .LVU2323
 6292 0058 0020     		movs	r0, #0
 6293              	.L361:
3093:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c **** 
 6294              		.loc 1 3093 1 view .LVU2324
 6295 005a 10BD     		pop	{r4, pc}
 6296              	.LVL514:
 6297              	.L364:
3058:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****       {
 6298              		.loc 1 3058 7 is_stmt 1 view .LVU2325
3058:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****       {
 6299              		.loc 1 3058 10 is_stmt 0 view .LVU2326
 6300 005c C06B     		ldr	r0, [r0, #60]
 6301              	.LVL515:
3058:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****       {
 6302              		.loc 1 3058 10 view .LVU2327
 6303 005e FFF7FEFF 		bl	HAL_DMA_Abort
 6304              	.LVL516:
3058:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****       {
 6305              		.loc 1 3058 9 view .LVU2328
 6306 0062 0028     		cmp	r0, #0
 6307 0064 EBD0     		beq	.L358
3060:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****       }
 6308              		.loc 1 3060 9 is_stmt 1 view .LVU2329
3060:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****       }
 6309              		.loc 1 3060 24 is_stmt 0 view .LVU2330
ARM GAS  /tmp/ccECQX6D.s 			page 222


 6310 0066 A36B     		ldr	r3, [r4, #56]
 6311 0068 43F08043 		orr	r3, r3, #1073741824
 6312 006c A363     		str	r3, [r4, #56]
 6313 006e E6E7     		b	.L358
 6314              	.LVL517:
 6315              	.L365:
3066:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****       {
 6316              		.loc 1 3066 7 is_stmt 1 view .LVU2331
3066:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****       {
 6317              		.loc 1 3066 10 is_stmt 0 view .LVU2332
 6318 0070 006C     		ldr	r0, [r0, #64]
 6319              	.LVL518:
3066:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****       {
 6320              		.loc 1 3066 10 view .LVU2333
 6321 0072 FFF7FEFF 		bl	HAL_DMA_Abort
 6322              	.LVL519:
3066:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****       {
 6323              		.loc 1 3066 9 view .LVU2334
 6324 0076 0028     		cmp	r0, #0
 6325 0078 E1D0     		beq	.L358
3068:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****       }
 6326              		.loc 1 3068 9 is_stmt 1 view .LVU2335
3068:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****       }
 6327              		.loc 1 3068 24 is_stmt 0 view .LVU2336
 6328 007a A36B     		ldr	r3, [r4, #56]
 6329 007c 43F08043 		orr	r3, r3, #1073741824
 6330 0080 A363     		str	r3, [r4, #56]
 6331 0082 DCE7     		b	.L358
 6332              	.LVL520:
 6333              	.L366:
3086:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****   }
 6334              		.loc 1 3086 5 is_stmt 1 view .LVU2337
3086:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****   }
 6335              		.loc 1 3086 22 is_stmt 0 view .LVU2338
 6336 0084 2068     		ldr	r0, [r4]
 6337              	.LVL521:
3086:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****   }
 6338              		.loc 1 3086 22 view .LVU2339
 6339 0086 FFF7FEFF 		bl	SDMMC_CmdStopTransfer
 6340              	.LVL522:
3086:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****   }
 6341              		.loc 1 3086 20 view .LVU2340
 6342 008a A063     		str	r0, [r4, #56]
 6343 008c E2E7     		b	.L360
 6344              	.L362:
3090:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****   }
 6345              		.loc 1 3090 12 view .LVU2341
 6346 008e 0120     		movs	r0, #1
 6347 0090 E3E7     		b	.L361
 6348              		.cfi_endproc
 6349              	.LFE313:
 6351              		.section	.text.HAL_SD_Abort_IT,"ax",%progbits
 6352              		.align	1
 6353              		.global	HAL_SD_Abort_IT
 6354              		.syntax unified
 6355              		.thumb
 6356              		.thumb_func
ARM GAS  /tmp/ccECQX6D.s 			page 223


 6358              	HAL_SD_Abort_IT:
 6359              	.LVL523:
 6360              	.LFB314:
3102:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****   HAL_SD_CardStateTypeDef CardState;
 6361              		.loc 1 3102 1 is_stmt 1 view -0
 6362              		.cfi_startproc
 6363              		@ args = 0, pretend = 0, frame = 0
 6364              		@ frame_needed = 0, uses_anonymous_args = 0
3102:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****   HAL_SD_CardStateTypeDef CardState;
 6365              		.loc 1 3102 1 is_stmt 0 view .LVU2343
 6366 0000 10B5     		push	{r4, lr}
 6367              		.cfi_def_cfa_offset 8
 6368              		.cfi_offset 4, -8
 6369              		.cfi_offset 14, -4
 6370 0002 0446     		mov	r4, r0
3103:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c **** #if !defined(STM32L4P5xx) && !defined(STM32L4Q5xx) && !defined(STM32L4R5xx) && !defined(STM32L4R7xx
 6371              		.loc 1 3103 3 is_stmt 1 view .LVU2344
3105:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c **** #endif
 6372              		.loc 1 3105 3 view .LVU2345
3105:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c **** #endif
 6373              		.loc 1 3105 12 is_stmt 0 view .LVU2346
 6374 0004 026B     		ldr	r2, [r0, #48]
 6375              	.LVL524:
3109:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****                            SDMMC_IT_TXUNDERR| SDMMC_IT_RXOVERR);
 6376              		.loc 1 3109 3 is_stmt 1 view .LVU2347
 6377 0006 0168     		ldr	r1, [r0]
 6378 0008 CB6B     		ldr	r3, [r1, #60]
 6379 000a 23F49D73 		bic	r3, r3, #314
 6380 000e CB63     		str	r3, [r1, #60]
3140:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c **** 
 6381              		.loc 1 3140 3 view .LVU2348
 6382 0010 0168     		ldr	r1, [r0]
 6383 0012 CB6A     		ldr	r3, [r1, #44]
 6384 0014 23F00103 		bic	r3, r3, #1
 6385 0018 CB62     		str	r3, [r1, #44]
3142:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****   {
 6386              		.loc 1 3142 3 view .LVU2349
3142:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****   {
 6387              		.loc 1 3142 6 is_stmt 0 view .LVU2350
 6388 001a 12F0800F 		tst	r2, #128
 6389 001e 22D0     		beq	.L368
3145:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c **** 
 6390              		.loc 1 3145 5 is_stmt 1 view .LVU2351
3145:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c **** 
 6391              		.loc 1 3145 8 is_stmt 0 view .LVU2352
 6392 0020 0168     		ldr	r1, [r0]
3145:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c **** 
 6393              		.loc 1 3145 26 view .LVU2353
 6394 0022 CB6A     		ldr	r3, [r1, #44]
 6395 0024 23F00803 		bic	r3, r3, #8
 6396 0028 CB62     		str	r3, [r1, #44]
3148:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****     {
 6397              		.loc 1 3148 5 is_stmt 1 view .LVU2354
3148:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****     {
 6398              		.loc 1 3148 8 is_stmt 0 view .LVU2355
 6399 002a 12F0300F 		tst	r2, #48
 6400 002e 04D1     		bne	.L375
ARM GAS  /tmp/ccECQX6D.s 			page 224


3157:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****     {
 6401              		.loc 1 3157 10 is_stmt 1 view .LVU2356
3157:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****     {
 6402              		.loc 1 3157 13 is_stmt 0 view .LVU2357
 6403 0030 12F0030F 		tst	r2, #3
 6404 0034 0CD1     		bne	.L376
3198:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c **** }
 6405              		.loc 1 3198 10 view .LVU2358
 6406 0036 0020     		movs	r0, #0
 6407              	.LVL525:
 6408              	.L370:
3199:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c **** 
 6409              		.loc 1 3199 1 view .LVU2359
 6410 0038 10BD     		pop	{r4, pc}
 6411              	.LVL526:
 6412              	.L375:
3150:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****       if(HAL_DMA_Abort_IT(hsd->hdmatx) != HAL_OK)
 6413              		.loc 1 3150 7 is_stmt 1 view .LVU2360
3150:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****       if(HAL_DMA_Abort_IT(hsd->hdmatx) != HAL_OK)
 6414              		.loc 1 3150 10 is_stmt 0 view .LVU2361
 6415 003a C36B     		ldr	r3, [r0, #60]
3150:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****       if(HAL_DMA_Abort_IT(hsd->hdmatx) != HAL_OK)
 6416              		.loc 1 3150 38 view .LVU2362
 6417 003c 184A     		ldr	r2, .L379
 6418              	.LVL527:
3150:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****       if(HAL_DMA_Abort_IT(hsd->hdmatx) != HAL_OK)
 6419              		.loc 1 3150 38 view .LVU2363
 6420 003e 9A63     		str	r2, [r3, #56]
3151:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****       {
 6421              		.loc 1 3151 7 is_stmt 1 view .LVU2364
3151:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****       {
 6422              		.loc 1 3151 10 is_stmt 0 view .LVU2365
 6423 0040 C06B     		ldr	r0, [r0, #60]
 6424              	.LVL528:
3151:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****       {
 6425              		.loc 1 3151 10 view .LVU2366
 6426 0042 FFF7FEFF 		bl	HAL_DMA_Abort_IT
 6427              	.LVL529:
3151:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****       {
 6428              		.loc 1 3151 9 view .LVU2367
 6429 0046 0028     		cmp	r0, #0
 6430 0048 F6D0     		beq	.L370
3153:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****       }
 6431              		.loc 1 3153 9 is_stmt 1 view .LVU2368
3153:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****       }
 6432              		.loc 1 3153 21 is_stmt 0 view .LVU2369
 6433 004a 0020     		movs	r0, #0
 6434 004c E063     		str	r0, [r4, #60]
 6435 004e F3E7     		b	.L370
 6436              	.LVL530:
 6437              	.L376:
3159:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****       if(HAL_DMA_Abort_IT(hsd->hdmarx) != HAL_OK)
 6438              		.loc 1 3159 7 is_stmt 1 view .LVU2370
3159:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****       if(HAL_DMA_Abort_IT(hsd->hdmarx) != HAL_OK)
 6439              		.loc 1 3159 10 is_stmt 0 view .LVU2371
 6440 0050 036C     		ldr	r3, [r0, #64]
3159:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****       if(HAL_DMA_Abort_IT(hsd->hdmarx) != HAL_OK)
ARM GAS  /tmp/ccECQX6D.s 			page 225


 6441              		.loc 1 3159 38 view .LVU2372
 6442 0052 144A     		ldr	r2, .L379+4
 6443              	.LVL531:
3159:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****       if(HAL_DMA_Abort_IT(hsd->hdmarx) != HAL_OK)
 6444              		.loc 1 3159 38 view .LVU2373
 6445 0054 9A63     		str	r2, [r3, #56]
3160:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****       {
 6446              		.loc 1 3160 7 is_stmt 1 view .LVU2374
3160:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****       {
 6447              		.loc 1 3160 10 is_stmt 0 view .LVU2375
 6448 0056 006C     		ldr	r0, [r0, #64]
 6449              	.LVL532:
3160:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****       {
 6450              		.loc 1 3160 10 view .LVU2376
 6451 0058 FFF7FEFF 		bl	HAL_DMA_Abort_IT
 6452              	.LVL533:
3160:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****       {
 6453              		.loc 1 3160 9 view .LVU2377
 6454 005c 0028     		cmp	r0, #0
 6455 005e EBD0     		beq	.L370
3162:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****       }
 6456              		.loc 1 3162 9 is_stmt 1 view .LVU2378
3162:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****       }
 6457              		.loc 1 3162 21 is_stmt 0 view .LVU2379
 6458 0060 0020     		movs	r0, #0
 6459 0062 2064     		str	r0, [r4, #64]
 6460 0064 E8E7     		b	.L370
 6461              	.LVL534:
 6462              	.L368:
3174:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c **** 
 6463              		.loc 1 3174 5 is_stmt 1 view .LVU2380
 6464 0066 0368     		ldr	r3, [r0]
 6465 0068 40F23A52 		movw	r2, #1338
 6466              	.LVL535:
3174:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c **** 
 6467              		.loc 1 3174 5 is_stmt 0 view .LVU2381
 6468 006c 9A63     		str	r2, [r3, #56]
3176:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****     hsd->State = HAL_SD_STATE_READY;
 6469              		.loc 1 3176 5 is_stmt 1 view .LVU2382
3176:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****     hsd->State = HAL_SD_STATE_READY;
 6470              		.loc 1 3176 17 is_stmt 0 view .LVU2383
 6471 006e FFF7FEFF 		bl	HAL_SD_GetCardState
 6472              	.LVL536:
3177:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****     hsd->Context = SD_CONTEXT_NONE;
 6473              		.loc 1 3177 5 is_stmt 1 view .LVU2384
3177:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****     hsd->Context = SD_CONTEXT_NONE;
 6474              		.loc 1 3177 16 is_stmt 0 view .LVU2385
 6475 0072 0123     		movs	r3, #1
 6476 0074 84F83430 		strb	r3, [r4, #52]
3178:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****     if((CardState == HAL_SD_CARD_RECEIVING) || (CardState == HAL_SD_CARD_SENDING))
 6477              		.loc 1 3178 5 is_stmt 1 view .LVU2386
3178:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****     if((CardState == HAL_SD_CARD_RECEIVING) || (CardState == HAL_SD_CARD_SENDING))
 6478              		.loc 1 3178 18 is_stmt 0 view .LVU2387
 6479 0078 0023     		movs	r3, #0
 6480 007a 2363     		str	r3, [r4, #48]
3179:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****     {
 6481              		.loc 1 3179 5 is_stmt 1 view .LVU2388
ARM GAS  /tmp/ccECQX6D.s 			page 226


3179:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****     {
 6482              		.loc 1 3179 45 is_stmt 0 view .LVU2389
 6483 007c 0538     		subs	r0, r0, #5
 6484              	.LVL537:
3179:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****     {
 6485              		.loc 1 3179 7 view .LVU2390
 6486 007e 0128     		cmp	r0, #1
 6487 0080 03D9     		bls	.L377
 6488              	.LVL538:
 6489              	.L371:
3183:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****     {
 6490              		.loc 1 3183 5 is_stmt 1 view .LVU2391
3183:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****     {
 6491              		.loc 1 3183 11 is_stmt 0 view .LVU2392
 6492 0082 A36B     		ldr	r3, [r4, #56]
3183:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****     {
 6493              		.loc 1 3183 7 view .LVU2393
 6494 0084 33B1     		cbz	r3, .L378
3185:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****     }
 6495              		.loc 1 3185 14 view .LVU2394
 6496 0086 0120     		movs	r0, #1
 6497 0088 D6E7     		b	.L370
 6498              	.LVL539:
 6499              	.L377:
3181:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****     }
 6500              		.loc 1 3181 7 is_stmt 1 view .LVU2395
3181:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****     }
 6501              		.loc 1 3181 24 is_stmt 0 view .LVU2396
 6502 008a 2068     		ldr	r0, [r4]
 6503              	.LVL540:
3181:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****     }
 6504              		.loc 1 3181 24 view .LVU2397
 6505 008c FFF7FEFF 		bl	SDMMC_CmdStopTransfer
 6506              	.LVL541:
3181:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c ****     }
 6507              		.loc 1 3181 22 view .LVU2398
 6508 0090 A063     		str	r0, [r4, #56]
 6509 0092 F6E7     		b	.L371
 6510              	.L378:
3192:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c **** #endif /* USE_HAL_SD_REGISTER_CALLBACKS */
 6511              		.loc 1 3192 7 is_stmt 1 view .LVU2399
 6512 0094 2046     		mov	r0, r4
 6513 0096 FFF7FEFF 		bl	HAL_SD_AbortCallback
 6514              	.LVL542:
3198:Drivers/STM32L4xx_HAL_Driver/Src/stm32l4xx_hal_sd.c **** }
 6515              		.loc 1 3198 10 is_stmt 0 view .LVU2400
 6516 009a 0020     		movs	r0, #0
 6517 009c CCE7     		b	.L370
 6518              	.L380:
 6519 009e 00BF     		.align	2
 6520              	.L379:
 6521 00a0 00000000 		.word	SD_DMATxAbort
 6522 00a4 00000000 		.word	SD_DMARxAbort
 6523              		.cfi_endproc
 6524              	.LFE314:
 6526              		.text
 6527              	.Letext0:
ARM GAS  /tmp/ccECQX6D.s 			page 227


 6528              		.file 2 "/home/retfie/.config/VSCodium/User/globalStorage/bmd.stm32-for-vscode/@xpack-dev-tools/ar
 6529              		.file 3 "/home/retfie/.config/VSCodium/User/globalStorage/bmd.stm32-for-vscode/@xpack-dev-tools/ar
 6530              		.file 4 "Drivers/CMSIS/Device/ST/STM32L4xx/Include/stm32l431xx.h"
 6531              		.file 5 "Drivers/CMSIS/Device/ST/STM32L4xx/Include/stm32l4xx.h"
 6532              		.file 6 "Drivers/STM32L4xx_HAL_Driver/Inc/stm32l4xx_hal_def.h"
 6533              		.file 7 "Drivers/STM32L4xx_HAL_Driver/Inc/stm32l4xx_hal_dma.h"
 6534              		.file 8 "Drivers/STM32L4xx_HAL_Driver/Inc/stm32l4xx_ll_sdmmc.h"
 6535              		.file 9 "Drivers/STM32L4xx_HAL_Driver/Inc/stm32l4xx_hal_sd.h"
 6536              		.file 10 "Drivers/STM32L4xx_HAL_Driver/Inc/stm32l4xx_hal_rcc_ex.h"
 6537              		.file 11 "Drivers/STM32L4xx_HAL_Driver/Inc/stm32l4xx_hal.h"
ARM GAS  /tmp/ccECQX6D.s 			page 228


DEFINED SYMBOLS
                            *ABS*:0000000000000000 stm32l4xx_hal_sd.c
     /tmp/ccECQX6D.s:20     .text.SD_DMATransmitCplt:0000000000000000 $t
     /tmp/ccECQX6D.s:25     .text.SD_DMATransmitCplt:0000000000000000 SD_DMATransmitCplt
     /tmp/ccECQX6D.s:52     .text.SD_PowerON:0000000000000000 $t
     /tmp/ccECQX6D.s:57     .text.SD_PowerON:0000000000000000 SD_PowerON
     /tmp/ccECQX6D.s:271    .text.SD_PowerON:00000000000000bc $d
     /tmp/ccECQX6D.s:276    .text.SD_PowerOFF:0000000000000000 $t
     /tmp/ccECQX6D.s:281    .text.SD_PowerOFF:0000000000000000 SD_PowerOFF
     /tmp/ccECQX6D.s:306    .text.SD_Read_IT:0000000000000000 $t
     /tmp/ccECQX6D.s:311    .text.SD_Read_IT:0000000000000000 SD_Read_IT
     /tmp/ccECQX6D.s:413    .text.SD_Write_IT:0000000000000000 $t
     /tmp/ccECQX6D.s:418    .text.SD_Write_IT:0000000000000000 SD_Write_IT
     /tmp/ccECQX6D.s:531    .text.SD_SendSDStatus:0000000000000000 $t
     /tmp/ccECQX6D.s:536    .text.SD_SendSDStatus:0000000000000000 SD_SendSDStatus
     /tmp/ccECQX6D.s:797    .text.SD_FindSCR:0000000000000000 $t
     /tmp/ccECQX6D.s:802    .text.SD_FindSCR:0000000000000000 SD_FindSCR
     /tmp/ccECQX6D.s:1058   .text.SD_WideBus_Enable:0000000000000000 $t
     /tmp/ccECQX6D.s:1063   .text.SD_WideBus_Enable:0000000000000000 SD_WideBus_Enable
     /tmp/ccECQX6D.s:1154   .text.SD_WideBus_Disable:0000000000000000 $t
     /tmp/ccECQX6D.s:1159   .text.SD_WideBus_Disable:0000000000000000 SD_WideBus_Disable
     /tmp/ccECQX6D.s:1250   .text.SD_SendStatus:0000000000000000 $t
     /tmp/ccECQX6D.s:1255   .text.SD_SendStatus:0000000000000000 SD_SendStatus
     /tmp/ccECQX6D.s:1319   .text.HAL_SD_MspInit:0000000000000000 $t
     /tmp/ccECQX6D.s:1325   .text.HAL_SD_MspInit:0000000000000000 HAL_SD_MspInit
     /tmp/ccECQX6D.s:1340   .text.HAL_SD_MspDeInit:0000000000000000 $t
     /tmp/ccECQX6D.s:1346   .text.HAL_SD_MspDeInit:0000000000000000 HAL_SD_MspDeInit
     /tmp/ccECQX6D.s:1361   .text.HAL_SD_DeInit:0000000000000000 $t
     /tmp/ccECQX6D.s:1367   .text.HAL_SD_DeInit:0000000000000000 HAL_SD_DeInit
     /tmp/ccECQX6D.s:1419   .text.HAL_SD_ReadBlocks:0000000000000000 $t
     /tmp/ccECQX6D.s:1425   .text.HAL_SD_ReadBlocks:0000000000000000 HAL_SD_ReadBlocks
     /tmp/ccECQX6D.s:1968   .text.HAL_SD_ReadBlocks:0000000000000244 $d
     /tmp/ccECQX6D.s:1973   .text.HAL_SD_WriteBlocks:0000000000000000 $t
     /tmp/ccECQX6D.s:1979   .text.HAL_SD_WriteBlocks:0000000000000000 HAL_SD_WriteBlocks
     /tmp/ccECQX6D.s:2454   .text.HAL_SD_WriteBlocks:00000000000001fc $d
     /tmp/ccECQX6D.s:2459   .text.HAL_SD_ReadBlocks_IT:0000000000000000 $t
     /tmp/ccECQX6D.s:2465   .text.HAL_SD_ReadBlocks_IT:0000000000000000 HAL_SD_ReadBlocks_IT
     /tmp/ccECQX6D.s:2681   .text.HAL_SD_ReadBlocks_IT:00000000000000c8 $d
     /tmp/ccECQX6D.s:2686   .text.HAL_SD_WriteBlocks_IT:0000000000000000 $t
     /tmp/ccECQX6D.s:2692   .text.HAL_SD_WriteBlocks_IT:0000000000000000 HAL_SD_WriteBlocks_IT
     /tmp/ccECQX6D.s:2909   .text.HAL_SD_WriteBlocks_IT:00000000000000c0 $d
     /tmp/ccECQX6D.s:2914   .text.HAL_SD_ReadBlocks_DMA:0000000000000000 $t
     /tmp/ccECQX6D.s:2920   .text.HAL_SD_ReadBlocks_DMA:0000000000000000 HAL_SD_ReadBlocks_DMA
     /tmp/ccECQX6D.s:3181   .text.HAL_SD_ReadBlocks_DMA:000000000000010c $d
     /tmp/ccECQX6D.s:3839   .text.SD_DMAReceiveCplt:0000000000000000 SD_DMAReceiveCplt
     /tmp/ccECQX6D.s:5539   .text.SD_DMAError:0000000000000000 SD_DMAError
     /tmp/ccECQX6D.s:3188   .text.HAL_SD_WriteBlocks_DMA:0000000000000000 $t
     /tmp/ccECQX6D.s:3194   .text.HAL_SD_WriteBlocks_DMA:0000000000000000 HAL_SD_WriteBlocks_DMA
     /tmp/ccECQX6D.s:3460   .text.HAL_SD_WriteBlocks_DMA:0000000000000104 $d
     /tmp/ccECQX6D.s:3467   .text.HAL_SD_Erase:0000000000000000 $t
     /tmp/ccECQX6D.s:3473   .text.HAL_SD_Erase:0000000000000000 HAL_SD_Erase
     /tmp/ccECQX6D.s:3718   .text.HAL_SD_Erase:00000000000000f4 $d
     /tmp/ccECQX6D.s:3723   .text.HAL_SD_GetState:0000000000000000 $t
     /tmp/ccECQX6D.s:3729   .text.HAL_SD_GetState:0000000000000000 HAL_SD_GetState
     /tmp/ccECQX6D.s:3747   .text.HAL_SD_GetError:0000000000000000 $t
     /tmp/ccECQX6D.s:3753   .text.HAL_SD_GetError:0000000000000000 HAL_SD_GetError
     /tmp/ccECQX6D.s:3771   .text.HAL_SD_TxCpltCallback:0000000000000000 $t
ARM GAS  /tmp/ccECQX6D.s 			page 229


     /tmp/ccECQX6D.s:3777   .text.HAL_SD_TxCpltCallback:0000000000000000 HAL_SD_TxCpltCallback
     /tmp/ccECQX6D.s:3792   .text.HAL_SD_RxCpltCallback:0000000000000000 $t
     /tmp/ccECQX6D.s:3798   .text.HAL_SD_RxCpltCallback:0000000000000000 HAL_SD_RxCpltCallback
     /tmp/ccECQX6D.s:3813   .text.HAL_SD_ErrorCallback:0000000000000000 $t
     /tmp/ccECQX6D.s:3819   .text.HAL_SD_ErrorCallback:0000000000000000 HAL_SD_ErrorCallback
     /tmp/ccECQX6D.s:3834   .text.SD_DMAReceiveCplt:0000000000000000 $t
     /tmp/ccECQX6D.s:3919   .text.HAL_SD_AbortCallback:0000000000000000 $t
     /tmp/ccECQX6D.s:3925   .text.HAL_SD_AbortCallback:0000000000000000 HAL_SD_AbortCallback
     /tmp/ccECQX6D.s:3940   .text.HAL_SD_GetCardCID:0000000000000000 $t
     /tmp/ccECQX6D.s:3946   .text.HAL_SD_GetCardCID:0000000000000000 HAL_SD_GetCardCID
     /tmp/ccECQX6D.s:4031   .text.HAL_SD_GetCardCSD:0000000000000000 $t
     /tmp/ccECQX6D.s:4037   .text.HAL_SD_GetCardCSD:0000000000000000 HAL_SD_GetCardCSD
     /tmp/ccECQX6D.s:4410   .text.HAL_SD_GetCardCSD:00000000000001b4 $d
     /tmp/ccECQX6D.s:4415   .text.SD_InitCard:0000000000000000 $t
     /tmp/ccECQX6D.s:4420   .text.SD_InitCard:0000000000000000 SD_InitCard
     /tmp/ccECQX6D.s:4657   .text.HAL_SD_InitCard:0000000000000000 $t
     /tmp/ccECQX6D.s:4663   .text.HAL_SD_InitCard:0000000000000000 HAL_SD_InitCard
     /tmp/ccECQX6D.s:4872   .text.HAL_SD_InitCard:00000000000000d0 $d
     /tmp/ccECQX6D.s:4879   .text.HAL_SD_Init:0000000000000000 $t
     /tmp/ccECQX6D.s:4885   .text.HAL_SD_Init:0000000000000000 HAL_SD_Init
     /tmp/ccECQX6D.s:4972   .text.HAL_SD_GetCardStatus:0000000000000000 $t
     /tmp/ccECQX6D.s:4978   .text.HAL_SD_GetCardStatus:0000000000000000 HAL_SD_GetCardStatus
     /tmp/ccECQX6D.s:5152   .text.HAL_SD_GetCardStatus:00000000000000a8 $d
     /tmp/ccECQX6D.s:5157   .text.HAL_SD_GetCardInfo:0000000000000000 $t
     /tmp/ccECQX6D.s:5163   .text.HAL_SD_GetCardInfo:0000000000000000 HAL_SD_GetCardInfo
     /tmp/ccECQX6D.s:5221   .text.HAL_SD_ConfigWideBusOperation:0000000000000000 $t
     /tmp/ccECQX6D.s:5227   .text.HAL_SD_ConfigWideBusOperation:0000000000000000 HAL_SD_ConfigWideBusOperation
     /tmp/ccECQX6D.s:5467   .text.HAL_SD_ConfigWideBusOperation:00000000000000e8 $d
     /tmp/ccECQX6D.s:5474   .text.HAL_SD_GetCardState:0000000000000000 $t
     /tmp/ccECQX6D.s:5480   .text.HAL_SD_GetCardState:0000000000000000 HAL_SD_GetCardState
     /tmp/ccECQX6D.s:5534   .text.SD_DMAError:0000000000000000 $t
     /tmp/ccECQX6D.s:5646   .text.SD_DMAError:000000000000005c $d
     /tmp/ccECQX6D.s:5651   .text.SD_DMATxAbort:0000000000000000 $t
     /tmp/ccECQX6D.s:5656   .text.SD_DMATxAbort:0000000000000000 SD_DMATxAbort
     /tmp/ccECQX6D.s:5738   .text.SD_DMARxAbort:0000000000000000 $t
     /tmp/ccECQX6D.s:5743   .text.SD_DMARxAbort:0000000000000000 SD_DMARxAbort
     /tmp/ccECQX6D.s:5825   .text.HAL_SD_IRQHandler:0000000000000000 $t
     /tmp/ccECQX6D.s:5831   .text.HAL_SD_IRQHandler:0000000000000000 HAL_SD_IRQHandler
     /tmp/ccECQX6D.s:6198   .text.HAL_SD_IRQHandler:00000000000001c0 $d
     /tmp/ccECQX6D.s:6204   .text.HAL_SD_Abort:0000000000000000 $t
     /tmp/ccECQX6D.s:6210   .text.HAL_SD_Abort:0000000000000000 HAL_SD_Abort
     /tmp/ccECQX6D.s:6352   .text.HAL_SD_Abort_IT:0000000000000000 $t
     /tmp/ccECQX6D.s:6358   .text.HAL_SD_Abort_IT:0000000000000000 HAL_SD_Abort_IT
     /tmp/ccECQX6D.s:6521   .text.HAL_SD_Abort_IT:00000000000000a0 $d

UNDEFINED SYMBOLS
SDMMC_CmdGoIdleState
SDMMC_CmdOperCond
SDMMC_CmdAppCommand
SDMMC_CmdAppOperCommand
SDMMC_GetResponse
SDMMC_PowerState_OFF
SDMMC_ReadFIFO
SDMMC_WriteFIFO
HAL_GetTick
SDMMC_CmdBlockLength
SDMMC_ConfigData
ARM GAS  /tmp/ccECQX6D.s 			page 230


SDMMC_CmdStatusRegister
SDMMC_CmdSendSCR
SDMMC_CmdBusWidth
SDMMC_CmdSendStatus
SDMMC_CmdReadMultiBlock
SDMMC_CmdReadSingleBlock
SDMMC_CmdStopTransfer
SDMMC_CmdWriteMultiBlock
SDMMC_CmdWriteSingleBlock
HAL_DMA_Start_IT
SDMMC_CmdSDEraseStartAdd
SDMMC_CmdSDEraseEndAdd
SDMMC_CmdErase
SDMMC_GetPowerState
SDMMC_CmdSendCSD
SDMMC_CmdSelDesel
SDMMC_Init
SDMMC_CmdSendCID
SDMMC_CmdSetRelAdd
HAL_RCCEx_GetPeriphCLKFreq
SDMMC_PowerState_ON
HAL_Delay
HAL_DMA_Abort_IT
HAL_DMA_Abort
